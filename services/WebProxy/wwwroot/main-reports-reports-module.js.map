{"version":3,"sources":["./src/app/main/reports/balance-report/balance-report.component.html","./src/app/main/reports/costbasis/costbasis.component.html","./src/app/main/reports/position-market-value-appraisal/position-market-value-appraisal.component.html","./src/app/main/reports/reports.component.html","./src/app/main/reports/taxlots/taxlots.component.html","./src/app/main/reports/taxlotstatus/taxlotstatus.component.html","./src/app/main/reports/trial-balance/trial-balance.component.html","./src/app/main/reports/balance-report/balance-report.component.scss","./src/app/main/reports/balance-report/balance-report.component.ts","./src/app/main/reports/costbasis/costbasis.component.scss","./src/app/main/reports/costbasis/costbasis.component.ts","./src/app/main/reports/position-market-value-appraisal/position-market-value-appraisal.component.scss","./src/app/main/reports/position-market-value-appraisal/position-market-value-appraisal.component.ts","./src/app/main/reports/reports.component.scss","./src/app/main/reports/reports.component.ts","./src/app/main/reports/reports.module.ts","./src/app/main/reports/reports.routes.ts","./src/app/main/reports/taxlots/taxlots.component.scss","./src/app/main/reports/taxlots/taxlots.component.ts","./src/app/main/reports/taxlotstatus/taxlotstatus.component.scss","./src/app/main/reports/taxlotstatus/taxlotstatus.component.ts","./src/app/main/reports/trial-balance/trial-balance.component.scss","./src/app/main/reports/trial-balance/trial-balance.component.ts"],"names":[],"mappings":"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","file":"main-reports-reports-module.js","sourcesContent":["export default \"<!-- Table for Headings Starts -->\\r\\n<table class=\\\"table table-sm table-striped table-bordered table-secondary table-header\\\">\\r\\n  <thead>\\r\\n    <tr>\\r\\n      <th scope=\\\"col\\\" class=\\\"first-cell\\\">\\r\\n        {{tableHeader | titlecase}}</th>\\r\\n      <th scope=\\\"col\\\" class=\\\"other-cells center-position\\\">Debit</th>\\r\\n      <th scope=\\\"col\\\" class=\\\"other-cells center-position\\\">Credit</th>\\r\\n      <th scope=\\\"col\\\" class=\\\"other-cells center-position\\\">Balance</th>\\r\\n    </tr>\\r\\n  </thead>\\r\\n</table>\\r\\n<!-- Table for Headings Ends -->\\r\\n\\r\\n<!-- Trial Report Div Starts -->\\r\\n<div [ngStyle]=\\\"containerDiv\\\">\\r\\n  <!-- Table for Data Starts -->\\r\\n  <table class=\\\"table table-sm table-striped table-bordered\\\">\\r\\n    <tbody>\\r\\n      <tr *ngFor=\\\"let report of trialBalanceReport; let i = index\\\">\\r\\n        <td class=\\\"first-cell cell-style\\\"> {{ report.accountName }}</td>\\r\\n        <td [ngStyle]=\\\"{'background-size.%': !report.debitPercentage ? 0 : report.debitPercentage}\\\"\\r\\n          class=\\\"other-cells debit cell-style bg-size-100\\\">\\r\\n          {{ report.debit | number: '1.2-2' }}\\r\\n        </td>\\r\\n        <td [ngStyle]=\\\"{'background-size.%': !report.creditPercentage ? 0 : report.creditPercentage}\\\"\\r\\n          class=\\\"other-cells credit cell-style bg-size-100\\\">\\r\\n          {{ report.credit | number: '1.2-2' }}</td>\\r\\n        <td class=\\\"other-cells balance cell-style\\\">\\r\\n          {{ report.balance | number: '1.2-2' }}</td>\\r\\n      </tr>\\r\\n    </tbody>\\r\\n  </table>\\r\\n  <!-- Table for Data Ends -->\\r\\n</div>\\r\\n<!-- Trial Report Div Ends -->\\r\\n\\r\\n<!-- Table for Footer Starts -->\\r\\n<table class=\\\"table table-sm table-striped table-bordered table-secondary table-footer\\\">\\r\\n  <tfoot>\\r\\n    <tr>\\r\\n      <td class=\\\"first-cell\\\">Total</td>\\r\\n      <td class=\\\"other-cells end-position\\\">\\r\\n        {{ trialBalanceReportStats?.totalDebit | number: '1.2-2' }}</td>\\r\\n      <td class=\\\"other-cells end-position\\\">\\r\\n        {{ trialBalanceReportStats?.totalCredit | number: '1.2-2' }}</td>\\r\\n      <td class=\\\"other-cells end-position\\\">\\r\\n        {{ (trialBalanceReportStats?.totalCredit - trialBalanceReportStats?.totalDebit) | number: '1.2-2' }}\\r\\n      </td>\\r\\n    </tr>\\r\\n  </tfoot>\\r\\n</table>\\r\\n<!-- Table for Footer Ends -->\"","export default \"<!-- Hide Grid Div -->\\r\\n<div *ngIf=\\\"hideGrid\\\" #logScroll [ngStyle]=\\\"processingMsgDiv\\\">\\r\\n  <div class=\\\"d-flex align-items-center justify-content-center\\\">\\r\\n    <h1> Posting Engine is Running. Please Wait. </h1>\\r\\n  </div>\\r\\n</div>\\r\\n<!-- Hide Grid Div Ends -->\\r\\n\\r\\n<!-- Reports Main Div Starts -->\\r\\n<div [ngStyle]=\\\"{ 'display': hideGrid ? 'none' : 'initial' } \\\">\\r\\n\\r\\n  <!-- Filters Div Starts -->\\r\\n  <div class=\\\"row\\\">\\r\\n\\r\\n    <!-- Funds Dropdown Div Starts -->\\r\\n    <div class=\\\"col-auto\\\">\\r\\n      <select class=\\\"form-control\\\" [(ngModel)]=\\\"fund\\\" (ngModelChange)=\\\"changeFund($event)\\\">\\r\\n        <option selected>All Funds</option>\\r\\n        <option *ngFor=\\\"let fund of funds\\\" [ngValue]=\\\"fund.fundCode\\\">\\r\\n          {{ fund.fundCode }}\\r\\n        </option>\\r\\n      </select>\\r\\n    </div>\\r\\n    <!-- Funds Dropdown Div Ends -->\\r\\n\\r\\n    <!-- Symbol Filter -->\\r\\n    <div class=\\\"col-auto\\\">\\r\\n      <input type=\\\"text\\\" autocomplete=\\\"off\\\" placeholder=\\\"Filter by Symbol\\\" name=\\\"symbol\\\" [(ngModel)]=\\\"filterBySymbol\\\"\\r\\n        (ngModelChange)=\\\"ngModelChangeSymbol($event)\\\" (keyup)=\\\"onSymbolKey($event)\\\" class=\\\"form-control\\\" />\\r\\n    </div>\\r\\n    <!-- Symbol Filter Ends -->\\r\\n\\r\\n    <!-- Date Picker Div Starts -->\\r\\n    <div class=\\\"col-auto\\\">\\r\\n      <form>\\r\\n        <input ngxDaterangepickerMd class=\\\"form-control\\\" type=\\\"text\\\" placeholder=\\\"Choose date\\\"\\r\\n          [(ngModel)]=\\\"selectedDate\\\" (ngModelChange)=\\\"changeDate($event)\\\" name=\\\" selectedDate\\\"\\r\\n          [isInvalidDate]=\\\"isInvalidDate.bind(this)\\\" [singleDatePicker]=\\\"true\\\" [autoApply]=\\\"true\\\" />\\r\\n      </form>\\r\\n    </div>\\r\\n    <!-- Date Picker Div Ends -->\\r\\n\\r\\n    <!-- Clear Button Div Starts -->\\r\\n    <div class=\\\"col-auto\\\">\\r\\n      <button (click)=\\\"clearFilters()\\\" class=\\\"btn btn-pa\\\" tooltip=\\\"Clear\\\" placement=\\\"top\\\">\\r\\n        <i class=\\\"fa fa-remove\\\"></i>\\r\\n      </button>\\r\\n    </div>\\r\\n    <!-- Clear Button Div Ends -->\\r\\n\\r\\n    <!-- Util Buttons Div Starts -->\\r\\n    <div class=\\\"col-auto ml-auto\\\">\\r\\n\\r\\n      <!-- Refresh Button Div Starts -->\\r\\n      <div class=\\\"mr-2 d-inline-block\\\">\\r\\n        <button (click)=\\\"refreshReport()\\\" class=\\\"btn btn-pa\\\" tooltip=\\\"Refresh\\\" placement=\\\"top\\\">\\r\\n          <i class=\\\"fa fa-refresh\\\"></i></button>\\r\\n      </div>\\r\\n      <!-- Refresh Button Div Ends -->\\r\\n\\r\\n      <!-- Export to Excel Button -->\\r\\n      <div class=\\\"mr-2 d-inline-block\\\">\\r\\n        <button (click)=\\\"onBtExport()\\\" class=\\\"btn btn-pa\\\" tooltip=\\\"Export to Excel\\\" placement=\\\"top\\\">\\r\\n          <i class=\\\"fa fa-arrow-circle-o-down\\\"></i>\\r\\n        </button>\\r\\n      </div>\\r\\n      <!-- Export to Excel Button Ends -->\\r\\n\\r\\n      <!-- Expand/Collapse Button -->\\r\\n      <div class=\\\"mr-3 d-inline-block\\\">\\r\\n        <ng-template #tooltipTemplate>{{costBasisConfig.chartsView ? 'Expand' : 'Collapse'}}</ng-template>\\r\\n        <button class=\\\"btn btn-pa\\\" [tooltip]=\\\"tooltipTemplate\\\" placement=\\\"top\\\"\\r\\n          (click)=\\\"costBasisConfig.chartsView = !costBasisConfig.chartsView\\\">\\r\\n          <i class=\\\"fa\\\"\\r\\n            [ngClass]=\\\"{'fa-arrow-right': costBasisConfig.chartsView, 'fa-arrow-left': !costBasisConfig.chartsView}\\\"></i>\\r\\n        </button>\\r\\n      </div>\\r\\n      <!-- Expand/Collapse Button Ends -->\\r\\n\\r\\n    </div>\\r\\n    <!-- Util Buttons Div Ends -->\\r\\n\\r\\n  </div>\\r\\n  <!-- Filters Div Ends -->\\r\\n\\r\\n  <!-- Grid/Charts Row Starts -->\\r\\n  <div [ngStyle]=\\\"styleForHeight\\\">\\r\\n\\r\\n    <!-- Main Split Row Starts -->\\r\\n    <div class=\\\"split-area row h-100\\\">\\r\\n\\r\\n      <!-- AS Split Main Container -->\\r\\n      <as-split class=\\\"pl-15 pr-15\\\" disabled=\\\"false\\\" direction=\\\"horizontal\\\"\\r\\n        [useTransition]=\\\"costBasisConfig.useTransition\\\" (dragEnd)=\\\"applyPageLayout($event)\\\"\\r\\n        (transitionEnd)=\\\"applyPageLayout($event)\\\">\\r\\n\\r\\n        <!-- Cost Basis Split Area -->\\r\\n        <as-split-area [visible]=\\\"costBasisConfig.costBasisView\\\" [size]=\\\"costBasisConfig.costBasisSize\\\" order=\\\"1\\\">\\r\\n\\r\\n          <!-- Cost Basis Grid -->\\r\\n          <ag-grid-angular class=\\\"w-100 h-50 ag-theme-balham\\\" [gridOptions]=\\\"gridOptions\\\">\\r\\n          </ag-grid-angular>\\r\\n\\r\\n          <!-- Time Series Grid -->\\r\\n          <ag-grid-angular class=\\\"w-100 h-50 ag-theme-balham\\\" [gridOptions]=\\\"timeseriesOptions\\\">\\r\\n          </ag-grid-angular>\\r\\n\\r\\n        </as-split-area>\\r\\n        <!-- Cost Basis Split Area Ends -->\\r\\n\\r\\n        <!-- Charts Split Area -->\\r\\n        <as-split-area [visible]=\\\"costBasisConfig.chartsView\\\" [size]=\\\"costBasisConfig.chartsSize\\\" order=\\\"2\\\">\\r\\n\\r\\n          <!-- Charts Message -->\\r\\n          <div *ngIf=\\\"!chartData\\\" class=\\\"w-100 h-100 d-flex justify-content-center align-items-center\\\">\\r\\n            <p class=\\\"h4 font-weight-light\\\">Please select a row for Visualization</p>\\r\\n          </div>\\r\\n\\r\\n          <!-- Charts Wrapper -->\\r\\n          <div *ngIf=\\\"chartData && costBasisConfig.chartsView\\\" class=\\\"line-chart-wrapper d-flex flex-wrap\\\">\\r\\n\\r\\n            <!-- Charts Tab Set -->\\r\\n            <tabset class=\\\"w-100 ml-3\\\">\\r\\n\\r\\n              <tab heading=\\\"Realized/Unrealized P&L\\\">\\r\\n\\r\\n                <div class=\\\"row\\\">\\r\\n\\r\\n                  <div class=\\\"w-100 col-6 pt-10\\\">\\r\\n                    <div class=\\\"chart-title\\\">Unrealized P&L</div>\\r\\n                    <eikos-line-plot class=\\\"d-block chart\\\" [propID]=\\\"'unrealizedData'\\\" [lineColors]=\\\"lineColors\\\"\\r\\n                      [dateTimeFormat]=\\\"'YYYY-MM-DD'\\\" [data]=\\\"unrealizedData\\\" [xAxisLabel]=\\\"'Date'\\\" [yAxisLabel]=\\\"''\\\"\\r\\n                      [divHeight]=\\\"divHeight\\\" [threshold]=0 [divWidth]=\\\"divWidth\\\">\\r\\n                    </eikos-line-plot>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"w-100 col-6 pt-10\\\">\\r\\n                    <div class=\\\"chart-title\\\">Realized P&L</div>\\r\\n                    <eikos-line-plot class=\\\"d-block chart\\\" [propID]=\\\"'realalizedData'\\\" [lineColors]=\\\"lineColors\\\"\\r\\n                      [dateTimeFormat]=\\\"'YYYY-MM-DD'\\\" [threshold]=0 [data]=\\\"realizedData\\\" [xAxisLabel]=\\\"'Date'\\\"\\r\\n                      [yAxisLabel]=\\\"''\\\" [divHeight]=\\\"divHeight\\\" [divWidth]=\\\"divWidth\\\">\\r\\n                    </eikos-line-plot>\\r\\n                  </div>\\r\\n\\r\\n                </div>\\r\\n\\r\\n              </tab>\\r\\n\\r\\n              <tab heading=\\\"Measure\\\">\\r\\n\\r\\n                <div class=\\\"row\\\">\\r\\n\\r\\n                  <div class=\\\"w-100 col-6 pt-10\\\">\\r\\n                    <div class=\\\" chart-title\\\">Investment at Cost</div>\\r\\n                    <eikos-line-plot class=\\\"d-block chart\\\" [propID]=\\\"propIDBalance\\\" [lineColors]=\\\"lineColors\\\"\\r\\n                      [data]=\\\"bData\\\" [dateTimeFormat]=\\\"'YYYY-MM-DD'\\\" [threshold]=0 [xAxisLabel]=\\\"'Date'\\\"\\r\\n                      [yAxisLabel]=\\\"''\\\" [divHeight]=\\\"divHeight\\\" [divWidth]=\\\"divWidth\\\">\\r\\n                    </eikos-line-plot>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"w-100 col-6 pt-10\\\">\\r\\n                    <div class=\\\"chart-title\\\">Quantity</div>\\r\\n                    <eikos-line-plot class=\\\"d-block chart\\\" [propID]=\\\"propIDQuantity\\\" [lineColors]=\\\"lineColors\\\"\\r\\n                      [data]=\\\"qData\\\" [dateTimeFormat]=\\\"'YYYY-MM-DD'\\\" [threshold]=0 [xAxisLabel]=\\\"'Date'\\\"\\r\\n                      [yAxisLabel]=\\\"''\\\" [divHeight]=\\\"divHeight\\\" [divWidth]=\\\"divWidth\\\">\\r\\n                    </eikos-line-plot>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"w-100 col-6 pt-10\\\">\\r\\n                    <div class=\\\"chart-title\\\">Exposure (at Cost)</div>\\r\\n                    <eikos-line-plot class=\\\"d-block chart\\\" [propID]=\\\"propIDCostBasis\\\" [lineColors]=\\\"lineColors\\\"\\r\\n                      [data]=\\\"cbData\\\" [dateTimeFormat]=\\\"'YYYY-MM-DD'\\\" [threshold]=0 [xAxisLabel]=\\\"'Date'\\\"\\r\\n                      [yAxisLabel]=\\\"''\\\" [divHeight]=\\\"divHeight\\\" [divWidth]=\\\"divWidth\\\">\\r\\n                    </eikos-line-plot>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"w-100 col-6 pt-10\\\">\\r\\n                    <div class=\\\"chart-title\\\">Net P&L</div>\\r\\n                    <eikos-line-plot class=\\\"d-block chart\\\" [propID]=\\\"'netpnlData'\\\" [lineColors]=\\\"lineColors\\\"\\r\\n                      [data]=\\\"netpnlData\\\" [dateTimeFormat]=\\\"'YYYY-MM-DD'\\\" [threshold]=0 [xAxisLabel]=\\\"'Date'\\\"\\r\\n                      [yAxisLabel]=\\\"''\\\" [divHeight]=\\\"divHeight\\\" [divWidth]=\\\"divWidth\\\">\\r\\n                    </eikos-line-plot>\\r\\n                  </div>\\r\\n\\r\\n                  <div *ngIf=\\\"marketPriceChart\\\" class=\\\"w-100\\\">\\r\\n                    <app-calculation-graphs class=\\\"w-50 h-75\\\" [chartObject]=\\\"graphObject\\\" [mode]=\\\"'single'\\\">\\r\\n                    </app-calculation-graphs>\\r\\n                  </div>\\r\\n\\r\\n                </div>\\r\\n\\r\\n              </tab>\\r\\n\\r\\n            </tabset>\\r\\n            <!-- Charts Tab Set Ends -->\\r\\n\\r\\n          </div>\\r\\n          <!-- Charts Wrapper Ends -->\\r\\n\\r\\n        </as-split-area>\\r\\n        <!-- Charts Split Area Ends -->\\r\\n\\r\\n      </as-split>\\r\\n      <!-- AS Split Main Container Ends -->\\r\\n\\r\\n    </div>\\r\\n    <!-- Main Split Row Ends -->\\r\\n\\r\\n  </div>\\r\\n  <!-- Grid/Charts Row Ends -->\\r\\n\\r\\n</div>\\r\\n<!-- Reports Main Div Ends-->\\r\\n\\r\\n<app-create-security #securityModal (modalClose)=\\\"closeSecurityModal()\\\"></app-create-security>\"","export default \"<!-- Hide Grid Div -->\\r\\n<div *ngIf=\\\"hideGrid\\\" #logScroll [ngStyle]=\\\"processingMsgDiv\\\">\\r\\n    <div class=\\\"d-flex align-items-center justify-content-center\\\">\\r\\n        <h1> Posting Engine is Running. Please Wait. </h1>\\r\\n    </div>\\r\\n</div>\\r\\n<!-- Hide Grid Div Ends -->\\r\\n\\r\\n<!-- Reports Main Div Starts -->\\r\\n<div [ngStyle]=\\\"{ 'display': hideGrid ? 'none' : 'initial' } \\\">\\r\\n\\r\\n    <!-- Filters Div Starts -->\\r\\n    <div class=\\\"row\\\">\\r\\n\\r\\n        <!-- Funds Dropdown Div Starts -->\\r\\n        <div class=\\\"col-auto\\\">\\r\\n            <select class=\\\"form-control\\\" [(ngModel)]=\\\"fund\\\" (ngModelChange)=\\\"changeFund($event)\\\">\\r\\n                <option selected>All Funds</option>\\r\\n                <option *ngFor=\\\"let fund of funds\\\" [ngValue]=\\\"fund.fundCode\\\">\\r\\n                    {{ fund.fundCode }}\\r\\n                </option>\\r\\n            </select>\\r\\n        </div>\\r\\n        <!-- Funds Dropdown Div Ends -->\\r\\n\\r\\n        <!-- Symbol Filter -->\\r\\n        <div class=\\\"col-auto\\\">\\r\\n            <input type=\\\"text\\\" autocomplete=\\\"off\\\" placeholder=\\\"Filter by Symbol\\\" name=\\\"symbol\\\"\\r\\n                [(ngModel)]=\\\"filterBySymbol\\\" (ngModelChange)=\\\"ngModelChangeSymbol($event)\\\" (keyup)=\\\"onSymbolKey($event)\\\"\\r\\n                class=\\\"form-control\\\" />\\r\\n        </div>\\r\\n        <!-- Symbol Filter Ends -->\\r\\n\\r\\n        <!-- Date Picker Div Starts -->\\r\\n        <div class=\\\"col-auto\\\">\\r\\n            <form>\\r\\n                <input ngxDaterangepickerMd class=\\\"form-control\\\" type=\\\"text\\\" placeholder=\\\"Choose date\\\"\\r\\n                    [(ngModel)]=\\\"selectedDate\\\" (ngModelChange)=\\\"changeDate($event)\\\" name=\\\" selectedDate\\\"\\r\\n                    [singleDatePicker]=\\\"true\\\" [autoApply]=\\\"true\\\" [maxDate]=\\\"maxDate\\\" />\\r\\n            </form>\\r\\n        </div>\\r\\n        <!-- Date Picker Div Ends -->\\r\\n\\r\\n        <!-- Clear Button Div Starts -->\\r\\n        <div class=\\\"col-auto\\\">\\r\\n            <button (click)=\\\"clearFilters()\\\" class=\\\"btn btn-pa\\\" tooltip=\\\"Clear\\\" placement=\\\"top\\\">\\r\\n                <i class=\\\"fa fa-remove\\\"></i>\\r\\n            </button>\\r\\n        </div>\\r\\n        <!-- Clear Button Div Ends -->\\r\\n\\r\\n        <!-- Util Buttons Div Starts -->\\r\\n        <div class=\\\"col-auto ml-auto\\\">\\r\\n\\r\\n            <!-- Refresh Button Div Starts -->\\r\\n            <div class=\\\"mr-2 d-inline-block\\\">\\r\\n                <button (click)=\\\"refreshReport()\\\" class=\\\"btn btn-pa\\\" tooltip=\\\"Refresh\\\" placement=\\\"top\\\">\\r\\n                    <i class=\\\"fa fa-refresh\\\"></i></button>\\r\\n            </div>\\r\\n            <!-- Refresh Button Div Ends -->\\r\\n\\r\\n            <!-- Export to Excel Button -->\\r\\n            <div class=\\\"mr-2 d-inline-block\\\">\\r\\n                <button (click)=\\\"onBtExport()\\\" class=\\\"btn btn-pa\\\" tooltip=\\\"Export to Excel\\\" placement=\\\"top\\\">\\r\\n                    <i class=\\\"fa fa-arrow-circle-o-down\\\"></i>\\r\\n                </button>\\r\\n            </div>\\r\\n            <!-- Export to Excel Button Ends -->\\r\\n\\r\\n        </div>\\r\\n        <!-- Util Buttons Div Ends -->\\r\\n\\r\\n    </div>\\r\\n    <!-- Filters Div Ends -->\\r\\n\\r\\n    <!-- Grid/Charts Row Starts -->\\r\\n    <div [ngStyle]=\\\"styleForHeight\\\">\\r\\n\\r\\n        <!-- Main Split Row Starts -->\\r\\n        <div class=\\\"split-area row h-100\\\">\\r\\n\\r\\n            <!-- AS Split Main Container -->\\r\\n            <as-split class=\\\"pl-15 pr-15\\\" disabled=\\\"false\\\" direction=\\\"horizontal\\\" [useTransition]=\\\"true\\\">\\r\\n\\r\\n                <!-- Cost Basis Split Area -->\\r\\n                <as-split-area [visible]=\\\"true\\\" [size]=\\\"50\\\" order=\\\"1\\\">\\r\\n\\r\\n                    <!-- Cost Basis Grid -->\\r\\n                    <ag-grid-angular class=\\\"w-100 h-100 ag-theme-balham\\\" [gridOptions]=\\\"gridOptions\\\">\\r\\n                    </ag-grid-angular>\\r\\n\\r\\n                </as-split-area>\\r\\n                <!-- Cost Basis Split Area Ends -->\\r\\n\\r\\n                <!-- Charts Split Area -->\\r\\n                <as-split-area [visible]=\\\"false\\\" [size]=\\\"50\\\" order=\\\"2\\\">\\r\\n\\r\\n                </as-split-area>\\r\\n                <!-- Charts Split Area Ends -->\\r\\n\\r\\n            </as-split>\\r\\n            <!-- AS Split Main Container Ends -->\\r\\n\\r\\n        </div>\\r\\n        <!-- Main Split Row Ends -->\\r\\n\\r\\n    </div>\\r\\n    <!-- Grid/Charts Row Ends -->\\r\\n\\r\\n</div>\\r\\n<!-- Reports Main Div Ends-->\\r\\n\\r\\n<app-create-security #securityModal (modalClose)=\\\"closeSecurityModal()\\\"></app-create-security>\"","export default \"<!-- Hide Grid Div -->\\r\\n<div *ngIf=\\\"hideGrid\\\" #logScroll [ngStyle]=\\\"processingMsgDiv\\\">\\r\\n  <div class=\\\"d-flex align-items-center justify-content-center\\\">\\r\\n    <h1> Posting Engine is Running. Please Wait. </h1>\\r\\n  </div>\\r\\n</div>\\r\\n<!-- Hide Grid Div Ends -->\\r\\n\\r\\n<!-- Reports Starts -->\\r\\n<div [ngStyle]=\\\"{ 'display': hideGrid ? 'none' : 'initial' } \\\">\\r\\n\\r\\n  <!-- Tab View Starts -->\\r\\n  <tabset class=\\\"tab-color\\\">\\r\\n\\r\\n    <tab heading=\\\"Cost Basis\\\" (selectTab)=\\\"activateCostBasisReport()\\\">\\r\\n      <div [ngStyle]=\\\"style\\\">\\r\\n        <rep-costbasis *ngIf=\\\"costBasisReportActive\\\"></rep-costbasis>\\r\\n      </div>\\r\\n    </tab>\\r\\n\\r\\n    <tab heading=\\\"Tax Lots Open/Closed\\\" (selectTab)=\\\"activateTaxLotReport()\\\">\\r\\n      <div [ngStyle]=\\\"style\\\">\\r\\n        <rep-taxlotstatus *ngIf=\\\"taxLotReportActive\\\"></rep-taxlotstatus>\\r\\n      </div>\\r\\n    </tab>\\r\\n\\r\\n    <tab heading=\\\"Trial Balance\\\" (selectTab)=\\\"activateTrialBalanceReport()\\\">\\r\\n      <div [ngStyle]=\\\"style\\\">\\r\\n        <rep-trial-balance *ngIf=\\\"trialBalanceReportActive\\\"></rep-trial-balance>\\r\\n      </div>\\r\\n    </tab>\\r\\n\\r\\n    <tab heading=\\\"Position/Market Value Appraisal\\\" (selectTab)=\\\"activatePositionMarketValueAppraisalReport()\\\">\\r\\n      <div [ngStyle]=\\\"style\\\">\\r\\n        <app-position-market-value-appraisal *ngIf=\\\"positionMarketValueAppraisalActive\\\">\\r\\n        </app-position-market-value-appraisal>\\r\\n      </div>\\r\\n    </tab>\\r\\n\\r\\n  </tabset>\\r\\n  <!-- Tab View Ends -->\\r\\n\\r\\n</div>\\r\\n<!-- Reports Ends-->\"","export default \"<!-- Hide Grid Div -->\\r\\n<div *ngIf=\\\"hideGrid\\\" #logScroll [ngStyle]=\\\"processingMsgDiv\\\">\\r\\n  <div class=\\\"d-flex align-items-center justify-content-center\\\">\\r\\n    <h1> Posting Engine is Running. Please Wait. </h1>\\r\\n  </div>\\r\\n</div>\\r\\n<!-- Hide Grid Div Ends -->\\r\\n\\r\\n<!-- Reports Main Div Starts -->\\r\\n<div [ngStyle]=\\\"{ 'display': hideGrid ? 'none' : 'initial' } \\\">\\r\\n  <!-- Filters Div Starts -->\\r\\n  <div class=\\\"row \\\">\\r\\n    <!-- Funds Dropdown Div Starts -->\\r\\n    <div class=\\\"col-md-2\\\">\\r\\n      <select class=\\\"form-control\\\" [(ngModel)]=\\\"fund\\\" (ngModelChange)=\\\"changeFund($event)\\\">\\r\\n        <option selected>All Funds</option>\\r\\n        <option *ngFor=\\\"let fund of funds\\\" [ngValue]=\\\"fund.fundCode\\\">\\r\\n          {{ fund.fundCode }}\\r\\n        </option>\\r\\n      </select>\\r\\n    </div>\\r\\n    <!-- Funds Dropdown Div Ends -->\\r\\n\\r\\n    <!-- DateRange Label Div Starts -->\\r\\n    <div class=\\\"font-weight-bold\\\">\\r\\n      <label class=\\\"text-right\\\"> {{ DateRangeLabel }} </label>\\r\\n    </div>\\r\\n    <!-- DateRange Label Div Ends -->\\r\\n\\r\\n    <!-- Date Picker Div Starts -->\\r\\n    <div class=\\\"col-md-5\\\">\\r\\n      <form>\\r\\n        <input ngxDaterangepickerMd class=\\\"form-control\\\" type=\\\"text\\\" autocomplete=\\\"off\\\" placeholder=\\\"Choose date\\\"\\r\\n          [(ngModel)]=\\\"selected\\\" name=\\\"selectedDaterange\\\" [ranges]=\\\"ranges\\\" [showClearButton]=\\\"true\\\"\\r\\n          [alwaysShowCalendars]=\\\"true\\\" (ngModelChange)=\\\"changeDate($event)\\\" [keepCalendarOpeningWithRange]=\\\"true\\\" />\\r\\n      </form>\\r\\n    </div>\\r\\n    <!-- Date Picker Div Ends -->\\r\\n\\r\\n    <!-- Clear Button Div Starts -->\\r\\n    <div class=\\\"col-md-3\\\">\\r\\n      <button (click)=\\\"clearFilters()\\\" class=\\\"btn btn-pa\\\" tooltip=\\\"Clear\\\" placement=\\\"top\\\">\\r\\n        <i class=\\\"fa fa-remove\\\"></i>\\r\\n      </button>\\r\\n    </div>\\r\\n    <!-- Clear Button Div Ends -->\\r\\n\\r\\n    <!----- Buttons Div Starts ----->\\r\\n    <div class=\\\"ml-auto\\\">\\r\\n      <!-- Refresh Button Div Starts -->\\r\\n      <div class=\\\"mr-2 d-inline-block\\\">\\r\\n        <button (click)=\\\"refreshReport()\\\" class=\\\"btn btn-pa\\\" tooltip=\\\"Refresh\\\" placement=\\\"top\\\">\\r\\n          <i class=\\\"fa fa-refresh\\\"></i></button>\\r\\n      </div>\\r\\n      <!-- Refresh Button Div Ends -->\\r\\n      <!-- Export to Excel Button -->\\r\\n      <div class=\\\"mr-3 d-inline-block\\\">\\r\\n        <button (click)=\\\"onBtExport()\\\" class=\\\"btn btn-pa\\\" tooltip=\\\"Export to Excel\\\" placement=\\\"top\\\">\\r\\n          <i class=\\\"fa fa-arrow-circle-o-down\\\"></i>\\r\\n        </button>\\r\\n      </div>\\r\\n    </div>\\r\\n    <!----- Buttons Div Ends ----->\\r\\n  </div>\\r\\n  <!-- Filters Div Ends -->\\r\\n\\r\\n  <!-- Report Grid Starts -->\\r\\n  <div [ngStyle]=\\\"styleForHeight\\\">\\r\\n    <ag-grid-angular class=\\\"w-50 h-100 ag-theme-balham\\\" [gridOptions]=\\\"gridOptions\\\">\\r\\n    </ag-grid-angular>\\r\\n  </div>\\r\\n  <!-- Report Grid Ends -->\\r\\n</div>\\r\\n<!-- Reports Main Div Ends-->\"","export default \"<!-- Hide Grid Div -->\\r\\n<div *ngIf=\\\"hideGrid\\\" #logScroll [ngStyle]=\\\"processingMsgDiv\\\">\\r\\n  <div class=\\\"d-flex align-items-center justify-content-center\\\">\\r\\n    <h1> Posting Engine is Running. Please Wait. </h1>\\r\\n  </div>\\r\\n</div>\\r\\n<!-- Hide Grid Div Ends -->\\r\\n\\r\\n<!-- Loader -->\\r\\n<div *ngIf=\\\"isLoading\\\" class=\\\"loader-wrapper mtop-15\\\">\\r\\n  <lp-loading></lp-loading>\\r\\n  <!-- Loader -->\\r\\n</div>\\r\\n\\r\\n<!-- Reports Main Div Starts -->\\r\\n<div [hidden]=\\\"isLoading\\\" [ngStyle]=\\\"{ 'display': hideGrid ? 'none' : 'initial' } \\\">\\r\\n  <!-- Filters Div Starts -->\\r\\n  <div class=\\\"row \\\">\\r\\n    <!-- Funds Dropdown Div Starts -->\\r\\n    <div class=\\\"col-auto\\\">\\r\\n      <select class=\\\"form-control\\\" [(ngModel)]=\\\"fund\\\" (ngModelChange)=\\\"changeFund($event)\\\">\\r\\n        <option selected>All Funds</option>\\r\\n        <option *ngFor=\\\"let fund of funds\\\" [ngValue]=\\\"fund.fundCode\\\">\\r\\n          {{ fund.fundCode }}\\r\\n        </option>\\r\\n      </select>\\r\\n      <!-- Funds Dropdown Div Ends -->\\r\\n    </div>\\r\\n\\r\\n    <!-- Symbol filter -->\\r\\n    <div class=\\\"col-auto\\\">\\r\\n      <input type=\\\"text\\\" autocomplete=\\\"off\\\" placeholder=\\\"Filter by Symbol\\\" name=\\\"symbol\\\" [(ngModel)]=\\\"filterBySymbol\\\"\\r\\n        (ngModelChange)=\\\"ngModelChangeSymbol($event)\\\" (keyup)=\\\"onSymbolKey($event)\\\" class=\\\"form-control\\\" />\\r\\n    </div>\\r\\n\\r\\n    <!-- DateRange Label Div Starts -->\\r\\n    <div class=\\\"font-weight-bold\\\">\\r\\n      <label class=\\\"text-right\\\"> {{ DateRangeLabel }} </label>\\r\\n    </div>\\r\\n    <!-- DateRange Label Div Ends -->\\r\\n\\r\\n    <!-- Date Picker Div Starts -->\\r\\n    <div class=\\\"col-auto\\\">\\r\\n      <form>\\r\\n        <input ngxDaterangepickerMd class=\\\"form-control\\\" type=\\\"text\\\" autocomplete=\\\"off\\\" placeholder=\\\"Choose date\\\"\\r\\n          [(ngModel)]=\\\"selected\\\" name=\\\"selectedDaterange\\\" (ngModelChange)=\\\"changeDate($event)\\\" [singleDatePicker]=\\\"true\\\"\\r\\n          [autoApply]=\\\"true\\\" [maxDate]=\\\"maxDate\\\" />\\r\\n      </form>\\r\\n    </div>\\r\\n    <!-- Date Picker Div Ends -->\\r\\n\\r\\n    <!-- Clear Button Div Starts -->\\r\\n    <div class=\\\"col-auto\\\">\\r\\n      <button (click)=\\\"clearFilters()\\\" class=\\\"btn btn-pa\\\" tooltip=\\\"Clear\\\" placement=\\\"top\\\">\\r\\n        <i class=\\\"fa fa-remove\\\"></i>\\r\\n      </button>\\r\\n    </div>\\r\\n    <!-- Clear Button Div Ends -->\\r\\n\\r\\n    <!-- Buttons Div Starts -->\\r\\n    <div class=\\\"ml-auto\\\">\\r\\n      <!-- Refresh Button Div Starts -->\\r\\n      <div class=\\\"mr-2 d-inline-block\\\">\\r\\n        <button (click)=\\\"refreshReport()\\\" class=\\\"btn btn-pa\\\" tooltip=\\\"Refresh\\\" placement=\\\"top\\\">\\r\\n          <i class=\\\"fa fa-refresh\\\"></i></button>\\r\\n      </div>\\r\\n      <!-- Refresh Button Div Ends -->\\r\\n      <!-- Export to Excel Button -->\\r\\n      <div class=\\\"mr-2 d-inline-block\\\">\\r\\n        <button (click)=\\\"onBtExport()\\\" class=\\\"btn btn-pa\\\" tooltip=\\\"Export to Excel\\\" placement=\\\"top\\\">\\r\\n          <i class=\\\"fa fa-arrow-circle-o-down\\\"></i>\\r\\n        </button>\\r\\n      </div>\\r\\n      <!-- Export to Excel Button Ends -->\\r\\n\\r\\n      <!-- Expand/Collapse Button -->\\r\\n      <div class=\\\"d-inline-block\\\"\\r\\n        [ngClass]=\\\"{'mr-2': taxLotStatusHorizontalConfig.closingTaxLotView, 'mr-3': !taxLotStatusHorizontalConfig.closingTaxLotView}\\\">\\r\\n        <ng-template #tooltipTemplate>{{taxLotStatusHorizontalConfig.closingTaxLotView ? 'Expand' : 'Collapse'}}\\r\\n        </ng-template>\\r\\n        <button\\r\\n          (click)=\\\"taxLotStatusHorizontalConfig.closingTaxLotView = !taxLotStatusHorizontalConfig.closingTaxLotView\\\"\\r\\n          class=\\\"btn btn-pa\\\" [tooltip]=\\\"tooltipTemplate\\\" placement=\\\"top\\\">\\r\\n          <i class=\\\"fa\\\"\\r\\n            [ngClass]=\\\"{'fa-arrow-right': taxLotStatusHorizontalConfig.closingTaxLotView, 'fa-arrow-left': !taxLotStatusHorizontalConfig.closingTaxLotView}\\\"></i>\\r\\n        </button>\\r\\n      </div>\\r\\n      <!-- Expand/Collapse Button Ends -->\\r\\n\\r\\n      <!-- Vertical Expand/Collapse Button -->\\r\\n      <div *ngIf=\\\"taxLotStatusHorizontalConfig.closingTaxLotView\\\" class=\\\"d-inline-block\\\"\\r\\n        [ngClass]=\\\"{'mr-3': taxLotStatusHorizontalConfig.closingTaxLotView, 'mr-2': !taxLotStatusHorizontalConfig.closingTaxLotView}\\\">\\r\\n        <ng-template #tooltipTemplate>{{taxLotStatusVerticalConfig.journalView ? 'Expand' : 'Collapse'}}</ng-template>\\r\\n        <button (click)=\\\"taxLotStatusVerticalConfig.journalView = !taxLotStatusVerticalConfig.journalView\\\"\\r\\n          class=\\\"btn btn-pa\\\" [tooltip]=\\\"tooltipTemplate\\\" placement=\\\"top\\\">\\r\\n          <i class=\\\"fa\\\"\\r\\n            [ngClass]=\\\"{'fa-arrow-down': taxLotStatusVerticalConfig.journalView, 'fa-arrow-up': !taxLotStatusVerticalConfig.journalView}\\\"></i>\\r\\n        </button>\\r\\n      </div>\\r\\n      <!-- Vertical Expand/Collapse Button Ends -->\\r\\n\\r\\n    </div>\\r\\n    <!-- Buttons Div Ends -->\\r\\n\\r\\n  </div>\\r\\n  <!-- Filters Div Ends -->\\r\\n\\r\\n  <!-- Report Grid Starts -->\\r\\n  <div [ngStyle]=\\\"styleForHeight\\\">\\r\\n\\r\\n    <!-- Main Split Row Starts -->\\r\\n    <div class=\\\"split-area row h-100\\\">\\r\\n\\r\\n      <!-- AS Split Main Container -->\\r\\n      <as-split class=\\\"pl-15 pr-15\\\" disabled=\\\"false\\\" direction=\\\"horizontal\\\"\\r\\n        [useTransition]=\\\"taxLotStatusHorizontalConfig.useTransition\\\" (dragEnd)=\\\"applyHorizontalPageLayout($event)\\\"\\r\\n        (transitionEnd)=\\\"applyHorizontalPageLayout($event)\\\">\\r\\n\\r\\n        <!-- Tax Lot Split Area -->\\r\\n        <as-split-area [visible]=\\\"taxLotStatusHorizontalConfig.taxLotStatusView\\\"\\r\\n          [size]=\\\"taxLotStatusHorizontalConfig.taxLotStatusSize\\\" order=\\\"1\\\">\\r\\n          <ag-grid-angular class=\\\"w-100 h-100 ag-theme-balham\\\" (rowSelected)=\\\"onRowSelected($event)\\\"\\r\\n            [gridOptions]=\\\"gridOptions\\\">\\r\\n          </ag-grid-angular>\\r\\n        </as-split-area>\\r\\n        <!-- Tax Lot Split Area Ends -->\\r\\n\\r\\n        <!-- Closing Tax Lot Split Area -->\\r\\n        <as-split-area [visible]=\\\"taxLotStatusHorizontalConfig.closingTaxLotView\\\"\\r\\n          [size]=\\\"taxLotStatusHorizontalConfig.closingTaxLotSize\\\" order=\\\"2\\\">\\r\\n\\r\\n          <!-- Closing Tax Lot Split Container -->\\r\\n          <as-split disabled=\\\"false\\\" direction=\\\"vertical\\\" [useTransition]=\\\"taxLotStatusVerticalConfig.useTransition\\\"\\r\\n            (dragEnd)=\\\"applyVerticalPageLayout($event)\\\" (transitionEnd)=\\\"applyVerticalPageLayout($event)\\\">\\r\\n\\r\\n            <!-- Closing Tax Lot Area -->\\r\\n            <as-split-area [visible]=\\\" taxLotStatusVerticalConfig.closingTaxLotView\\\"\\r\\n              [size]=\\\"taxLotStatusVerticalConfig.closingTaxLotSize\\\" order=\\\"1\\\">\\r\\n\\r\\n              <ag-grid-angular class=\\\"w-100 h-100 ag-theme-balham\\\" (rowSelected)=\\\"onTradeRowSelected($event)\\\"\\r\\n                [gridOptions]=\\\"closingTaxLots\\\">\\r\\n              </ag-grid-angular>\\r\\n\\r\\n            </as-split-area>\\r\\n            <!-- Closing Tax Lot Area Ends -->\\r\\n\\r\\n            <!-- Journals Area -->\\r\\n            <as-split-area [visible]=\\\"taxLotStatusVerticalConfig.journalView\\\"\\r\\n              [size]=\\\"taxLotStatusVerticalConfig.journalSize\\\" order=\\\"2\\\">\\r\\n\\r\\n              <div class=\\\"w-100 height-90 p-0\\\">\\r\\n                <app-journals [subscription]=\\\"tradeSelectionChanged\\\" [title]=\\\"'Journals'\\\"></app-journals>\\r\\n              </div>\\r\\n\\r\\n            </as-split-area>\\r\\n            <!-- Journals Area Ends -->\\r\\n\\r\\n          </as-split>\\r\\n          <!-- Closing Tax Lot Split Container Ends -->\\r\\n\\r\\n        </as-split-area>\\r\\n        <!-- Closing Tax Lot Split Area Ends -->\\r\\n\\r\\n      </as-split>\\r\\n      <!-- AS Split Main Container Ends -->\\r\\n\\r\\n    </div>\\r\\n    <!-- Main Split Row Ends -->\\r\\n\\r\\n  </div>\\r\\n  <!-- Report Grid Ends -->\\r\\n\\r\\n</div>\\r\\n<!-- Reports Main Div Ends-->\\r\\n\\r\\n<!-- Data Modal -->\\r\\n<app-data-modal #dataModal title=\\\"Trade Detail\\\" [isCustomData]=\\\"true\\\">\\r\\n</app-data-modal>\\r\\n<!-- Data Modal Ends -->\\r\\n\\r\\n<!-- Data Grid Modal Starts -->\\r\\n<app-data-grid-modal #dataGridModal gridTitle=\\\"Open Tax Lot Journals\\\" [expanded]=\\\"true\\\">\\r\\n</app-data-grid-modal>\\r\\n<!-- Data Grid Modal Ends -->\\r\\n\\r\\n<app-create-dividend #dividendModal (modalClose)=\\\"closeDividendModal()\\\"></app-create-dividend>\\r\\n\\r\\n<app-create-stock-splits #stockSplitsModal (modalClose)=\\\"closeStockSplitModal()\\\">\\r\\n</app-create-stock-splits>\\r\\n\\r\\n<app-create-security #securityModal (modalClose)=\\\"closeSecurityModal()\\\"></app-create-security>\"","export default \"<!-- Hide Grid Div -->\\r\\n<div *ngIf=\\\"hideGrid\\\" #logScroll [ngStyle]=\\\"processingMsgDiv\\\">\\r\\n  <div class=\\\"d-flex align-items-center justify-content-center\\\">\\r\\n    <h1> Posting Engine is Running. Please Wait. </h1>\\r\\n  </div>\\r\\n</div>\\r\\n<!-- Hide Grid Div Ends -->\\r\\n\\r\\n<!-- Reports Main Div Starts -->\\r\\n<div [ngStyle]=\\\"{ 'display': hideGrid ? 'none' : 'initial' } \\\">\\r\\n  <!-- Filters Div Starts -->\\r\\n  <div class=\\\"row \\\">\\r\\n    <!-- Funds Dropdown Div Starts -->\\r\\n    <div class=\\\"col-auto\\\">\\r\\n      <select class=\\\"form-control\\\" [(ngModel)]=\\\"fund\\\" (ngModelChange)=\\\"changeFund($event)\\\">\\r\\n        <option selected>All Funds</option>\\r\\n        <option *ngFor=\\\"let fund of funds\\\" [ngValue]=\\\"fund.fundCode\\\">\\r\\n          {{ fund.fundCode }}\\r\\n        </option>\\r\\n      </select>\\r\\n    </div>\\r\\n    <!-- Funds Dropdown Div Ends -->\\r\\n\\r\\n    <!-- DateRange Label Div Starts -->\\r\\n    <div class=\\\"font-weight-bold\\\">\\r\\n      <label style=\\\"text-align: right\\\"> {{ DateRangeLabel }} </label>\\r\\n    </div>\\r\\n    <!-- DateRange Label Div Ends -->\\r\\n\\r\\n    <!-- Date Picker Div Starts -->\\r\\n    <div class=\\\"col-auto\\\">\\r\\n      <form>\\r\\n        <input ngxDaterangepickerMd class=\\\"form-control\\\" type=\\\"text\\\" autocomplete=\\\"off\\\" placeholder=\\\"Choose date\\\"\\r\\n          [(ngModel)]=\\\"selected\\\" name=\\\"selectedDaterange\\\" [ranges]=\\\"ranges\\\" [showClearButton]=\\\"true\\\"\\r\\n          [alwaysShowCalendars]=\\\"true\\\" (ngModelChange)=\\\"changeDate($event)\\\" [keepCalendarOpeningWithRange]=\\\"true\\\"\\r\\n          [maxDate]=\\\"maxDate\\\" />\\r\\n      </form>\\r\\n    </div>\\r\\n    <!-- Date Picker Div Ends -->\\r\\n\\r\\n    <!-- Clear Button Div Starts -->\\r\\n    <div class=\\\"col-md-3\\\">\\r\\n      <button (click)=\\\"clearFilters()\\\" class=\\\"btn btn-pa\\\" tooltip=\\\"Clear\\\" placement=\\\"top\\\">\\r\\n        <i class=\\\"fa fa-remove\\\"></i>\\r\\n      </button>\\r\\n    </div>\\r\\n    <!-- Clear Button Div Ends -->\\r\\n\\r\\n    <!----- Buttons Div Starts ----->\\r\\n    <div class=\\\"ml-auto mr-2\\\">\\r\\n      <!-- Refresh Button Div Starts -->\\r\\n      <div class=\\\"mr-2 d-inline-block\\\">\\r\\n        <button (click)=\\\"refreshReport()\\\" class=\\\"btn btn-pa\\\" tooltip=\\\"Refresh\\\" placement=\\\"top\\\">\\r\\n          <i class=\\\"fa fa-refresh\\\"></i></button>\\r\\n      </div>\\r\\n      <!-- Refresh Button Div Ends -->\\r\\n      <!-- Export to Excel Button -->\\r\\n      <div class=\\\"mr-2 d-inline-block\\\">\\r\\n        <button (click)=\\\"onBtExport()\\\" class=\\\"btn btn-pa\\\" tooltip=\\\"Export to Excel\\\" placement=\\\"top\\\">\\r\\n          <i class=\\\"fa fa-arrow-circle-o-down\\\"></i>\\r\\n        </button>\\r\\n      </div>\\r\\n    </div>\\r\\n    <!----- Buttons Div Ends ----->\\r\\n  </div>\\r\\n  <!-- Filters Div Ends -->\\r\\n\\r\\n  <!-- Report Grid Starts -->\\r\\n  <div #divToMeasureJournal>\\r\\n    <div [ngStyle]=\\\"styleForHeight\\\">\\r\\n      <app-report-grid #trialBalanceReportGrid [trialBalanceReport]=\\\"trialBalanceReport\\\"\\r\\n        [trialBalanceReportStats]=\\\"trialBalanceReportStats\\\" [tableHeader]=\\\"title\\\" [hideGrid]=\\\"hideGrid\\\"\\r\\n        [isDataLoaded]=\\\"isDataLoaded\\\" [isTrialBalance]=\\\"true\\\" [externalFilters]=\\\"externalFilters\\\"\\r\\n        (externalFilterPassed)=\\\"isExternalFilterPassed($event)\\\" (clearFilters)=\\\"clearFilters()\\\">\\r\\n      </app-report-grid>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n<!-- Reports Main Div Ends-->\"","export default \"body,\\nhtml {\\n  margin: 0;\\n  padding: 0;\\n  height: 100%;\\n}\\n\\n.table-header {\\n  color: #3a3b3c;\\n  background-color: #f5f7f7;\\n  margin-bottom: 0;\\n}\\n\\n.table-header th {\\n  font-weight: 600;\\n}\\n\\n.table-footer {\\n  margin-bottom: 0 !important;\\n  color: #2a2b3c;\\n  background-color: #f5f7f7;\\n  font-weight: 600;\\n}\\n\\ntd {\\n  background-repeat: no-repeat;\\n}\\n\\ntd.balance {\\n  padding-right: 18px;\\n  text-align: end;\\n  font-weight: 500;\\n}\\n\\ntd.debit {\\n  background-image: linear-gradient(to right, #64dc64 0%, #6ee16e 17%, #73e673 33%, #78f078 67%, #7dfa7d 83%, #96ff96 100%);\\n  background-position: 100% 100%;\\n  text-align: end;\\n  font-weight: 500;\\n}\\n\\ntd.credit {\\n  background-image: linear-gradient(to left, #dc6464 0%, #e16e6e 17%, #e67373 33%, #f07878 67%, #fa7d7d 83%, #ff9696 100%);\\n  padding-right: 18px;\\n  text-align: end;\\n  font-weight: 500;\\n}\\n\\n.cell-style {\\n  color: black;\\n  font-weight: 400;\\n  font-size: 14px;\\n}\\n\\n.first-cell {\\n  width: 40%;\\n}\\n\\n.other-cells {\\n  width: 20%;\\n}\\n\\n.end-position {\\n  text-align: end;\\n}\\n\\n.center-position {\\n  text-align: center;\\n}\\n\\n.wrong-balance {\\n  color: white;\\n  background-color: #dc6464;\\n}\\n\\n::-webkit-scrollbar {\\n  width: 10px;\\n  z-index: 1000;\\n}\\n\\n::-webkit-scrollbar-thumb {\\n  /* background-clip: padding-box; */\\n  border-radius: 16px;\\n  border: 4px solid transparent;\\n  background-color: #a0a0a0;\\n  cursor: pointer;\\n  transition: background-color 0.1s ease;\\n}\\n\\n.table-striped > tbody > tr:nth-child(2n+1) > td,\\n.table-striped > tbody > tr:nth-child(2n+1) > th {\\n  background-color: #fcfdfe;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9yZXBvcnRzL2JhbGFuY2UtcmVwb3J0L0M6XFxVc2Vyc1xcbGF0dGlcXGRldmVsb3BtZW50XFxsaWdodHBvaW50XFxmaW5hbmNlXFxmcm9udGVuZGFwcC9zcmNcXGFwcFxcbWFpblxccmVwb3J0c1xcYmFsYW5jZS1yZXBvcnRcXGJhbGFuY2UtcmVwb3J0LmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9tYWluL3JlcG9ydHMvYmFsYW5jZS1yZXBvcnQvYmFsYW5jZS1yZXBvcnQuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0VBRUUsU0FBQTtFQUNBLFVBQUE7RUFDQSxZQUFBO0FDQ0Y7O0FERUE7RUFDRSxjQUFBO0VBQ0EseUJBQUE7RUFDQSxnQkFBQTtBQ0NGOztBREVBO0VBQ0UsZ0JBQUE7QUNDRjs7QURFQTtFQUNFLDJCQUFBO0VBQ0EsY0FBQTtFQUNBLHlCQUFBO0VBQ0EsZ0JBQUE7QUNDRjs7QURFQTtFQUNFLDRCQUFBO0FDQ0Y7O0FERUE7RUFDRSxtQkFBQTtFQUNBLGVBQUE7RUFDQSxnQkFBQTtBQ0NGOztBREVBO0VBQ0UseUhBQUE7RUFTQSw4QkFBQTtFQUNBLGVBQUE7RUFDQSxnQkFBQTtBQ1BGOztBRFVBO0VBQ0Usd0hBQUE7RUFTQSxtQkFBQTtFQUNBLGVBQUE7RUFDQSxnQkFBQTtBQ2ZGOztBRGtCQTtFQUNFLFlBQUE7RUFDQSxnQkFBQTtFQUNBLGVBQUE7QUNmRjs7QURrQkE7RUFDRSxVQUFBO0FDZkY7O0FEa0JBO0VBQ0UsVUFBQTtBQ2ZGOztBRGtCQTtFQUNFLGVBQUE7QUNmRjs7QURrQkE7RUFDRSxrQkFBQTtBQ2ZGOztBRGtCQTtFQUNFLFlBQUE7RUFDQSx5QkFBQTtBQ2ZGOztBRGtCQTtFQUNFLFdBQUE7RUFDQSxhQUFBO0FDZkY7O0FEa0JBO0VBQ0Usa0NBQUE7RUFDQSxtQkFBQTtFQUNBLDZCQUFBO0VBQ0EseUJBQUE7RUFDQSxlQUFBO0VBRUEsc0NBQUE7QUNmRjs7QURrQkE7O0VBRUUseUJBQUE7QUNmRiIsImZpbGUiOiJzcmMvYXBwL21haW4vcmVwb3J0cy9iYWxhbmNlLXJlcG9ydC9iYWxhbmNlLXJlcG9ydC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImJvZHksXHJcbmh0bWwge1xyXG4gIG1hcmdpbjogMDtcclxuICBwYWRkaW5nOiAwO1xyXG4gIGhlaWdodDogMTAwJTtcclxufVxyXG5cclxuLnRhYmxlLWhlYWRlciB7XHJcbiAgY29sb3I6ICMzYTNiM2M7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Y1ZjdmNztcclxuICBtYXJnaW4tYm90dG9tOiAwO1xyXG59XHJcblxyXG4udGFibGUtaGVhZGVyIHRoIHtcclxuICBmb250LXdlaWdodDogNjAwO1xyXG59XHJcblxyXG4udGFibGUtZm9vdGVyIHtcclxuICBtYXJnaW4tYm90dG9tOiAwICFpbXBvcnRhbnQ7XHJcbiAgY29sb3I6ICMyYTJiM2M7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Y1ZjdmNztcclxuICBmb250LXdlaWdodDogNjAwO1xyXG59XHJcblxyXG50ZCB7XHJcbiAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcclxufVxyXG5cclxudGQuYmFsYW5jZSB7XHJcbiAgcGFkZGluZy1yaWdodDogMThweDtcclxuICB0ZXh0LWFsaWduOiBlbmQ7XHJcbiAgZm9udC13ZWlnaHQ6IDUwMDtcclxufVxyXG5cclxudGQuZGViaXQge1xyXG4gIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudChcclxuICAgIHRvIHJpZ2h0LFxyXG4gICAgcmdiKDEwMCwgMjIwLCAxMDAsIDEpIDAlLFxyXG4gICAgcmdiKDExMCwgMjI1LCAxMTAsIDEpIDE3JSxcclxuICAgIHJnYigxMTUsIDIzMCwgMTE1LCAxKSAzMyUsXHJcbiAgICByZ2JhKDEyMCwgMjQwLCAxMjAsIDEpIDY3JSxcclxuICAgIHJnYigxMjUsIDI1MCwgMTI1LCAxKSA4MyUsXHJcbiAgICByZ2IoMTUwLCAyNTUsIDE1MCwgMSkgMTAwJVxyXG4gICk7XHJcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogMTAwJSAxMDAlO1xyXG4gIHRleHQtYWxpZ246IGVuZDtcclxuICBmb250LXdlaWdodDogNTAwO1xyXG59XHJcblxyXG50ZC5jcmVkaXQge1xyXG4gIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudChcclxuICAgIHRvIGxlZnQsXHJcbiAgICByZ2IoMjIwLCAxMDAsIDEwMCwgMSkgMCUsXHJcbiAgICByZ2IoMjI1LCAxMTAsIDExMCwgMSkgMTclLFxyXG4gICAgcmdiYSgyMzAsIDExNSwgMTE1LCAxKSAzMyUsXHJcbiAgICByZ2JhKDI0MCwgMTIwLCAxMjAsIDEpIDY3JSxcclxuICAgIHJnYmEoMjUwLCAxMjUsIDEyNSwgMSkgODMlLFxyXG4gICAgcmdiYSgyNTUsIDE1MCwgMTUwLCAxKSAxMDAlXHJcbiAgKTtcclxuICBwYWRkaW5nLXJpZ2h0OiAxOHB4O1xyXG4gIHRleHQtYWxpZ246IGVuZDtcclxuICBmb250LXdlaWdodDogNTAwO1xyXG59XHJcblxyXG4uY2VsbC1zdHlsZSB7XHJcbiAgY29sb3I6IGJsYWNrO1xyXG4gIGZvbnQtd2VpZ2h0OiA0MDA7XHJcbiAgZm9udC1zaXplOiAxNHB4O1xyXG59XHJcblxyXG4uZmlyc3QtY2VsbCB7XHJcbiAgd2lkdGg6IDQwJTtcclxufVxyXG5cclxuLm90aGVyLWNlbGxzIHtcclxuICB3aWR0aDogMjAlO1xyXG59XHJcblxyXG4uZW5kLXBvc2l0aW9uIHtcclxuICB0ZXh0LWFsaWduOiBlbmQ7XHJcbn1cclxuXHJcbi5jZW50ZXItcG9zaXRpb24ge1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG5cclxuLndyb25nLWJhbGFuY2Uge1xyXG4gIGNvbG9yOiB3aGl0ZTtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMjIwLCAxMDAsIDEwMCk7XHJcbn1cclxuXHJcbjo6LXdlYmtpdC1zY3JvbGxiYXIge1xyXG4gIHdpZHRoOiAxMHB4O1xyXG4gIHotaW5kZXg6IDEwMDA7XHJcbn1cclxuXHJcbjo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIge1xyXG4gIC8qIGJhY2tncm91bmQtY2xpcDogcGFkZGluZy1ib3g7ICovXHJcbiAgYm9yZGVyLXJhZGl1czogMTZweDtcclxuICBib3JkZXI6IDRweCBzb2xpZCB0cmFuc3BhcmVudDtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDE2MCwgMTYwLCAxNjApO1xyXG4gIGN1cnNvcjogcG9pbnRlcjtcclxuICAtd2Via2l0LXRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC4xcyBlYXNlO1xyXG4gIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC4xcyBlYXNlO1xyXG59XHJcblxyXG4udGFibGUtc3RyaXBlZCA+IHRib2R5ID4gdHI6bnRoLWNoaWxkKDJuICsgMSkgPiB0ZCxcclxuLnRhYmxlLXN0cmlwZWQgPiB0Ym9keSA+IHRyOm50aC1jaGlsZCgybiArIDEpID4gdGgge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNmY2ZkZmU7XHJcbn1cclxuIiwiYm9keSxcbmh0bWwge1xuICBtYXJnaW46IDA7XG4gIHBhZGRpbmc6IDA7XG4gIGhlaWdodDogMTAwJTtcbn1cblxuLnRhYmxlLWhlYWRlciB7XG4gIGNvbG9yOiAjM2EzYjNjO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjVmN2Y3O1xuICBtYXJnaW4tYm90dG9tOiAwO1xufVxuXG4udGFibGUtaGVhZGVyIHRoIHtcbiAgZm9udC13ZWlnaHQ6IDYwMDtcbn1cblxuLnRhYmxlLWZvb3RlciB7XG4gIG1hcmdpbi1ib3R0b206IDAgIWltcG9ydGFudDtcbiAgY29sb3I6ICMyYTJiM2M7XG4gIGJhY2tncm91bmQtY29sb3I6ICNmNWY3Zjc7XG4gIGZvbnQtd2VpZ2h0OiA2MDA7XG59XG5cbnRkIHtcbiAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcbn1cblxudGQuYmFsYW5jZSB7XG4gIHBhZGRpbmctcmlnaHQ6IDE4cHg7XG4gIHRleHQtYWxpZ246IGVuZDtcbiAgZm9udC13ZWlnaHQ6IDUwMDtcbn1cblxudGQuZGViaXQge1xuICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQodG8gcmlnaHQsICM2NGRjNjQgMCUsICM2ZWUxNmUgMTclLCAjNzNlNjczIDMzJSwgIzc4ZjA3OCA2NyUsICM3ZGZhN2QgODMlLCAjOTZmZjk2IDEwMCUpO1xuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAxMDAlIDEwMCU7XG4gIHRleHQtYWxpZ246IGVuZDtcbiAgZm9udC13ZWlnaHQ6IDUwMDtcbn1cblxudGQuY3JlZGl0IHtcbiAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KHRvIGxlZnQsICNkYzY0NjQgMCUsICNlMTZlNmUgMTclLCAjZTY3MzczIDMzJSwgI2YwNzg3OCA2NyUsICNmYTdkN2QgODMlLCAjZmY5Njk2IDEwMCUpO1xuICBwYWRkaW5nLXJpZ2h0OiAxOHB4O1xuICB0ZXh0LWFsaWduOiBlbmQ7XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG59XG5cbi5jZWxsLXN0eWxlIHtcbiAgY29sb3I6IGJsYWNrO1xuICBmb250LXdlaWdodDogNDAwO1xuICBmb250LXNpemU6IDE0cHg7XG59XG5cbi5maXJzdC1jZWxsIHtcbiAgd2lkdGg6IDQwJTtcbn1cblxuLm90aGVyLWNlbGxzIHtcbiAgd2lkdGg6IDIwJTtcbn1cblxuLmVuZC1wb3NpdGlvbiB7XG4gIHRleHQtYWxpZ246IGVuZDtcbn1cblxuLmNlbnRlci1wb3NpdGlvbiB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxuLndyb25nLWJhbGFuY2Uge1xuICBjb2xvcjogd2hpdGU7XG4gIGJhY2tncm91bmQtY29sb3I6ICNkYzY0NjQ7XG59XG5cbjo6LXdlYmtpdC1zY3JvbGxiYXIge1xuICB3aWR0aDogMTBweDtcbiAgei1pbmRleDogMTAwMDtcbn1cblxuOjotd2Via2l0LXNjcm9sbGJhci10aHVtYiB7XG4gIC8qIGJhY2tncm91bmQtY2xpcDogcGFkZGluZy1ib3g7ICovXG4gIGJvcmRlci1yYWRpdXM6IDE2cHg7XG4gIGJvcmRlcjogNHB4IHNvbGlkIHRyYW5zcGFyZW50O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjYTBhMGEwO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIC13ZWJraXQtdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAwLjFzIGVhc2U7XG4gIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC4xcyBlYXNlO1xufVxuXG4udGFibGUtc3RyaXBlZCA+IHRib2R5ID4gdHI6bnRoLWNoaWxkKDJuKzEpID4gdGQsXG4udGFibGUtc3RyaXBlZCA+IHRib2R5ID4gdHI6bnRoLWNoaWxkKDJuKzEpID4gdGgge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmNmZGZlO1xufSJdfQ== */\"","import { Component, OnInit, Input } from '@angular/core';\r\nimport {\r\n  TrialBalanceReport,\r\n  TrialBalanceReportStats\r\n} from '../../../../shared/Models/trial-balance';\r\n\r\n@Component({\r\n  selector: 'app-balance-report',\r\n  templateUrl: './balance-report.component.html',\r\n  styleUrls: ['./balance-report.component.scss']\r\n})\r\nexport class BalanceReportComponent implements OnInit {\r\n  @Input() trialBalanceReport: Array<TrialBalanceReport>;\r\n  @Input() trialBalanceReportStats: TrialBalanceReportStats;\r\n  @Input() isLoading = false;\r\n  @Input() hideGrid: boolean;\r\n  @Input() tableHeader: string;\r\n\r\n  containerDiv = {\r\n    borderLeft: '1px solid #cecece',\r\n    borderRight: '1px solid #cecece',\r\n    width: '100%',\r\n    height: 'calc(100vh - 320px)',\r\n    boxSizing: 'border-box',\r\n    overflow: 'overlay'\r\n  };\r\n\r\n  constructor() {}\r\n\r\n  ngOnInit() {}\r\n}\r\n","export default \"body,\\nhtml {\\n  margin: 0;\\n  padding: 0;\\n  height: 100%;\\n}\\n\\n.refresh-spinner {\\n  display: flex;\\n  width: 8rem;\\n  height: 3rem;\\n  position: absolute;\\n  top: 46%;\\n  left: 48%;\\n  border: 1px solid grey;\\n  background-color: #fcfbfd;\\n  color: #606264;\\n  justify-content: center;\\n  align-items: center;\\n  z-index: 1000;\\n}\\n\\n.md-datepicker-input-container {\\n  width: 150px;\\n}\\n\\n.mat-datepicker-content .mat-calendar {\\n  zoom: 0.5;\\n}\\n\\n::-webkit-scrollbar {\\n  width: 10px;\\n  z-index: 1000;\\n}\\n\\n::-webkit-scrollbar-thumb {\\n  /* background-clip: padding-box; */\\n  border-radius: 16px;\\n  border: 4px solid transparent;\\n  background-color: #a0a0a0;\\n  cursor: pointer;\\n  transition: background-color 0.1s ease;\\n}\\n\\n@media (min-width: 320px) {\\n  ::ng-deep.md-drppicker.shown.drops-down-right {\\n    width: 320px;\\n  }\\n}\\n\\n@media (min-width: 768px) {\\n  ::ng-deep.md-drppicker.shown.drops-down-right {\\n    width: auto;\\n  }\\n}\\n\\n::ng-deep .debit {\\n  background-image: linear-gradient(to right, #64dc64 0%, #6ee16e 17%, #73e673 33%, #78f078 67%, #7dfa7d 83%, #96ff96 100%);\\n  background-position: 100% 100%;\\n  text-align: end;\\n  font-weight: 500;\\n}\\n\\n::ng-deep .credit {\\n  background-image: linear-gradient(to left, #dc6464 0%, #e16e6e 17%, #e67373 33%, #f07878 67%, #fa7d7d 83%, #ff9696 100%);\\n  padding-right: 18px !important;\\n  text-align: end;\\n  font-weight: 500;\\n}\\n\\n::ng-deep .rightAlign {\\n  text-align: right;\\n}\\n\\n.line-chart-wrapper {\\n  padding-top: 1.6rem;\\n  overflow: hidden;\\n}\\n\\n.chart-title {\\n  font-size: 1em;\\n  font-weight: 500;\\n  line-height: 0;\\n}\\n\\n::ng-deep .line-chart-wrapper svg {\\n  height: 24rem;\\n}\\n\\n::ng-deep .line-chart-wrapper .axis line {\\n  stroke: #3b3a39 !important;\\n}\\n\\n::ng-deep .line-chart-wrapper .y-axis {\\n  color: #b3b2b6 !important;\\n}\\n\\n::ng-deep .line-chart-wrapper .x-axis {\\n  color: #94918e !important;\\n}\\n\\n::ng-deep .line-chart-wrapper .line {\\n  fill: none;\\n  stroke-width: 3 !important;\\n}\\n\\n::ng-deep .line-chart-wrapper .axis path,\\n.axis line {\\n  stroke: #32a0f3;\\n}\\n\\n::ng-deep .line-chart-wrapper {\\n  padding-top: 0px !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9yZXBvcnRzL2Nvc3RiYXNpcy9DOlxcVXNlcnNcXGxhdHRpXFxkZXZlbG9wbWVudFxcbGlnaHRwb2ludFxcZmluYW5jZVxcZnJvbnRlbmRhcHAvc3JjXFxhcHBcXG1haW5cXHJlcG9ydHNcXGNvc3RiYXNpc1xcY29zdGJhc2lzLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9tYWluL3JlcG9ydHMvY29zdGJhc2lzL2Nvc3RiYXNpcy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7RUFFRSxTQUFBO0VBQ0EsVUFBQTtFQUNBLFlBQUE7QUNDRjs7QURFQTtFQUNFLGFBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBQ0EsUUFBQTtFQUNBLFNBQUE7RUFDQSxzQkFBQTtFQUNBLHlCQUFBO0VBQ0EsY0FBQTtFQUNBLHVCQUFBO0VBQ0EsbUJBQUE7RUFDQSxhQUFBO0FDQ0Y7O0FERUE7RUFDRSxZQUFBO0FDQ0Y7O0FERUE7RUFDRSxTQUFBO0FDQ0Y7O0FERUE7RUFDRSxXQUFBO0VBQ0EsYUFBQTtBQ0NGOztBREVBO0VBQ0Usa0NBQUE7RUFDQSxtQkFBQTtFQUNBLDZCQUFBO0VBQ0EseUJBQUE7RUFDQSxlQUFBO0VBRUEsc0NBQUE7QUNDRjs7QURFQTtFQUNFO0lBQ0UsWUFBQTtFQ0NGO0FBQ0Y7O0FERUE7RUFDRTtJQUNFLFdBQUE7RUNBRjtBQUNGOztBREdBO0VBQ0UseUhBQUE7RUFTQSw4QkFBQTtFQUNBLGVBQUE7RUFDQSxnQkFBQTtBQ1RGOztBRFlBO0VBQ0Usd0hBQUE7RUFTQSw4QkFBQTtFQUNBLGVBQUE7RUFDQSxnQkFBQTtBQ2pCRjs7QURvQkE7RUFDRSxpQkFBQTtBQ2pCRjs7QURvQkE7RUFDRSxtQkFBQTtFQUNBLGdCQUFBO0FDakJGOztBRG9CQTtFQUNFLGNBQUE7RUFDQSxnQkFBQTtFQUNBLGNBQUE7QUNqQkY7O0FEb0JBO0VBQ0UsYUFBQTtBQ2pCRjs7QURvQkE7RUFDRSwwQkFBQTtBQ2pCRjs7QURvQkE7RUFDRSx5QkFBQTtBQ2pCRjs7QURvQkE7RUFDRSx5QkFBQTtBQ2pCRjs7QURvQkE7RUFDRSxVQUFBO0VBQ0EsMEJBQUE7QUNqQkY7O0FEb0JBOztFQUVFLGVBQUE7QUNqQkY7O0FEb0JBO0VBQ0UsMkJBQUE7QUNqQkYiLCJmaWxlIjoic3JjL2FwcC9tYWluL3JlcG9ydHMvY29zdGJhc2lzL2Nvc3RiYXNpcy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImJvZHksXHJcbmh0bWwge1xyXG4gIG1hcmdpbjogMDtcclxuICBwYWRkaW5nOiAwO1xyXG4gIGhlaWdodDogMTAwJTtcclxufVxyXG5cclxuLnJlZnJlc2gtc3Bpbm5lciB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICB3aWR0aDogOHJlbTtcclxuICBoZWlnaHQ6IDNyZW07XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIHRvcDogNDYlO1xyXG4gIGxlZnQ6IDQ4JTtcclxuICBib3JkZXI6IDFweCBzb2xpZCBncmV5O1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNmY2ZiZmQ7XHJcbiAgY29sb3I6ICM2MDYyNjQ7XHJcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICB6LWluZGV4OiAxMDAwO1xyXG59XHJcblxyXG4ubWQtZGF0ZXBpY2tlci1pbnB1dC1jb250YWluZXIge1xyXG4gIHdpZHRoOiAxNTBweDtcclxufVxyXG5cclxuLm1hdC1kYXRlcGlja2VyLWNvbnRlbnQgLm1hdC1jYWxlbmRhciB7XHJcbiAgem9vbTogMC41O1xyXG59XHJcblxyXG46Oi13ZWJraXQtc2Nyb2xsYmFyIHtcclxuICB3aWR0aDogMTBweDtcclxuICB6LWluZGV4OiAxMDAwO1xyXG59XHJcblxyXG46Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iIHtcclxuICAvKiBiYWNrZ3JvdW5kLWNsaXA6IHBhZGRpbmctYm94OyAqL1xyXG4gIGJvcmRlci1yYWRpdXM6IDE2cHg7XHJcbiAgYm9yZGVyOiA0cHggc29saWQgdHJhbnNwYXJlbnQ7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgxNjAsIDE2MCwgMTYwKTtcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgLXdlYmtpdC10cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuMXMgZWFzZTtcclxuICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuMXMgZWFzZTtcclxufVxyXG5cclxuQG1lZGlhIChtaW4td2lkdGg6IDMyMHB4KSB7XHJcbiAgOjpuZy1kZWVwLm1kLWRycHBpY2tlci5zaG93bi5kcm9wcy1kb3duLXJpZ2h0IHtcclxuICAgIHdpZHRoOiAzMjBweDtcclxuICB9XHJcbn1cclxuXHJcbkBtZWRpYSAobWluLXdpZHRoOiA3NjhweCkge1xyXG4gIDo6bmctZGVlcC5tZC1kcnBwaWNrZXIuc2hvd24uZHJvcHMtZG93bi1yaWdodCB7XHJcbiAgICB3aWR0aDogYXV0bztcclxuICB9XHJcbn1cclxuXHJcbjo6bmctZGVlcCAuZGViaXQge1xyXG4gIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudChcclxuICAgIHRvIHJpZ2h0LFxyXG4gICAgcmdiKDEwMCwgMjIwLCAxMDAsIDEpIDAlLFxyXG4gICAgcmdiKDExMCwgMjI1LCAxMTAsIDEpIDE3JSxcclxuICAgIHJnYigxMTUsIDIzMCwgMTE1LCAxKSAzMyUsXHJcbiAgICByZ2JhKDEyMCwgMjQwLCAxMjAsIDEpIDY3JSxcclxuICAgIHJnYigxMjUsIDI1MCwgMTI1LCAxKSA4MyUsXHJcbiAgICByZ2IoMTUwLCAyNTUsIDE1MCwgMSkgMTAwJVxyXG4gICk7XHJcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogMTAwJSAxMDAlO1xyXG4gIHRleHQtYWxpZ246IGVuZDtcclxuICBmb250LXdlaWdodDogNTAwO1xyXG59XHJcblxyXG46Om5nLWRlZXAgLmNyZWRpdCB7XHJcbiAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KFxyXG4gICAgdG8gbGVmdCxcclxuICAgIHJnYigyMjAsIDEwMCwgMTAwLCAxKSAwJSxcclxuICAgIHJnYigyMjUsIDExMCwgMTEwLCAxKSAxNyUsXHJcbiAgICByZ2JhKDIzMCwgMTE1LCAxMTUsIDEpIDMzJSxcclxuICAgIHJnYmEoMjQwLCAxMjAsIDEyMCwgMSkgNjclLFxyXG4gICAgcmdiYSgyNTAsIDEyNSwgMTI1LCAxKSA4MyUsXHJcbiAgICByZ2JhKDI1NSwgMTUwLCAxNTAsIDEpIDEwMCVcclxuICApO1xyXG4gIHBhZGRpbmctcmlnaHQ6IDE4cHggIWltcG9ydGFudDtcclxuICB0ZXh0LWFsaWduOiBlbmQ7XHJcbiAgZm9udC13ZWlnaHQ6IDUwMDtcclxufVxyXG5cclxuOjpuZy1kZWVwIC5yaWdodEFsaWduIHtcclxuICB0ZXh0LWFsaWduOiByaWdodDtcclxufVxyXG5cclxuLmxpbmUtY2hhcnQtd3JhcHBlciB7XHJcbiAgcGFkZGluZy10b3A6IDEuNnJlbTtcclxuICBvdmVyZmxvdzogaGlkZGVuO1xyXG59XHJcblxyXG4uY2hhcnQtdGl0bGUge1xyXG4gIGZvbnQtc2l6ZTogMWVtO1xyXG4gIGZvbnQtd2VpZ2h0OiA1MDA7XHJcbiAgbGluZS1oZWlnaHQ6IDA7XHJcbn1cclxuXHJcbjo6bmctZGVlcCAubGluZS1jaGFydC13cmFwcGVyIHN2ZyB7XHJcbiAgaGVpZ2h0OiAyNHJlbTtcclxufVxyXG5cclxuOjpuZy1kZWVwIC5saW5lLWNoYXJ0LXdyYXBwZXIgLmF4aXMgbGluZSB7XHJcbiAgc3Ryb2tlOiAjM2IzYTM5ICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbjo6bmctZGVlcCAubGluZS1jaGFydC13cmFwcGVyIC55LWF4aXMge1xyXG4gIGNvbG9yOiAjYjNiMmI2ICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbjo6bmctZGVlcCAubGluZS1jaGFydC13cmFwcGVyIC54LWF4aXMge1xyXG4gIGNvbG9yOiAjOTQ5MThlICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbjo6bmctZGVlcCAubGluZS1jaGFydC13cmFwcGVyIC5saW5lIHtcclxuICBmaWxsOiBub25lO1xyXG4gIHN0cm9rZS13aWR0aDogMyAhaW1wb3J0YW50O1xyXG59XHJcblxyXG46Om5nLWRlZXAgLmxpbmUtY2hhcnQtd3JhcHBlciAuYXhpcyBwYXRoLFxyXG4uYXhpcyBsaW5lIHtcclxuICBzdHJva2U6ICMzMmEwZjM7XHJcbn1cclxuXHJcbjo6bmctZGVlcCAubGluZS1jaGFydC13cmFwcGVyIHtcclxuICBwYWRkaW5nLXRvcDogMHB4ICFpbXBvcnRhbnQ7XHJcbn1cclxuIiwiYm9keSxcbmh0bWwge1xuICBtYXJnaW46IDA7XG4gIHBhZGRpbmc6IDA7XG4gIGhlaWdodDogMTAwJTtcbn1cblxuLnJlZnJlc2gtc3Bpbm5lciB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIHdpZHRoOiA4cmVtO1xuICBoZWlnaHQ6IDNyZW07XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiA0NiU7XG4gIGxlZnQ6IDQ4JTtcbiAgYm9yZGVyOiAxcHggc29saWQgZ3JleTtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZjZmJmZDtcbiAgY29sb3I6ICM2MDYyNjQ7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICB6LWluZGV4OiAxMDAwO1xufVxuXG4ubWQtZGF0ZXBpY2tlci1pbnB1dC1jb250YWluZXIge1xuICB3aWR0aDogMTUwcHg7XG59XG5cbi5tYXQtZGF0ZXBpY2tlci1jb250ZW50IC5tYXQtY2FsZW5kYXIge1xuICB6b29tOiAwLjU7XG59XG5cbjo6LXdlYmtpdC1zY3JvbGxiYXIge1xuICB3aWR0aDogMTBweDtcbiAgei1pbmRleDogMTAwMDtcbn1cblxuOjotd2Via2l0LXNjcm9sbGJhci10aHVtYiB7XG4gIC8qIGJhY2tncm91bmQtY2xpcDogcGFkZGluZy1ib3g7ICovXG4gIGJvcmRlci1yYWRpdXM6IDE2cHg7XG4gIGJvcmRlcjogNHB4IHNvbGlkIHRyYW5zcGFyZW50O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjYTBhMGEwO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIC13ZWJraXQtdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAwLjFzIGVhc2U7XG4gIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC4xcyBlYXNlO1xufVxuXG5AbWVkaWEgKG1pbi13aWR0aDogMzIwcHgpIHtcbiAgOjpuZy1kZWVwLm1kLWRycHBpY2tlci5zaG93bi5kcm9wcy1kb3duLXJpZ2h0IHtcbiAgICB3aWR0aDogMzIwcHg7XG4gIH1cbn1cbkBtZWRpYSAobWluLXdpZHRoOiA3NjhweCkge1xuICA6Om5nLWRlZXAubWQtZHJwcGlja2VyLnNob3duLmRyb3BzLWRvd24tcmlnaHQge1xuICAgIHdpZHRoOiBhdXRvO1xuICB9XG59XG46Om5nLWRlZXAgLmRlYml0IHtcbiAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KHRvIHJpZ2h0LCAjNjRkYzY0IDAlLCAjNmVlMTZlIDE3JSwgIzczZTY3MyAzMyUsICM3OGYwNzggNjclLCAjN2RmYTdkIDgzJSwgIzk2ZmY5NiAxMDAlKTtcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogMTAwJSAxMDAlO1xuICB0ZXh0LWFsaWduOiBlbmQ7XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG59XG5cbjo6bmctZGVlcCAuY3JlZGl0IHtcbiAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KHRvIGxlZnQsICNkYzY0NjQgMCUsICNlMTZlNmUgMTclLCAjZTY3MzczIDMzJSwgI2YwNzg3OCA2NyUsICNmYTdkN2QgODMlLCAjZmY5Njk2IDEwMCUpO1xuICBwYWRkaW5nLXJpZ2h0OiAxOHB4ICFpbXBvcnRhbnQ7XG4gIHRleHQtYWxpZ246IGVuZDtcbiAgZm9udC13ZWlnaHQ6IDUwMDtcbn1cblxuOjpuZy1kZWVwIC5yaWdodEFsaWduIHtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG59XG5cbi5saW5lLWNoYXJ0LXdyYXBwZXIge1xuICBwYWRkaW5nLXRvcDogMS42cmVtO1xuICBvdmVyZmxvdzogaGlkZGVuO1xufVxuXG4uY2hhcnQtdGl0bGUge1xuICBmb250LXNpemU6IDFlbTtcbiAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgbGluZS1oZWlnaHQ6IDA7XG59XG5cbjo6bmctZGVlcCAubGluZS1jaGFydC13cmFwcGVyIHN2ZyB7XG4gIGhlaWdodDogMjRyZW07XG59XG5cbjo6bmctZGVlcCAubGluZS1jaGFydC13cmFwcGVyIC5heGlzIGxpbmUge1xuICBzdHJva2U6ICMzYjNhMzkgIWltcG9ydGFudDtcbn1cblxuOjpuZy1kZWVwIC5saW5lLWNoYXJ0LXdyYXBwZXIgLnktYXhpcyB7XG4gIGNvbG9yOiAjYjNiMmI2ICFpbXBvcnRhbnQ7XG59XG5cbjo6bmctZGVlcCAubGluZS1jaGFydC13cmFwcGVyIC54LWF4aXMge1xuICBjb2xvcjogIzk0OTE4ZSAhaW1wb3J0YW50O1xufVxuXG46Om5nLWRlZXAgLmxpbmUtY2hhcnQtd3JhcHBlciAubGluZSB7XG4gIGZpbGw6IG5vbmU7XG4gIHN0cm9rZS13aWR0aDogMyAhaW1wb3J0YW50O1xufVxuXG46Om5nLWRlZXAgLmxpbmUtY2hhcnQtd3JhcHBlciAuYXhpcyBwYXRoLFxuLmF4aXMgbGluZSB7XG4gIHN0cm9rZTogIzMyYTBmMztcbn1cblxuOjpuZy1kZWVwIC5saW5lLWNoYXJ0LXdyYXBwZXIge1xuICBwYWRkaW5nLXRvcDogMHB4ICFpbXBvcnRhbnQ7XG59Il19 */\"","import { Component, ViewChild, OnInit, AfterViewInit, ChangeDetectorRef } from '@angular/core';\r\nimport { GridOptions } from 'ag-grid-community';\r\nimport { timer, Subject } from 'rxjs';\r\nimport { debounce } from 'rxjs/operators';\r\nimport * as moment from 'moment';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { CacheService } from 'src/services/common/cache.service';\r\nimport { DataService } from '../../../../services/common/data.service';\r\nimport { FinanceServiceProxy } from '../../../../services/service-proxies';\r\nimport { ReportsApiService } from 'src/services/reports-api.service';\r\nimport { SecurityApiService } from 'src/services/security-api.service';\r\nimport { Fund } from '../../../../shared/Models/account';\r\nimport {\r\n  TrialBalanceReport,\r\n  TrialBalanceReportStats\r\n} from '../../../../shared/Models/trial-balance';\r\nimport { GraphObject } from 'src/shared/Models/graph-object';\r\nimport {\r\n  Ranges,\r\n  Style,\r\n  SideBar,\r\n  ExcelStyle,\r\n  CalTotalRecords,\r\n  GetDateRangeLabel,\r\n  FormatNumber4,\r\n  FormatNumber2,\r\n  MoneyFormat,\r\n  SetDateRange,\r\n  CommaSeparatedFormat,\r\n  HeightStyle,\r\n  FormatDate,\r\n  DateFormatter\r\n} from 'src/shared/utils/Shared';\r\nimport { DownloadExcelUtils } from 'src/shared/utils/DownloadExcelUtils';\r\nimport { GridLayoutMenuComponent, CustomGridOptions } from 'lp-toolkit';\r\nimport { LayoutConfig, GridId, GridName } from 'src/shared/utils/AppEnums';\r\nimport { GetContextMenu } from 'src/shared/utils/ContextMenu';\r\nimport { ContextMenu } from 'src/shared/Models/common';\r\nimport { CreateSecurityComponent } from 'src/shared/Modal/create-security/create-security.component';\r\n\r\n@Component({\r\n  selector: 'rep-costbasis',\r\n  templateUrl: './costbasis.component.html',\r\n  styleUrls: ['./costbasis.component.scss']\r\n})\r\nexport class CostBasisComponent implements OnInit, AfterViewInit {\r\n  @ViewChild('securityModal', { static: false }) securityModal: CreateSecurityComponent;\r\n\r\n  gridOptions: CustomGridOptions;\r\n  timeseriesOptions: GridOptions;\r\n  costBasisConfig: {\r\n    costBasisSize: number;\r\n    chartsSize: number;\r\n    costBasisView: boolean;\r\n    chartsView: boolean;\r\n    useTransition: boolean;\r\n  } = {\r\n    costBasisSize: 50,\r\n    chartsSize: 50,\r\n    costBasisView: true,\r\n    chartsView: false,\r\n    useTransition: true\r\n  };\r\n  gridColumnApi;\r\n  pinnedBottomRowData;\r\n  fund: any = 'All Funds';\r\n  funds: Fund;\r\n  DateRangeLabel: string;\r\n  selectedDate: any;\r\n  startDate: any;\r\n  endDate: any;\r\n\r\n  // private filterSubject: Subject<string> = new Subject();\r\n  filterBySymbol = '';\r\n\r\n  trialBalanceReport: Array<TrialBalanceReport>;\r\n  trialBalanceReportStats: TrialBalanceReportStats;\r\n  isLoading = false;\r\n  hideGrid: boolean;\r\n  chartData: any;\r\n  netpnlData: any;\r\n  unrealizedData: any;\r\n  realizedData: any;\r\n  cbData: any;\r\n  bData: any;\r\n  qData: any;\r\n\r\n  journalDate: Date;\r\n\r\n  labels: string[] = [];\r\n\r\n  selectedChartOption: any = 'CostBasis';\r\n  selectedChartTitle: any = 'Cost Basis';\r\n  chartOptions: any = [\r\n    { key: 'CostBasis', value: 'Cost Basis' },\r\n    { key: 'Balance', value: 'Balance' },\r\n    { key: 'Quantity', value: 'Quantity' }\r\n  ];\r\n\r\n  ranges: any = Ranges;\r\n\r\n  style = Style;\r\n\r\n  styleForHeight = HeightStyle(220);\r\n\r\n  propIDCostBasis = 'CostBasisLineChart';\r\n  propIDBalance = 'BalanceLineChart';\r\n  propIDQuantity = 'QuantityLineChart';\r\n  divHeight = 200;\r\n  divWidth = '95%';\r\n  lineColors = ['#ff6960', '#00bd9a'];\r\n\r\n  processingMsgDiv = {\r\n    border: '1px solid #eee',\r\n    padding: '4px',\r\n    marginTop: '20px',\r\n    width: '100%',\r\n    height: 'calc(100vh - 125px)',\r\n    boxSizing: 'border-box'\r\n  };\r\n  graphObject: GraphObject = null;\r\n  marketPriceChart = false;\r\n  validDates: Array<string> = null;\r\n\r\n  constructor(\r\n    private cdRef: ChangeDetectorRef,\r\n    private cacheService: CacheService,\r\n    private toastrService: ToastrService,\r\n    private dataService: DataService,\r\n    private financeService: FinanceServiceProxy,\r\n    private reportsApiService: ReportsApiService,\r\n    private securityApiService: SecurityApiService,\r\n    private downloadExcelUtils: DownloadExcelUtils\r\n  ) {\r\n    this.hideGrid = false;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.initGrid();\r\n    // this.getLatestJournalDate();\r\n    this.getValidDates();\r\n    this.getFunds();\r\n    // In case we need to enable filter by symbol from server side\r\n    // this.filterSubject.pipe(debounce(() => timer(1000))).subscribe(() => {\r\n    //   this.getReport(this.startDate, this.filterBySymbol, this.fund === 'All Funds' ? 'ALL' : this.fund);\r\n    // });\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.initPageLayout();\r\n    this.dataService.flag$.subscribe(obj => {\r\n      this.hideGrid = obj;\r\n      if (!this.hideGrid) {\r\n        this.getFunds();\r\n      }\r\n    });\r\n  }\r\n\r\n  initPageLayout() {\r\n    const persistUIState = this.cacheService.getConfigByKey(LayoutConfig.persistUIState);\r\n    if (!persistUIState || !JSON.parse(persistUIState.value)) {\r\n      return;\r\n    }\r\n\r\n    const config = this.cacheService.getConfigByKey(LayoutConfig.costBasisConfigKey);\r\n    if (config) {\r\n      this.costBasisConfig = JSON.parse(config.value);\r\n    }\r\n\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  applyPageLayout(event) {\r\n    if (event.sizes) {\r\n      this.costBasisConfig.costBasisSize = event.sizes[0];\r\n      this.costBasisConfig.chartsSize = event.sizes[1];\r\n    }\r\n\r\n    const persistUIState = this.cacheService.getConfigByKey(LayoutConfig.persistUIState);\r\n    if (!persistUIState || !JSON.parse(persistUIState.value)) {\r\n      return;\r\n    }\r\n\r\n    const config = this.cacheService.getConfigByKey(LayoutConfig.costBasisConfigKey);\r\n    const payload = {\r\n      id: !config ? 0 : config.id,\r\n      project: LayoutConfig.projectName,\r\n      uom: 'JSON',\r\n      key: LayoutConfig.costBasisConfigKey,\r\n      value: JSON.stringify(this.costBasisConfig),\r\n      description: LayoutConfig.costBasisConfigKey\r\n    };\r\n\r\n    if (!config) {\r\n      this.cacheService.addUserConfig(payload).subscribe(response => {\r\n        console.log('User Config Added');\r\n      });\r\n    } else {\r\n      this.cacheService.updateUserConfig(payload).subscribe(response => {\r\n        console.log('User Config Updated');\r\n      });\r\n    }\r\n  }\r\n\r\n  // getLatestJournalDate() {\r\n  //   this.reportsApiService.getLatestJournalDate().subscribe(\r\n  //     date => {\r\n  //       if (date.isSuccessful && date.statusCode === 200) {\r\n  //         this.journalDate = date.payload[0].when;\r\n  //         this.startDate = this.journalDate;\r\n  //         this.selectedDate = {\r\n  //           startDate: moment(this.startDate, 'YYYY-MM-DD'),\r\n  //           endDate: moment(this.endDate, 'YYYY-MM-DD')\r\n  //         };\r\n  //       }\r\n  //     },\r\n  //     error => {}\r\n  //   );\r\n  // }\r\n\r\n  // Dates against which Data is Present\r\n  getValidDates() {\r\n    this.reportsApiService.getValidDates('business_date', 'cost_basis').subscribe(\r\n      resp => {\r\n        if (\r\n          resp.isSuccessful &&\r\n          resp.statusCode === 200 &&\r\n          resp.payload &&\r\n          resp.payload.length > 0\r\n        ) {\r\n          this.validDates = resp.payload.map(x => moment(x, 'YYYY-MM-DD').format('YYYY-MM-DD'));\r\n          this.journalDate = resp.payload[0];\r\n          this.startDate = this.journalDate;\r\n          this.selectedDate = {\r\n            startDate: moment(this.startDate, 'YYYY-MM-DD'),\r\n            endDate: moment(this.endDate, 'YYYY-MM-DD')\r\n          };\r\n        }\r\n      },\r\n      error => {}\r\n    );\r\n  }\r\n\r\n  isInvalidDate(event: moment.Moment) {\r\n    if (event.isValid) {\r\n      const date = event.format('YYYY-MM-DD');\r\n      if (!this.validDates) {\r\n        return false;\r\n      } else if (this.validDates.some(x => x === date)) {\r\n        return false;\r\n      } else {\r\n        return true;\r\n      }\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  initGrid() {\r\n    this.gridOptions = {\r\n      rowData: null,\r\n      pinnedBottomRowData: null,\r\n      /* Custom Method Binding for External Filters from Grid Layout Component */\r\n      getExternalFilterState: this.getExternalFilterState.bind(this),\r\n      clearExternalFilter: this.clearFilters.bind(this),\r\n      setExternalFilter: this.isExternalFilterPassed.bind(this),\r\n      isExternalFilterPresent: this.isExternalFilterPresent.bind(this),\r\n      doesExternalFilterPass: this.doesExternalFilterPass.bind(this),\r\n      frameworkComponents: { customToolPanel: GridLayoutMenuComponent },\r\n      onFilterChanged: this.onFilterChanged.bind(this),\r\n      onCellClicked: this.rowSelected.bind(this),\r\n      rowSelection: 'single',\r\n      rowGroupPanelShow: 'after',\r\n      animateRows: true,\r\n      enableFilter: true,\r\n      suppressHorizontalScroll: false,\r\n      suppressColumnVirtualisation: true,\r\n      alignedGrids: [],\r\n      deltaRowDataMode: true,\r\n      getRowNodeId: data => {\r\n        return data.id;\r\n      },\r\n      onRowDataUpdated: params => {\r\n        console.log('Data Updated ::', params);\r\n      },\r\n      getContextMenuItems: params => this.getContextMenuItems(params),\r\n      onGridReady: params => {\r\n        this.gridColumnApi = params.columnApi;\r\n        this.gridOptions.excelStyles = ExcelStyle;\r\n      },\r\n      onFirstDataRendered: params => {\r\n        params.api.forEachNode(node => {\r\n          node.expanded = true;\r\n        });\r\n        params.api.onGroupExpandedOrCollapsed();\r\n      },\r\n      columnDefs: [\r\n        {\r\n          field: 'symbol',\r\n          width: 120,\r\n          headerName: 'Symbol',\r\n          sortable: true,\r\n          filter: true\r\n        },\r\n        {\r\n          field: 'balance',\r\n          headerName: 'Exposure (at Cost)',\r\n          cellClass: 'rightAlign',\r\n          sortable: true,\r\n          filter: true,\r\n          width: 120,\r\n          valueFormatter: moneyFormatter\r\n        },\r\n        {\r\n          field: 'quantity',\r\n          headerName: 'Quantity',\r\n          width: 100,\r\n          filter: true,\r\n          cellClass: 'rightAlign',\r\n          sortable: true,\r\n          valueFormatter: currencyFormatter\r\n        },\r\n        {\r\n          field: 'cost_basis',\r\n          headerName: 'Cost Basis',\r\n          width: 100,\r\n          sortable: true,\r\n          filter: true,\r\n          cellClass: 'rightAlign',\r\n          valueFormatter: costBasisFormatter\r\n        },\r\n        {\r\n          field: 'side',\r\n          width: 50,\r\n          headerName: 'Side',\r\n          sortable: true,\r\n          filter: true\r\n        },\r\n        {\r\n          field: 'unrealized_pnl',\r\n          cellClass: 'rightAlign',\r\n          headerName: 'Unrealized P&L',\r\n          valueFormatter: moneyFormatter\r\n        },\r\n        {\r\n          field: 'unrealized_pnl_fx',\r\n          cellClass: 'rightAlign',\r\n          headerName: 'Unrealized P&L FX',\r\n          valueFormatter: moneyFormatter\r\n        },\r\n        {\r\n          field: 'realized_pnl',\r\n          cellClass: 'rightAlign',\r\n          headerName: 'Realized P&L',\r\n          valueFormatter: moneyFormatter\r\n        },\r\n        {\r\n          field: 'realized_pnl_fx',\r\n          cellClass: 'rightAlign',\r\n          headerName: 'Realized P&L FX',\r\n          valueFormatter: moneyFormatter\r\n        },\r\n        {\r\n          field: 'net',\r\n          cellClass: 'rightAlign',\r\n          headerName: 'Net P&L',\r\n          valueFormatter: moneyFormatter\r\n        },\r\n        {\r\n          field: 'dividend',\r\n          cellClass: 'rightAlign',\r\n          headerName: 'Dividend',\r\n          valueFormatter: moneyFormatter\r\n        }\r\n        ,\r\n        {\r\n          field: 'dividend_withholding',\r\n          cellClass: 'rightAlign',\r\n          headerName: 'Withholding',\r\n          valueFormatter: moneyFormatter\r\n        }\r\n        ,\r\n        {\r\n          field: 'dividend_net',\r\n          cellClass: 'rightAlign',\r\n          headerName: 'Dividend Net',\r\n          valueFormatter: moneyFormatter\r\n        }        \r\n      ],\r\n      defaultColDef: {\r\n        sortable: true,\r\n        resizable: true,\r\n        filter: true\r\n      }\r\n    };\r\n    this.gridOptions.sideBar = SideBar(GridId.costBasisId, GridName.costBasis, this.gridOptions);\r\n\r\n    this.timeseriesOptions = {\r\n      rowData: [],\r\n      pinnedBottomRowData: null,\r\n      frameworkComponents: { customToolPanel: GridLayoutMenuComponent },\r\n      rowSelection: 'single',\r\n      rowGroupPanelShow: 'after',\r\n      animateRows: true,\r\n      enableFilter: true,\r\n      suppressHorizontalScroll: false,\r\n      suppressColumnVirtualisation: true,\r\n      alignedGrids: [],\r\n      getContextMenuItems: params => this.getContextMenuItems(params),\r\n      onGridReady: params => {\r\n        this.gridColumnApi = params.columnApi;\r\n        this.gridOptions.excelStyles = ExcelStyle;\r\n      },\r\n      onFirstDataRendered: params => {\r\n        params.api.forEachNode(node => {\r\n          node.expanded = true;\r\n        });\r\n        params.api.onGroupExpandedOrCollapsed();\r\n      },\r\n      columnDefs: [\r\n        {\r\n          field: 'business_date',\r\n          width: 120,\r\n          headerName: 'Date',\r\n          sortable: true,\r\n          valueFormatter: dateFormatter\r\n        },\r\n        {\r\n          field: 'balance',\r\n          headerName: 'Exposure (at Cost)',\r\n          cellClass: 'rightAlign',\r\n          sortable: true,\r\n          filter: true,\r\n          width: 120,\r\n          valueFormatter: moneyFormatter\r\n        },\r\n        {\r\n          field: 'quantity',\r\n          headerName: 'Quantity',\r\n          width: 100,\r\n          filter: true,\r\n          cellClass: 'rightAlign',\r\n          sortable: true,\r\n          valueFormatter: currencyFormatter\r\n        },\r\n        {\r\n          field: 'cost_basis',\r\n          headerName: 'Cost Basis',\r\n          width: 100,\r\n          filter: true,\r\n          cellClass: 'rightAlign',\r\n          sortable: true,\r\n          valueFormatter: costBasisFormatter\r\n        },\r\n        {\r\n          field: 'side',\r\n          width: 50,\r\n          sortable: true,\r\n          filter: true,\r\n          headerName: 'Side'\r\n        },\r\n        {\r\n          field: 'unrealized_pnl',\r\n          cellClass: 'rightAlign',\r\n          headerName: 'Unrealized P&L',\r\n          sortable: true,\r\n          valueFormatter: moneyFormatter\r\n        },\r\n        {\r\n          field: 'unrealized_pnl_fx',\r\n          cellClass: 'rightAlign',\r\n          headerName: 'Unrealized P&L FX',\r\n          valueFormatter: moneyFormatter\r\n        },\r\n        {\r\n          field: 'realized_pnl',\r\n          cellClass: 'rightAlign',\r\n          headerName: 'Realized P&L',\r\n          sortable: true,\r\n          valueFormatter: moneyFormatter\r\n        },\r\n        {\r\n          field: 'realized_pnl_fx',\r\n          cellClass: 'rightAlign',\r\n          headerName: 'Realized P&L FX',\r\n          valueFormatter: moneyFormatter\r\n        },\r\n        {\r\n          field: 'net',\r\n          cellClass: 'rightAlign',\r\n          headerName: 'Net P&L',\r\n          sortable: true,\r\n          valueFormatter: moneyFormatter\r\n        },\r\n        {\r\n          field: 'dividend',\r\n          cellClass: 'rightAlign',\r\n          headerName: 'Dividend',\r\n          valueFormatter: moneyFormatter\r\n        }\r\n        ,\r\n        {\r\n          field: 'dividend_withholding',\r\n          cellClass: 'rightAlign',\r\n          headerName: 'Withholding',\r\n          valueFormatter: moneyFormatter\r\n        }\r\n        ,\r\n        {\r\n          field: 'dividend_net',\r\n          cellClass: 'rightAlign',\r\n          headerName: 'Dividend Net',\r\n          valueFormatter: moneyFormatter\r\n        }        \r\n      ],\r\n      defaultColDef: {\r\n        sortable: true,\r\n        resizable: true,\r\n        filter: true\r\n      }\r\n    } as GridOptions;\r\n    this.timeseriesOptions.sideBar = SideBar(\r\n      GridId.timeseriesId,\r\n      GridName.timeseries,\r\n      this.timeseriesOptions\r\n    );\r\n  }\r\n\r\n  getFunds() {\r\n    this.financeService.getFunds().subscribe(result => {\r\n      this.funds = result.payload.map(item => ({\r\n        fundId: item.FundId,\r\n        fundCode: item.FundCode\r\n      }));\r\n    });\r\n  }\r\n\r\n  // Being called twice\r\n  getReport(date, symbol, fund) {\r\n    this.isLoading = true;\r\n    this.gridOptions.api.showLoadingOverlay();\r\n    this.reportsApiService\r\n      .getCostBasisReport(moment(date).format('YYYY-MM-DD'), symbol, fund)\r\n      .subscribe(response => {\r\n        this.trialBalanceReportStats = response.stats;\r\n        this.trialBalanceReport = response.payload;\r\n        if (this.trialBalanceReport.length === 0) {\r\n          this.timeseriesOptions.api.setRowData([]);\r\n          this.costBasisConfig.chartsView = false;\r\n        }\r\n        this.gridOptions.api.setRowData(this.trialBalanceReport);\r\n        this.gridOptions.api.sizeColumnsToFit();\r\n        this.isLoading = false;\r\n      });\r\n  }\r\n\r\n  rowSelected(row) {\r\n    const { symbol } = row.data;\r\n    this.getMarketPriceData(symbol);\r\n    this.getDataForCostBasisChart(symbol);\r\n  }\r\n\r\n  getDataForCostBasisChart(symbol: any) {\r\n    this.reportsApiService.getCostBasisChart(symbol).subscribe(response => {\r\n      this.chartData = response.payload;\r\n      this.chartData = this.chartData.sort((x, y) => {\r\n        return new Date(y.business_date).getTime() - new Date(x.business_date).getTime();\r\n      });\r\n      this.mapCostBasisData(response.payload, this.selectedChartOption);\r\n      this.mapChartsData(response.payload);\r\n      this.timeseriesOptions.api.setRowData(this.chartData);\r\n      this.timeseriesOptions.api.sizeColumnsToFit();\r\n    });\r\n  }\r\n\r\n  getMarketPriceData(symbol) {\r\n    this.financeService.getMarketPriceForSymbol(symbol).subscribe(response => {\r\n      this.mapMarketPriceChartData(response.payload, symbol);\r\n    });\r\n  }\r\n\r\n  mapMarketPriceChartData(chartData, symbol) {\r\n    const data = {};\r\n    const toDate =\r\n      chartData != null ? moment(chartData[0].BusinessDate).format('YYYY-MM-DD') : null;\r\n    data[symbol] = [];\r\n\r\n    // tslint:disable-next-line: forin\r\n    for (const item in chartData) {\r\n      data[symbol].push({\r\n        date: moment(chartData[item].BusinessDate).format('YYYY-MM-DD'),\r\n        value: chartData[item].Price\r\n      });\r\n    }\r\n\r\n    this.graphObject = {\r\n      xAxisLabel: 'Date',\r\n      yAxisLabel: 'Symbol',\r\n      lineColors: ['#ff6960', '#00bd9a'],\r\n      height: 220,\r\n      width: '95%',\r\n      chartTitle: symbol,\r\n      propId: 'marketPriceCostBasis',\r\n      graphData: data,\r\n      dateTimeFormat: 'YYYY-MM-DD',\r\n      referenceDate: toDate\r\n    };\r\n\r\n    this.marketPriceChart = true;\r\n  }\r\n\r\n  mapCostBasisData(data: any, chartType: string) {\r\n    this.labels = data.map(item => item.Date);\r\n    this.cbData = {\r\n      chartType: data.map(item => ({\r\n        date: FormatDate(item.Date, 'YYYY-MM-DD'),\r\n        value: item[chartType]\r\n      }))\r\n    };\r\n  }\r\n\r\n  mapChartsData(data: any) {\r\n    this.labels = data.map(item => item.business_date);\r\n\r\n    this.bData = {\r\n      Balance: data.map(item => ({\r\n        date: FormatDate(item.business_date, 'YYYY-MM-DD'),\r\n        value: item.balance\r\n      }))\r\n    };\r\n\r\n    this.qData = {\r\n      Quantity: data.map(item => ({\r\n        date: FormatDate(item.business_date, 'YYYY-MM-DD'),\r\n        value: item.quantity\r\n      }))\r\n    };\r\n\r\n    this.unrealizedData = {\r\n      unrealized_pnl: data.map(item => ({\r\n        date: FormatDate(item.business_date, 'YYYY-MM-DD'),\r\n        value: item.unrealized_pnl\r\n      }))\r\n    };\r\n\r\n    this.realizedData = {\r\n      realized_pnl: data.map(item => ({\r\n        date: FormatDate(item.business_date, 'YYYY-MM-DD'),\r\n        value: item.realized_pnl\r\n      }))\r\n    };\r\n\r\n    this.netpnlData = {\r\n      Pnl: data.map(item => ({\r\n        date: FormatDate(item.business_date, 'YYYY-MM-DD'),\r\n        value: item.net\r\n      }))\r\n    };\r\n  }\r\n\r\n  ngModelChangeSymbol(e) {\r\n    this.filterBySymbol = e;\r\n    this.gridOptions.api.onFilterChanged();\r\n  }\r\n\r\n  onSymbolKey(e) {\r\n    this.filterBySymbol = e.srcElement.value;\r\n    this.gridOptions.api.onFilterChanged();\r\n\r\n    // For the moment we react to each key stroke\r\n    if (e.code === 'Enter' || e.code === 'Tab') {\r\n    }\r\n  }\r\n\r\n  onFilterChanged() {\r\n    this.pinnedBottomRowData = CalTotalRecords(this.gridOptions);\r\n    this.gridOptions.api.setPinnedBottomRowData(this.pinnedBottomRowData);\r\n  }\r\n\r\n  isExternalFilterPassed(object) {\r\n    const { fundFilter } = object;\r\n    const { symbolFilter } = object;\r\n    const { dateFilter } = object;\r\n    this.fund = fundFilter !== undefined ? fundFilter : this.fund;\r\n    this.filterBySymbol = symbolFilter !== undefined ? symbolFilter : this.filterBySymbol;\r\n    this.setDateRange(dateFilter);\r\n    this.getReport(this.startDate, this.filterBySymbol, this.fund);\r\n    this.gridOptions.api.onFilterChanged();\r\n  }\r\n\r\n  isExternalFilterPresent() {\r\n    if (this.fund !== 'All Funds' || this.startDate || this.filterBySymbol !== '') {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  doesExternalFilterPass(node: any) {\r\n    if (this.filterBySymbol !== '') {\r\n      const cellSymbol = node.data.symbol === null ? '' : node.data.symbol;\r\n      return cellSymbol.toLowerCase().includes(this.filterBySymbol.toLowerCase());\r\n    }\r\n    return true;\r\n  }\r\n\r\n  getContextMenuItems(params): Array<ContextMenu> {\r\n    const addDefaultItems = [\r\n      {\r\n        name: 'View Chart',\r\n        action: () => {\r\n          params.node.setSelected(true);\r\n          this.rowSelected(params.node);\r\n\r\n          this.costBasisConfig.chartsView = true;\r\n        }\r\n      },\r\n      {\r\n        name: 'Security Details',\r\n        subMenu: [\r\n          {\r\n            name: 'Extend',\r\n            action: () => {\r\n              this.isLoading = true;\r\n\r\n              this.securityApiService.getDataForSecurityModal(params.node.data.symbol).subscribe(\r\n                ([config, securityDetails]: [any, any]) => {\r\n\r\n                  this.isLoading = false;\r\n                  if (!config.isSuccessful) {\r\n                  this.toastrService.error('No security type found against the selected symbol!');\r\n                  return;\r\n                }\r\n                  if (securityDetails.payload.length === 0) {\r\n                  this.securityModal.openSecurityModalFromOutside(params.node.data.symbol,\r\n                    config.payload[0].SecurityType, config.payload[0].Fields, null, 'extend');\r\n                } else {\r\n                  this.securityModal.openSecurityModalFromOutside(params.node.data.symbol,\r\n                    config.payload[0].SecurityType, config.payload[0].Fields, securityDetails.payload[0], 'extend');\r\n                }\r\n\r\n                },\r\n                error => {\r\n                  this.isLoading = false;\r\n                }\r\n              );\r\n            }\r\n          }\r\n        ]\r\n      }\r\n    ];\r\n\r\n    // (isDefaultItems, addDefaultItem, isCustomItems, addCustomItems, params)\r\n    return GetContextMenu(false, addDefaultItems, true, null, params);\r\n  }\r\n\r\n  setDateRange(dateFilter: any) {\r\n    const dates = SetDateRange(dateFilter, this.startDate, this.endDate);\r\n    this.startDate = dates[0];\r\n    this.endDate = dates[1];\r\n\r\n    this.selectedDate =\r\n      dateFilter.startDate !== '' ? { startDate: this.startDate, endDate: this.endDate } : null;\r\n  }\r\n\r\n  getRangeLabel() {\r\n    this.DateRangeLabel = '';\r\n    this.DateRangeLabel = GetDateRangeLabel(this.startDate, this.endDate);\r\n  }\r\n\r\n  getExternalFilterState() {\r\n    return {\r\n      fundFilter: this.fund,\r\n      symbolFilter: this.filterBySymbol,\r\n      dateFilter: {\r\n        startDate: this.startDate !== undefined ? this.startDate : '',\r\n        endDate: this.endDate !== undefined ? this.endDate : ''\r\n      }\r\n    };\r\n  }\r\n\r\n  changeDate(selectedDate) {\r\n    if (!selectedDate.startDate) {\r\n      return;\r\n    }\r\n    this.startDate = selectedDate.startDate.format('YYYY-MM-DD');\r\n    this.getReport(\r\n      this.startDate,\r\n      this.filterBySymbol,\r\n      this.fund === 'All Funds' ? 'ALL' : this.fund\r\n    );\r\n    this.getRangeLabel();\r\n  }\r\n\r\n  changeFund(selectedFund) {\r\n    this.fund = selectedFund;\r\n    this.getReport(\r\n      this.startDate,\r\n      this.filterBySymbol,\r\n      this.fund === 'All Funds' ? 'ALL' : this.fund\r\n    );\r\n  }\r\n\r\n  changeChart(selectedChart) {\r\n    this.selectedChartOption = selectedChart;\r\n    this.selectedChartTitle = this.chartOptions.find(({ key }) => selectedChart === key).value;\r\n    if (this.chartData) {\r\n      this.mapCostBasisData(this.chartData, this.selectedChartOption);\r\n    }\r\n  }\r\n\r\n  clearFilters() {\r\n    this.fund = 'All Funds';\r\n    this.selectedDate = null;\r\n    this.DateRangeLabel = '';\r\n    this.endDate = undefined;\r\n    this.filterBySymbol = '';\r\n    this.gridOptions.api.setRowData([]);\r\n    this.timeseriesOptions.api.setRowData([]);\r\n    this.costBasisConfig.chartsView = false;\r\n  }\r\n\r\n  refreshReport() {\r\n    this.gridOptions.api.showLoadingOverlay();\r\n    this.timeseriesOptions.api.setRowData([]);\r\n    this.costBasisConfig.chartsView = false;\r\n    if (this.selectedDate.startDate == null) {\r\n      this.selectedDate = {\r\n        startDate: moment(this.journalDate, 'YYYY-MM-DD'),\r\n        endDate: moment(this.endDate, 'YYYY-MM-DD')\r\n      };\r\n      this.getReport(this.journalDate, this.filterBySymbol, 'ALL');\r\n    } else {\r\n      const startDate = this.selectedDate.startDate.format('YYYY-MM-DD');\r\n      this.getReport(startDate, this.filterBySymbol, 'ALL');\r\n    }\r\n  }\r\n\r\n  onBtExport() {\r\n    const params = {\r\n      fileName: 'Cost Basis Reports',\r\n      sheetName: 'First Sheet'\r\n    };\r\n    this.gridOptions.api.exportDataAsExcel(params);\r\n    this.downloadExcelUtils.ToastrMessage();\r\n  }\r\n}\r\n\r\nfunction dateFormatter(params): string {\r\n  if (params.value === undefined) {\r\n    return;\r\n  }\r\n  return DateFormatter(params.value);\r\n}\r\n\r\nfunction currencyFormatter(params): string {\r\n  if (params.value === undefined) {\r\n    return;\r\n  }\r\n  return CommaSeparatedFormat(params.value);\r\n}\r\n\r\nfunction costBasisFormatter(params): string {\r\n  if (params.value === undefined) {\r\n    return;\r\n  }\r\n  return FormatNumber4(params.value);\r\n}\r\n\r\nfunction decimnalFormatter2(params) {\r\n  if (params.value === undefined) {\r\n    return;\r\n  }\r\n  return FormatNumber2(params.value);\r\n}\r\n\r\nfunction moneyFormatter(params) {\r\n  if (params.value === undefined) {\r\n    return;\r\n  }\r\n  return MoneyFormat(params.value);\r\n}\r\n\r\nfunction absCurrencyFormatter(params) {\r\n  if (params.value === undefined) {\r\n    return;\r\n  }\r\n  return CommaSeparatedFormat(Math.abs(params.value));\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21haW4vcmVwb3J0cy9wb3NpdGlvbi1tYXJrZXQtdmFsdWUtYXBwcmFpc2FsL3Bvc2l0aW9uLW1hcmtldC12YWx1ZS1hcHByYWlzYWwuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, ViewChild, OnInit, AfterViewInit } from '@angular/core';\r\nimport { timer, Subject } from 'rxjs';\r\nimport { debounce } from 'rxjs/operators';\r\nimport * as moment from 'moment';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { GridUtils } from 'lp-toolkit';\r\nimport { DataService } from '../../../../services/common/data.service';\r\nimport { FinanceServiceProxy } from '../../../../services/service-proxies';\r\nimport { ReportsApiService } from 'src/services/reports-api.service';\r\nimport { SecurityApiService } from 'src/services/security-api.service';\r\nimport { Fund } from '../../../../shared/Models/account';\r\nimport {\r\n  Ranges,\r\n  Style,\r\n  SideBar,\r\n  ExcelStyle,\r\n  GetDateRangeLabel,\r\n  FormatNumber4,\r\n  FormatNumber2,\r\n  MoneyFormat,\r\n  SetDateRange,\r\n  CommaSeparatedFormat,\r\n  HeightStyle,\r\n  DateFormatter\r\n} from 'src/shared/utils/Shared';\r\nimport { DownloadExcelUtils } from 'src/shared/utils/DownloadExcelUtils';\r\nimport { GridLayoutMenuComponent, CustomGridOptions } from 'lp-toolkit';\r\nimport { GridId, GridName } from 'src/shared/utils/AppEnums';\r\nimport { GetContextMenu } from 'src/shared/utils/ContextMenu';\r\nimport { ContextMenu } from 'src/shared/Models/common';\r\nimport { CreateSecurityComponent } from 'src/shared/Modal/create-security/create-security.component';\r\nimport { formatPercent } from '@angular/common';\r\n\r\n@Component({\r\n  selector: 'app-position-market-value-appraisal',\r\n  templateUrl: './position-market-value-appraisal.component.html',\r\n  styleUrls: ['./position-market-value-appraisal.component.scss']\r\n})\r\nexport class PositionMarketValueAppraisalComponent implements OnInit, AfterViewInit {\r\n  @ViewChild('securityModal', { static: false }) securityModal: CreateSecurityComponent;\r\n\r\n  gridOptions: CustomGridOptions;\r\n  funds: Fund;\r\n  fund: any = 'All Funds';\r\n  DateRangeLabel: string;\r\n  selectedDate: any;\r\n  startDate: any;\r\n  endDate: any;\r\n  maxDate: moment.Moment;\r\n\r\n  // private filterSubject: Subject<string> = new Subject();\r\n  filterBySymbol = '';\r\n\r\n  reportData: any;\r\n  isLoading = false;\r\n  hideGrid: boolean;\r\n\r\n  journalDate: Date;\r\n\r\n  labels: string[] = [];\r\n\r\n  ranges: any = Ranges;\r\n\r\n  style = Style;\r\n\r\n  styleForHeight = HeightStyle(220);\r\n\r\n  processingMsgDiv = {\r\n    border: '1px solid #eee',\r\n    padding: '4px',\r\n    marginTop: '20px',\r\n    width: '100%',\r\n    height: 'calc(100vh - 125px)',\r\n    boxSizing: 'border-box'\r\n  };\r\n\r\n  constructor(\r\n    private dataService: DataService,\r\n    private toastrService: ToastrService,\r\n    private financeService: FinanceServiceProxy,\r\n    private reportsApiService: ReportsApiService,\r\n    private securityApiService: SecurityApiService,\r\n    private downloadExcelUtils: DownloadExcelUtils\r\n  ) {\r\n    this.hideGrid = false;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.initGrid();\r\n    this.getLatestJournalDate();\r\n    this.getFunds();\r\n    this.maxDate = moment();\r\n    // In case we need to enable filter by symbol from server side\r\n    // this.filterSubject.pipe(debounce(() => timer(1000))).subscribe(() => {\r\n    //   this.getReport(this.startDate, this.filterBySymbol, this.fund === 'All Funds' ? 'ALL' : this.fund);\r\n    // });\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.dataService.flag$.subscribe(obj => {\r\n      this.hideGrid = obj;\r\n      if (!this.hideGrid) {\r\n        this.getFunds();\r\n      }\r\n    });\r\n  }\r\n\r\n  getLatestJournalDate() {\r\n    this.reportsApiService.getLatestJournalDate().subscribe(\r\n      date => {\r\n        if (date.isSuccessful && date.statusCode === 200) {\r\n          this.journalDate = date.payload[0].when;\r\n          this.startDate = this.journalDate;\r\n          this.selectedDate = {\r\n            startDate: moment(this.startDate, 'YYYY-MM-DD'),\r\n            endDate: moment(this.endDate, 'YYYY-MM-DD')\r\n          };\r\n        }\r\n      },\r\n      error => {}\r\n    );\r\n  }\r\n\r\n  initGrid() {\r\n    this.gridOptions = {\r\n      rowData: null,\r\n      pinnedBottomRowData: null,\r\n      /* Custom Method Binding for External Filters from Grid Layout Component */\r\n      getExternalFilterState: this.getExternalFilterState.bind(this),\r\n      clearExternalFilter: this.clearFilters.bind(this),\r\n      setExternalFilter: this.isExternalFilterPassed.bind(this),\r\n      isExternalFilterPresent: this.isExternalFilterPresent.bind(this),\r\n      doesExternalFilterPass: this.doesExternalFilterPass.bind(this),\r\n      frameworkComponents: { customToolPanel: GridLayoutMenuComponent },\r\n      onFilterChanged: this.onFilterChanged.bind(this),\r\n      onCellClicked: this.rowSelected.bind(this),\r\n      rowSelection: 'single',\r\n      rowGroupPanelShow: 'after',\r\n      groupIncludeFooter: true,\r\n      suppressAggFuncInHeader: true,\r\n      groupIncludeTotalFooter: true,\r\n      animateRows: true,\r\n      enableFilter: true,\r\n      suppressHorizontalScroll: false,\r\n      suppressColumnVirtualisation: true,\r\n      alignedGrids: [],\r\n      deltaRowDataMode: true,\r\n      getRowNodeId: data => {\r\n        return data.id;\r\n      },\r\n      getContextMenuItems: params => this.getContextMenuItems(params),\r\n      onGridReady: params => {\r\n        this.gridOptions.excelStyles = ExcelStyle;\r\n      },\r\n      onFirstDataRendered: params => {\r\n        params.api.forEachNode(node => {\r\n          node.expanded = true;\r\n        });\r\n        params.api.onGroupExpandedOrCollapsed();\r\n      },\r\n      columnDefs: [\r\n        {\r\n          field: 'position',\r\n          headerName: 'Position',\r\n          rowGroup: true,\r\n          enableRowGroup: true\r\n        },\r\n        {\r\n          field: 'SecurityType',\r\n          headerName: 'SecurityType',\r\n          rowGroup: true,\r\n          enableRowGroup: true\r\n        },\r\n        {\r\n          field: 'EzeTicker',\r\n          headerName: 'Symbol',\r\n          enableRowGroup: true,\r\n          rowGroup: true,\r\n        },\r\n        {\r\n          field: 'ISIN',\r\n          headerName: 'ISIN'\r\n        },\r\n        {\r\n          field: 'Sedol',\r\n          headerName: 'Sedol'\r\n        },\r\n        {\r\n          field: 'Cusip',\r\n          headerName: 'Cusip'\r\n        },\r\n        {\r\n          field: 'SecurityDesc',\r\n          headerName: 'Instrument Name'\r\n        },\r\n        {\r\n          field: 'quantity',\r\n          headerName: 'End Quantity',\r\n          aggFunc: 'sum',\r\n          cellClass: 'rightAlign',\r\n          valueFormatter: currencyFormatter\r\n        },\r\n        {\r\n          field: 'business_date',\r\n          headerName: 'Business Date',\r\n          cellClass: 'rightAlign',\r\n          valueFormatter: dateFormatter\r\n        },\r\n        {\r\n          field: 'cost_basis',\r\n          headerName: 'Cost Basis(Local)',\r\n          cellClass: 'rightAlign'\r\n        },\r\n        {\r\n          field: 'end_price',\r\n          headerName: 'End Price(Local)',\r\n          cellClass: 'rightAlign'\r\n        },\r\n        {\r\n          field: 'end_price_reporting',\r\n          headerName: 'End Price(Reporting)',\r\n          cellClass: 'rightAlign'\r\n        },\r\n        {\r\n          field: 'price_percent_change',\r\n          headerName: 'Price % Change',\r\n          cellClass: 'rightAlign',\r\n          valueFormatter: decimnalFormatter2\r\n        },\r\n        {\r\n          field: 'local_currency',\r\n          headerName: 'Local Currency'\r\n        },\r\n        {\r\n          field: 'fx_rate_to_reporting_currency',\r\n          headerName: 'FX Rate to Reporting Currency',\r\n          valueFormatter: decimnalFormatter4\r\n        },\r\n        {\r\n          field: 'end_market_value_local',\r\n          headerName: 'End Market Value(Local)',\r\n          cellClass: 'rightAlign',\r\n          valueFormatter: currencyFormatter\r\n        },\r\n        {\r\n          field: 'cost_local',\r\n          headerName: 'Cost(Local)',\r\n          cellClass: 'rightAlign',\r\n          valueFormatter: currencyFormatter\r\n        },\r\n        {\r\n          field: 'unrealized_pnl_local',\r\n          headerName: 'Unrealized PnL(Local)',\r\n          cellClass: 'rightAlign',\r\n          valueFormatter: currencyFormatter\r\n        },\r\n        {\r\n          field: 'end_market_value_reporting',\r\n          headerName: 'End Market Value(Reporting)',\r\n          aggFunc: 'sum',\r\n          cellClass: 'rightAlign',\r\n          valueFormatter: currencyFormatter\r\n        },\r\n        {\r\n          field: 'cost_basis_reporting',\r\n          headerName: 'Cost(Reporting))',\r\n          cellClass: 'rightAlign',\r\n          aggFunc: 'sum',\r\n          valueFormatter: currencyFormatter\r\n        }\r\n        ,\r\n        {\r\n          field: 'unrealized_pnl_reporting',\r\n          headerName: 'Unrealized PnL(Reporting)',\r\n          aggFunc: 'sum',\r\n          cellClass: 'rightAlign',\r\n          valueFormatter: currencyFormatter\r\n        }\r\n      ],\r\n      defaultColDef: {\r\n        resizable: true,\r\n        sortable: true,\r\n        filter: true\r\n      }\r\n    };\r\n    this.gridOptions.sideBar = SideBar(\r\n      GridId.positionMarketValueAppraisalId,\r\n      GridName.positionMarketValueAppraisal,\r\n      this.gridOptions\r\n    );\r\n  }\r\n\r\n  getFunds() {\r\n    this.financeService.getFunds().subscribe(result => {\r\n      this.funds = result.payload.map(item => ({\r\n        fundId: item.FundId,\r\n        fundCode: item.FundCode\r\n      }));\r\n    });\r\n  }\r\n\r\n  getReport(date, symbol, fund) {\r\n    this.isLoading = true;\r\n    this.gridOptions.api.showLoadingOverlay();\r\n    this.reportsApiService\r\n      .getPositionMarketValueAppraisalReport(moment(date).format('YYYY-MM-DD'))\r\n      .subscribe(response => {\r\n        this.reportData = response.payload;\r\n\r\n        this.gridOptions.api.setRowData(this.reportData);\r\n        GridUtils.autoSizeAllColumns(this.gridOptions);\r\n\r\n        this.isLoading = false;\r\n        this.gridOptions.api.hideOverlay();\r\n      });\r\n  }\r\n\r\n  rowSelected(row) {}\r\n\r\n  ngModelChangeSymbol(e) {\r\n    this.filterBySymbol = e;\r\n    this.gridOptions.api.onFilterChanged();\r\n  }\r\n\r\n  onSymbolKey(e) {\r\n    this.filterBySymbol = e.srcElement.value;\r\n    this.gridOptions.api.onFilterChanged();\r\n\r\n    // For the Moment we react to each Key Stroke\r\n    if (e.code === 'Enter' || e.code === 'Tab') {\r\n    }\r\n  }\r\n\r\n  onFilterChanged() {}\r\n\r\n  isExternalFilterPassed(object) {\r\n    const { fundFilter } = object;\r\n    const { symbolFilter } = object;\r\n    const { dateFilter } = object;\r\n    this.fund = fundFilter !== undefined ? fundFilter : this.fund;\r\n    this.filterBySymbol = symbolFilter !== undefined ? symbolFilter : this.filterBySymbol;\r\n    this.setDateRange(dateFilter);\r\n    this.getReport(this.startDate, this.filterBySymbol, this.fund);\r\n    this.gridOptions.api.onFilterChanged();\r\n  }\r\n\r\n  isExternalFilterPresent() {\r\n    if (this.fund !== 'All Funds' || this.startDate || this.filterBySymbol !== '') {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  doesExternalFilterPass(node: any) {\r\n    if (this.filterBySymbol !== '') {\r\n      const cellSymbol = node.data.EzeTicker === null ? '' : node.data.EzeTicker;\r\n      return cellSymbol.toLowerCase().includes(this.filterBySymbol.toLowerCase());\r\n    }\r\n    return true;\r\n  }\r\n\r\n  getContextMenuItems(params): Array<ContextMenu> {\r\n    const addDefaultItems = [\r\n      {\r\n        name: 'Security Details',\r\n        subMenu: [\r\n          {\r\n            name: 'Extend',\r\n            action: () => {\r\n              this.isLoading = true;\r\n\r\n              this.securityApiService.getDataForSecurityModal(params.node.data.EzeTicker).subscribe(\r\n                ([config, securityDetails]: [any, any]) => {\r\n\r\n                  this.isLoading = false;\r\n                  if (!config.isSuccessful) {\r\n                  this.toastrService.error('No security type found against the selected symbol!');\r\n                  return;\r\n                }\r\n                  if (securityDetails.payload.length === 0) {\r\n                  this.securityModal.openSecurityModalFromOutside(params.node.data.EzeTicker,\r\n                    config.payload[0].SecurityType, config.payload[0].Fields, null, 'extend');\r\n                } else {\r\n                  this.securityModal.openSecurityModalFromOutside(params.node.data.EzeTicker,\r\n                    config.payload[0].SecurityType, config.payload[0].Fields, securityDetails.payload[0], 'extend');\r\n                }\r\n\r\n                },\r\n                error => {\r\n                  this.isLoading = false;\r\n                }\r\n              );\r\n            }\r\n          }\r\n        ]\r\n      }\r\n    ];\r\n\r\n    // (isDefaultItems, addDefaultItem, isCustomItems, addCustomItems, params)\r\n    return GetContextMenu(false, addDefaultItems, true, null, params);\r\n  }\r\n\r\n  setDateRange(dateFilter: any) {\r\n    const dates = SetDateRange(dateFilter, this.startDate, this.endDate);\r\n    this.startDate = dates[0];\r\n    this.endDate = dates[1];\r\n\r\n    this.selectedDate =\r\n      dateFilter.startDate !== '' ? { startDate: this.startDate, endDate: this.endDate } : null;\r\n  }\r\n\r\n  getRangeLabel() {\r\n    this.DateRangeLabel = '';\r\n    this.DateRangeLabel = GetDateRangeLabel(this.startDate, this.endDate);\r\n  }\r\n\r\n  getExternalFilterState() {\r\n    return {\r\n      fundFilter: this.fund,\r\n      symbolFilter: this.filterBySymbol,\r\n      dateFilter: {\r\n        startDate: this.startDate !== undefined ? this.startDate : '',\r\n        endDate: this.endDate !== undefined ? this.endDate : ''\r\n      }\r\n    };\r\n  }\r\n\r\n  changeDate(selectedDate) {\r\n    if (!selectedDate.startDate) {\r\n      return;\r\n    }\r\n    this.startDate = selectedDate.startDate.format('YYYY-MM-DD');\r\n    this.getReport(\r\n      this.startDate,\r\n      this.filterBySymbol,\r\n      this.fund === 'All Funds' ? 'ALL' : this.fund\r\n    );\r\n    this.getRangeLabel();\r\n  }\r\n\r\n  changeFund(selectedFund) {\r\n    this.fund = selectedFund;\r\n    this.getReport(\r\n      this.startDate,\r\n      this.filterBySymbol,\r\n      this.fund === 'All Funds' ? 'ALL' : this.fund\r\n    );\r\n  }\r\n\r\n  clearFilters() {\r\n    this.fund = 'All Funds';\r\n    this.selectedDate = null;\r\n    this.DateRangeLabel = '';\r\n    this.endDate = undefined;\r\n    this.filterBySymbol = '';\r\n    this.gridOptions.api.setRowData([]);\r\n  }\r\n\r\n  refreshReport() {\r\n    if (this.selectedDate.startDate == null) {\r\n      this.selectedDate = {\r\n        startDate: moment(this.journalDate, 'YYYY-MM-DD'),\r\n        endDate: moment(this.endDate, 'YYYY-MM-DD')\r\n      };\r\n      this.getReport(this.journalDate, this.filterBySymbol, 'ALL');\r\n    } else {\r\n      const startDate = this.selectedDate.startDate.format('YYYY-MM-DD');\r\n      this.getReport(startDate, this.filterBySymbol, 'ALL');\r\n    }\r\n  }\r\n\r\n  onBtExport() {\r\n    const params = {\r\n      fileName: 'Cost Basis Reports',\r\n      sheetName: 'First Sheet'\r\n    };\r\n    this.gridOptions.api.exportDataAsExcel(params);\r\n    this.downloadExcelUtils.ToastrMessage();\r\n  }\r\n}\r\n\r\nfunction dateFormatter(params): string {\r\n  if (params.value === undefined) {\r\n    return;\r\n  }\r\n  return DateFormatter(params.value);\r\n}\r\n\r\nfunction currencyFormatter(params): string {\r\n  if (params.value === undefined) {\r\n    return;\r\n  }\r\n  return CommaSeparatedFormat(params.value);\r\n}\r\n\r\nfunction costBasisFormatter(params): string {\r\n  if (params.value === undefined) {\r\n    return;\r\n  }\r\n  return FormatNumber4(params.value);\r\n}\r\n\r\nfunction decimnalFormatter2(params) {\r\n  if (params.value === undefined) {\r\n    return;\r\n  }\r\n  return FormatNumber2(params.value);\r\n}\r\n\r\nfunction decimnalFormatter4(params) {\r\n  if (params.value === undefined) {\r\n    return;\r\n  }\r\n  return FormatNumber4(params.value);\r\n}\r\n\r\nfunction moneyFormatter(params) {\r\n  if (params.value === undefined) {\r\n    return;\r\n  }\r\n  return MoneyFormat(params.value);\r\n}\r\n\r\nfunction absCurrencyFormatter(params) {\r\n  if (params.value === undefined) {\r\n    return;\r\n  }\r\n  return CommaSeparatedFormat(Math.abs(params.value));\r\n}\r\n","export default \"body,\\nhtml {\\n  margin: 0;\\n  padding: 0;\\n  height: 100%;\\n}\\n\\n.refresh-spinner {\\n  display: flex;\\n  width: 8rem;\\n  height: 3rem;\\n  position: absolute;\\n  top: 46%;\\n  left: 48%;\\n  border: 1px solid grey;\\n  background-color: #fcfbfd;\\n  color: #606264;\\n  justify-content: center;\\n  align-items: center;\\n  z-index: 1000;\\n}\\n\\n.md-datepicker-input-container {\\n  width: 150px;\\n}\\n\\n.mat-datepicker-content .mat-calendar {\\n  zoom: 0.5;\\n}\\n\\n::-webkit-scrollbar {\\n  width: 10px;\\n  z-index: 1000;\\n}\\n\\n::-webkit-scrollbar-thumb {\\n  /* background-clip: padding-box; */\\n  border-radius: 16px;\\n  border: 4px solid transparent;\\n  background-color: #a0a0a0;\\n  cursor: pointer;\\n  transition: background-color 0.1s ease;\\n}\\n\\n@media (min-width: 320px) {\\n  ::ng-deep.md-drppicker.shown.drops-down-right {\\n    width: 320px;\\n  }\\n}\\n\\n@media (min-width: 768px) {\\n  ::ng-deep.md-drppicker.shown.drops-down-right {\\n    width: auto;\\n  }\\n}\\n\\n::ng-deep .debit {\\n  background-image: linear-gradient(to right, #64dc64 0%, #6ee16e 17%, #73e673 33%, #78f078 67%, #7dfa7d 83%, #96ff96 100%);\\n  background-position: 100% 100%;\\n  text-align: end;\\n  font-weight: 500;\\n}\\n\\n::ng-deep .credit {\\n  background-image: linear-gradient(to left, #dc6464 0%, #e16e6e 17%, #e67373 33%, #f07878 67%, #fa7d7d 83%, #ff9696 100%);\\n  padding-right: 18px !important;\\n  text-align: end;\\n  font-weight: 500;\\n}\\n\\n::ng-deep .rightAlign {\\n  text-align: right;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9yZXBvcnRzL0M6XFxVc2Vyc1xcbGF0dGlcXGRldmVsb3BtZW50XFxsaWdodHBvaW50XFxmaW5hbmNlXFxmcm9udGVuZGFwcC9zcmNcXGFwcFxcbWFpblxccmVwb3J0c1xccmVwb3J0cy5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbWFpbi9yZXBvcnRzL3JlcG9ydHMuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0VBRUUsU0FBQTtFQUNBLFVBQUE7RUFDQSxZQUFBO0FDQ0Y7O0FERUE7RUFDRSxhQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtFQUNBLFFBQUE7RUFDQSxTQUFBO0VBQ0Esc0JBQUE7RUFDQSx5QkFBQTtFQUNBLGNBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0VBQ0EsYUFBQTtBQ0NGOztBREVBO0VBQ0UsWUFBQTtBQ0NGOztBREVBO0VBQ0UsU0FBQTtBQ0NGOztBREVBO0VBQ0UsV0FBQTtFQUNBLGFBQUE7QUNDRjs7QURFQTtFQUNFLGtDQUFBO0VBQ0EsbUJBQUE7RUFDQSw2QkFBQTtFQUNBLHlCQUFBO0VBQ0EsZUFBQTtFQUVBLHNDQUFBO0FDQ0Y7O0FERUE7RUFDRTtJQUNFLFlBQUE7RUNDRjtBQUNGOztBREVBO0VBQ0U7SUFDRSxXQUFBO0VDQUY7QUFDRjs7QURHQTtFQUNFLHlIQUFBO0VBU0EsOEJBQUE7RUFDQSxlQUFBO0VBQ0EsZ0JBQUE7QUNURjs7QURZQTtFQUNFLHdIQUFBO0VBU0EsOEJBQUE7RUFDQSxlQUFBO0VBQ0EsZ0JBQUE7QUNqQkY7O0FEb0JBO0VBQ0UsaUJBQUE7QUNqQkYiLCJmaWxlIjoic3JjL2FwcC9tYWluL3JlcG9ydHMvcmVwb3J0cy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImJvZHksXHJcbmh0bWwge1xyXG4gIG1hcmdpbjogMDtcclxuICBwYWRkaW5nOiAwO1xyXG4gIGhlaWdodDogMTAwJTtcclxufVxyXG5cclxuLnJlZnJlc2gtc3Bpbm5lciB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICB3aWR0aDogOHJlbTtcclxuICBoZWlnaHQ6IDNyZW07XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIHRvcDogNDYlO1xyXG4gIGxlZnQ6IDQ4JTtcclxuICBib3JkZXI6IDFweCBzb2xpZCBncmV5O1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNmY2ZiZmQ7XHJcbiAgY29sb3I6ICM2MDYyNjQ7XHJcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICB6LWluZGV4OiAxMDAwO1xyXG59XHJcblxyXG4ubWQtZGF0ZXBpY2tlci1pbnB1dC1jb250YWluZXIge1xyXG4gIHdpZHRoOiAxNTBweDtcclxufVxyXG5cclxuLm1hdC1kYXRlcGlja2VyLWNvbnRlbnQgLm1hdC1jYWxlbmRhciB7XHJcbiAgem9vbTogMC41O1xyXG59XHJcblxyXG46Oi13ZWJraXQtc2Nyb2xsYmFyIHtcclxuICB3aWR0aDogMTBweDtcclxuICB6LWluZGV4OiAxMDAwO1xyXG59XHJcblxyXG46Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iIHtcclxuICAvKiBiYWNrZ3JvdW5kLWNsaXA6IHBhZGRpbmctYm94OyAqL1xyXG4gIGJvcmRlci1yYWRpdXM6IDE2cHg7XHJcbiAgYm9yZGVyOiA0cHggc29saWQgdHJhbnNwYXJlbnQ7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgxNjAsIDE2MCwgMTYwKTtcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgLXdlYmtpdC10cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuMXMgZWFzZTtcclxuICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuMXMgZWFzZTtcclxufVxyXG5cclxuQG1lZGlhIChtaW4td2lkdGg6IDMyMHB4KSB7XHJcbiAgOjpuZy1kZWVwLm1kLWRycHBpY2tlci5zaG93bi5kcm9wcy1kb3duLXJpZ2h0IHtcclxuICAgIHdpZHRoOiAzMjBweDtcclxuICB9XHJcbn1cclxuXHJcbkBtZWRpYSAobWluLXdpZHRoOiA3NjhweCkge1xyXG4gIDo6bmctZGVlcC5tZC1kcnBwaWNrZXIuc2hvd24uZHJvcHMtZG93bi1yaWdodCB7XHJcbiAgICB3aWR0aDogYXV0bztcclxuICB9XHJcbn1cclxuXHJcbjo6bmctZGVlcCAuZGViaXQge1xyXG4gIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudChcclxuICAgIHRvIHJpZ2h0LFxyXG4gICAgcmdiKDEwMCwgMjIwLCAxMDAsIDEpIDAlLFxyXG4gICAgcmdiKDExMCwgMjI1LCAxMTAsIDEpIDE3JSxcclxuICAgIHJnYigxMTUsIDIzMCwgMTE1LCAxKSAzMyUsXHJcbiAgICByZ2JhKDEyMCwgMjQwLCAxMjAsIDEpIDY3JSxcclxuICAgIHJnYigxMjUsIDI1MCwgMTI1LCAxKSA4MyUsXHJcbiAgICByZ2IoMTUwLCAyNTUsIDE1MCwgMSkgMTAwJVxyXG4gICk7XHJcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogMTAwJSAxMDAlO1xyXG4gIHRleHQtYWxpZ246IGVuZDtcclxuICBmb250LXdlaWdodDogNTAwO1xyXG59XHJcblxyXG46Om5nLWRlZXAgLmNyZWRpdCB7XHJcbiAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KFxyXG4gICAgdG8gbGVmdCxcclxuICAgIHJnYigyMjAsIDEwMCwgMTAwLCAxKSAwJSxcclxuICAgIHJnYigyMjUsIDExMCwgMTEwLCAxKSAxNyUsXHJcbiAgICByZ2JhKDIzMCwgMTE1LCAxMTUsIDEpIDMzJSxcclxuICAgIHJnYmEoMjQwLCAxMjAsIDEyMCwgMSkgNjclLFxyXG4gICAgcmdiYSgyNTAsIDEyNSwgMTI1LCAxKSA4MyUsXHJcbiAgICByZ2JhKDI1NSwgMTUwLCAxNTAsIDEpIDEwMCVcclxuICApO1xyXG4gIHBhZGRpbmctcmlnaHQ6IDE4cHggIWltcG9ydGFudDtcclxuICB0ZXh0LWFsaWduOiBlbmQ7XHJcbiAgZm9udC13ZWlnaHQ6IDUwMDtcclxufVxyXG5cclxuOjpuZy1kZWVwIC5yaWdodEFsaWduIHtcclxuICB0ZXh0LWFsaWduOiByaWdodDtcclxufVxyXG4iLCJib2R5LFxuaHRtbCB7XG4gIG1hcmdpbjogMDtcbiAgcGFkZGluZzogMDtcbiAgaGVpZ2h0OiAxMDAlO1xufVxuXG4ucmVmcmVzaC1zcGlubmVyIHtcbiAgZGlzcGxheTogZmxleDtcbiAgd2lkdGg6IDhyZW07XG4gIGhlaWdodDogM3JlbTtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDQ2JTtcbiAgbGVmdDogNDglO1xuICBib3JkZXI6IDFweCBzb2xpZCBncmV5O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmNmYmZkO1xuICBjb2xvcjogIzYwNjI2NDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIHotaW5kZXg6IDEwMDA7XG59XG5cbi5tZC1kYXRlcGlja2VyLWlucHV0LWNvbnRhaW5lciB7XG4gIHdpZHRoOiAxNTBweDtcbn1cblxuLm1hdC1kYXRlcGlja2VyLWNvbnRlbnQgLm1hdC1jYWxlbmRhciB7XG4gIHpvb206IDAuNTtcbn1cblxuOjotd2Via2l0LXNjcm9sbGJhciB7XG4gIHdpZHRoOiAxMHB4O1xuICB6LWluZGV4OiAxMDAwO1xufVxuXG46Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iIHtcbiAgLyogYmFja2dyb3VuZC1jbGlwOiBwYWRkaW5nLWJveDsgKi9cbiAgYm9yZGVyLXJhZGl1czogMTZweDtcbiAgYm9yZGVyOiA0cHggc29saWQgdHJhbnNwYXJlbnQ7XG4gIGJhY2tncm91bmQtY29sb3I6ICNhMGEwYTA7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgLXdlYmtpdC10cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuMXMgZWFzZTtcbiAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAwLjFzIGVhc2U7XG59XG5cbkBtZWRpYSAobWluLXdpZHRoOiAzMjBweCkge1xuICA6Om5nLWRlZXAubWQtZHJwcGlja2VyLnNob3duLmRyb3BzLWRvd24tcmlnaHQge1xuICAgIHdpZHRoOiAzMjBweDtcbiAgfVxufVxuQG1lZGlhIChtaW4td2lkdGg6IDc2OHB4KSB7XG4gIDo6bmctZGVlcC5tZC1kcnBwaWNrZXIuc2hvd24uZHJvcHMtZG93bi1yaWdodCB7XG4gICAgd2lkdGg6IGF1dG87XG4gIH1cbn1cbjo6bmctZGVlcCAuZGViaXQge1xuICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQodG8gcmlnaHQsICM2NGRjNjQgMCUsICM2ZWUxNmUgMTclLCAjNzNlNjczIDMzJSwgIzc4ZjA3OCA2NyUsICM3ZGZhN2QgODMlLCAjOTZmZjk2IDEwMCUpO1xuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAxMDAlIDEwMCU7XG4gIHRleHQtYWxpZ246IGVuZDtcbiAgZm9udC13ZWlnaHQ6IDUwMDtcbn1cblxuOjpuZy1kZWVwIC5jcmVkaXQge1xuICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQodG8gbGVmdCwgI2RjNjQ2NCAwJSwgI2UxNmU2ZSAxNyUsICNlNjczNzMgMzMlLCAjZjA3ODc4IDY3JSwgI2ZhN2Q3ZCA4MyUsICNmZjk2OTYgMTAwJSk7XG4gIHBhZGRpbmctcmlnaHQ6IDE4cHggIWltcG9ydGFudDtcbiAgdGV4dC1hbGlnbjogZW5kO1xuICBmb250LXdlaWdodDogNTAwO1xufVxuXG46Om5nLWRlZXAgLnJpZ2h0QWxpZ24ge1xuICB0ZXh0LWFsaWduOiByaWdodDtcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\r\nimport { DataService } from 'src/services/common/data.service';\r\nimport { Style } from 'src/shared/utils/Shared';\r\n\r\n@Component({\r\n  selector: 'app-reports',\r\n  templateUrl: './reports.component.html',\r\n  styleUrls: ['./reports.component.scss']\r\n})\r\nexport class ReportsComponent implements OnInit {\r\n  costBasisReportActive = true;\r\n  taxLotReportActive = false;\r\n  trialBalanceReportActive = false;\r\n  positionMarketValueAppraisalActive = false;\r\n  hideGrid: boolean;\r\n\r\n  style = Style;\r\n\r\n  processingMsgDiv = {\r\n    border: '1px solid #eee',\r\n    padding: '4px',\r\n    marginTop: '20px',\r\n    width: '100%',\r\n    height: 'calc(100vh - 125px)',\r\n    boxSizing: 'border-box'\r\n  };\r\n\r\n  constructor(private dataService: DataService) {\r\n    this.hideGrid = false;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.dataService.flag$.subscribe(obj => {\r\n      this.hideGrid = obj;\r\n    });\r\n  }\r\n\r\n  activateCostBasisReport() {\r\n    this.costBasisReportActive = true;\r\n  }\r\n\r\n  activateTaxLotReport() {\r\n    this.taxLotReportActive = true;\r\n  }\r\n\r\n  activateTrialBalanceReport() {\r\n    this.trialBalanceReportActive = true;\r\n  }\r\n\r\n  activatePositionMarketValueAppraisalReport() {\r\n    this.positionMarketValueAppraisalActive = true;\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule } from '@angular/router';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { TabsModule, ModalModule, TooltipModule } from 'ngx-bootstrap';\r\nimport { TypeaheadModule } from 'ngx-bootstrap/typeahead';\r\nimport { BsDropdownModule } from 'ngx-bootstrap/dropdown';\r\nimport { NgxDaterangepickerMd } from 'ngx-daterangepicker-material';\r\nimport { AngularSplitModule } from 'angular-split';\r\nimport { NgcatalystModule } from 'ngcatalyst';\r\nimport { LpToolkitModule } from 'lp-toolkit';\r\n\r\nimport { ReportsComponent } from './reports.component';\r\nimport { CostBasisComponent } from './costbasis/costbasis.component';\r\nimport { TaxLotsComponent } from './taxlots/taxlots.component';\r\nimport { TaxLotStatusComponent } from './taxlotstatus/taxlotstatus.component';\r\nimport { TrialBalanceComponent } from './trial-balance/trial-balance.component';\r\nimport { BalanceReportComponent } from './balance-report/balance-report.component';\r\nimport { PositionMarketValueAppraisalComponent } from './position-market-value-appraisal/position-market-value-appraisal.component';\r\n\r\nimport { ReportsRoutes } from './reports.routes';\r\nimport { SharedModule } from '../../shared.module';\r\n\r\nconst reportComponents = [\r\n  ReportsComponent,\r\n  CostBasisComponent,\r\n  TaxLotsComponent,\r\n  TaxLotStatusComponent,\r\n  TrialBalanceComponent,\r\n  BalanceReportComponent,\r\n  PositionMarketValueAppraisalComponent\r\n];\r\n\r\n@NgModule({\r\n  declarations: [...reportComponents],\r\n  exports: [],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(ReportsRoutes),\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    TabsModule,\r\n    ModalModule,\r\n    TypeaheadModule.forRoot(),\r\n    BsDropdownModule.forRoot(),\r\n    TooltipModule,\r\n    NgxDaterangepickerMd.forRoot({\r\n      applyLabel: 'Okay',\r\n      firstDay: 1\r\n    }),\r\n    AngularSplitModule,\r\n    NgcatalystModule,\r\n    LpToolkitModule,\r\n    SharedModule\r\n  ]\r\n})\r\nexport class ReportsModule {}\r\n","import { Route } from '@angular/router';\r\nimport { ReportsComponent } from './reports.component';\r\n\r\nexport const ReportsRoutes: Route[] = [\r\n    {\r\n        path: '',\r\n        component: ReportsComponent\r\n\r\n    }\r\n]","export default \"body,\\nhtml {\\n  margin: 0;\\n  padding: 0;\\n  height: 100%;\\n}\\n\\n.refresh-spinner {\\n  display: flex;\\n  width: 8rem;\\n  height: 3rem;\\n  position: absolute;\\n  top: 46%;\\n  left: 48%;\\n  border: 1px solid grey;\\n  background-color: #fcfbfd;\\n  color: #606264;\\n  justify-content: center;\\n  align-items: center;\\n  z-index: 1000;\\n}\\n\\n.md-datepicker-input-container {\\n  width: 150px;\\n}\\n\\n.mat-datepicker-content .mat-calendar {\\n  zoom: 0.5;\\n}\\n\\n::-webkit-scrollbar {\\n  width: 10px;\\n  z-index: 1000;\\n}\\n\\n::-webkit-scrollbar-thumb {\\n  /* background-clip: padding-box; */\\n  border-radius: 16px;\\n  border: 4px solid transparent;\\n  background-color: #a0a0a0;\\n  cursor: pointer;\\n  transition: background-color 0.1s ease;\\n}\\n\\n@media (min-width: 320px) {\\n  ::ng-deep.md-drppicker.shown.drops-down-right {\\n    width: 320px;\\n  }\\n}\\n\\n@media (min-width: 768px) {\\n  ::ng-deep.md-drppicker.shown.drops-down-right {\\n    width: auto;\\n  }\\n}\\n\\n::ng-deep .debit {\\n  background-image: linear-gradient(to right, #64dc64 0%, #6ee16e 17%, #73e673 33%, #78f078 67%, #7dfa7d 83%, #96ff96 100%);\\n  background-position: 100% 100%;\\n  text-align: end;\\n  font-weight: 500;\\n}\\n\\n::ng-deep .credit {\\n  background-image: linear-gradient(to left, #dc6464 0%, #e16e6e 17%, #e67373 33%, #f07878 67%, #fa7d7d 83%, #ff9696 100%);\\n  padding-right: 18px !important;\\n  text-align: end;\\n  font-weight: 500;\\n}\\n\\n::ng-deep .rightAlign {\\n  text-align: right;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9yZXBvcnRzL3RheGxvdHMvQzpcXFVzZXJzXFxsYXR0aVxcZGV2ZWxvcG1lbnRcXGxpZ2h0cG9pbnRcXGZpbmFuY2VcXGZyb250ZW5kYXBwL3NyY1xcYXBwXFxtYWluXFxyZXBvcnRzXFx0YXhsb3RzXFx0YXhsb3RzLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9tYWluL3JlcG9ydHMvdGF4bG90cy90YXhsb3RzLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztFQUVFLFNBQUE7RUFDQSxVQUFBO0VBQ0EsWUFBQTtBQ0NGOztBREVBO0VBQ0UsYUFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSxRQUFBO0VBQ0EsU0FBQTtFQUNBLHNCQUFBO0VBQ0EseUJBQUE7RUFDQSxjQUFBO0VBQ0EsdUJBQUE7RUFDQSxtQkFBQTtFQUNBLGFBQUE7QUNDRjs7QURFQTtFQUNFLFlBQUE7QUNDRjs7QURFQTtFQUNFLFNBQUE7QUNDRjs7QURFQTtFQUNFLFdBQUE7RUFDQSxhQUFBO0FDQ0Y7O0FERUE7RUFDRSxrQ0FBQTtFQUNBLG1CQUFBO0VBQ0EsNkJBQUE7RUFDQSx5QkFBQTtFQUNBLGVBQUE7RUFFQSxzQ0FBQTtBQ0NGOztBREVBO0VBQ0U7SUFDRSxZQUFBO0VDQ0Y7QUFDRjs7QURFQTtFQUNFO0lBQ0UsV0FBQTtFQ0FGO0FBQ0Y7O0FER0E7RUFDRSx5SEFBQTtFQVNBLDhCQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQUFBO0FDVEY7O0FEWUE7RUFDRSx3SEFBQTtFQVNBLDhCQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQUFBO0FDakJGOztBRG9CQTtFQUNFLGlCQUFBO0FDakJGIiwiZmlsZSI6InNyYy9hcHAvbWFpbi9yZXBvcnRzL3RheGxvdHMvdGF4bG90cy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImJvZHksXHJcbmh0bWwge1xyXG4gIG1hcmdpbjogMDtcclxuICBwYWRkaW5nOiAwO1xyXG4gIGhlaWdodDogMTAwJTtcclxufVxyXG5cclxuLnJlZnJlc2gtc3Bpbm5lciB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICB3aWR0aDogOHJlbTtcclxuICBoZWlnaHQ6IDNyZW07XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIHRvcDogNDYlO1xyXG4gIGxlZnQ6IDQ4JTtcclxuICBib3JkZXI6IDFweCBzb2xpZCBncmV5O1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNmY2ZiZmQ7XHJcbiAgY29sb3I6ICM2MDYyNjQ7XHJcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICB6LWluZGV4OiAxMDAwO1xyXG59XHJcblxyXG4ubWQtZGF0ZXBpY2tlci1pbnB1dC1jb250YWluZXIge1xyXG4gIHdpZHRoOiAxNTBweDtcclxufVxyXG5cclxuLm1hdC1kYXRlcGlja2VyLWNvbnRlbnQgLm1hdC1jYWxlbmRhciB7XHJcbiAgem9vbTogMC41O1xyXG59XHJcblxyXG46Oi13ZWJraXQtc2Nyb2xsYmFyIHtcclxuICB3aWR0aDogMTBweDtcclxuICB6LWluZGV4OiAxMDAwO1xyXG59XHJcblxyXG46Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iIHtcclxuICAvKiBiYWNrZ3JvdW5kLWNsaXA6IHBhZGRpbmctYm94OyAqL1xyXG4gIGJvcmRlci1yYWRpdXM6IDE2cHg7XHJcbiAgYm9yZGVyOiA0cHggc29saWQgdHJhbnNwYXJlbnQ7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgxNjAsIDE2MCwgMTYwKTtcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgLXdlYmtpdC10cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuMXMgZWFzZTtcclxuICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuMXMgZWFzZTtcclxufVxyXG5cclxuQG1lZGlhIChtaW4td2lkdGg6IDMyMHB4KSB7XHJcbiAgOjpuZy1kZWVwLm1kLWRycHBpY2tlci5zaG93bi5kcm9wcy1kb3duLXJpZ2h0IHtcclxuICAgIHdpZHRoOiAzMjBweDtcclxuICB9XHJcbn1cclxuXHJcbkBtZWRpYSAobWluLXdpZHRoOiA3NjhweCkge1xyXG4gIDo6bmctZGVlcC5tZC1kcnBwaWNrZXIuc2hvd24uZHJvcHMtZG93bi1yaWdodCB7XHJcbiAgICB3aWR0aDogYXV0bztcclxuICB9XHJcbn1cclxuXHJcbjo6bmctZGVlcCAuZGViaXQge1xyXG4gIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudChcclxuICAgIHRvIHJpZ2h0LFxyXG4gICAgcmdiKDEwMCwgMjIwLCAxMDAsIDEpIDAlLFxyXG4gICAgcmdiKDExMCwgMjI1LCAxMTAsIDEpIDE3JSxcclxuICAgIHJnYigxMTUsIDIzMCwgMTE1LCAxKSAzMyUsXHJcbiAgICByZ2JhKDEyMCwgMjQwLCAxMjAsIDEpIDY3JSxcclxuICAgIHJnYigxMjUsIDI1MCwgMTI1LCAxKSA4MyUsXHJcbiAgICByZ2IoMTUwLCAyNTUsIDE1MCwgMSkgMTAwJVxyXG4gICk7XHJcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogMTAwJSAxMDAlO1xyXG4gIHRleHQtYWxpZ246IGVuZDtcclxuICBmb250LXdlaWdodDogNTAwO1xyXG59XHJcblxyXG46Om5nLWRlZXAgLmNyZWRpdCB7XHJcbiAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KFxyXG4gICAgdG8gbGVmdCxcclxuICAgIHJnYigyMjAsIDEwMCwgMTAwLCAxKSAwJSxcclxuICAgIHJnYigyMjUsIDExMCwgMTEwLCAxKSAxNyUsXHJcbiAgICByZ2JhKDIzMCwgMTE1LCAxMTUsIDEpIDMzJSxcclxuICAgIHJnYmEoMjQwLCAxMjAsIDEyMCwgMSkgNjclLFxyXG4gICAgcmdiYSgyNTAsIDEyNSwgMTI1LCAxKSA4MyUsXHJcbiAgICByZ2JhKDI1NSwgMTUwLCAxNTAsIDEpIDEwMCVcclxuICApO1xyXG4gIHBhZGRpbmctcmlnaHQ6IDE4cHggIWltcG9ydGFudDtcclxuICB0ZXh0LWFsaWduOiBlbmQ7XHJcbiAgZm9udC13ZWlnaHQ6IDUwMDtcclxufVxyXG5cclxuOjpuZy1kZWVwIC5yaWdodEFsaWduIHtcclxuICB0ZXh0LWFsaWduOiByaWdodDtcclxufVxyXG4iLCJib2R5LFxuaHRtbCB7XG4gIG1hcmdpbjogMDtcbiAgcGFkZGluZzogMDtcbiAgaGVpZ2h0OiAxMDAlO1xufVxuXG4ucmVmcmVzaC1zcGlubmVyIHtcbiAgZGlzcGxheTogZmxleDtcbiAgd2lkdGg6IDhyZW07XG4gIGhlaWdodDogM3JlbTtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDQ2JTtcbiAgbGVmdDogNDglO1xuICBib3JkZXI6IDFweCBzb2xpZCBncmV5O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmNmYmZkO1xuICBjb2xvcjogIzYwNjI2NDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIHotaW5kZXg6IDEwMDA7XG59XG5cbi5tZC1kYXRlcGlja2VyLWlucHV0LWNvbnRhaW5lciB7XG4gIHdpZHRoOiAxNTBweDtcbn1cblxuLm1hdC1kYXRlcGlja2VyLWNvbnRlbnQgLm1hdC1jYWxlbmRhciB7XG4gIHpvb206IDAuNTtcbn1cblxuOjotd2Via2l0LXNjcm9sbGJhciB7XG4gIHdpZHRoOiAxMHB4O1xuICB6LWluZGV4OiAxMDAwO1xufVxuXG46Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iIHtcbiAgLyogYmFja2dyb3VuZC1jbGlwOiBwYWRkaW5nLWJveDsgKi9cbiAgYm9yZGVyLXJhZGl1czogMTZweDtcbiAgYm9yZGVyOiA0cHggc29saWQgdHJhbnNwYXJlbnQ7XG4gIGJhY2tncm91bmQtY29sb3I6ICNhMGEwYTA7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgLXdlYmtpdC10cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuMXMgZWFzZTtcbiAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAwLjFzIGVhc2U7XG59XG5cbkBtZWRpYSAobWluLXdpZHRoOiAzMjBweCkge1xuICA6Om5nLWRlZXAubWQtZHJwcGlja2VyLnNob3duLmRyb3BzLWRvd24tcmlnaHQge1xuICAgIHdpZHRoOiAzMjBweDtcbiAgfVxufVxuQG1lZGlhIChtaW4td2lkdGg6IDc2OHB4KSB7XG4gIDo6bmctZGVlcC5tZC1kcnBwaWNrZXIuc2hvd24uZHJvcHMtZG93bi1yaWdodCB7XG4gICAgd2lkdGg6IGF1dG87XG4gIH1cbn1cbjo6bmctZGVlcCAuZGViaXQge1xuICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQodG8gcmlnaHQsICM2NGRjNjQgMCUsICM2ZWUxNmUgMTclLCAjNzNlNjczIDMzJSwgIzc4ZjA3OCA2NyUsICM3ZGZhN2QgODMlLCAjOTZmZjk2IDEwMCUpO1xuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAxMDAlIDEwMCU7XG4gIHRleHQtYWxpZ246IGVuZDtcbiAgZm9udC13ZWlnaHQ6IDUwMDtcbn1cblxuOjpuZy1kZWVwIC5jcmVkaXQge1xuICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQodG8gbGVmdCwgI2RjNjQ2NCAwJSwgI2UxNmU2ZSAxNyUsICNlNjczNzMgMzMlLCAjZjA3ODc4IDY3JSwgI2ZhN2Q3ZCA4MyUsICNmZjk2OTYgMTAwJSk7XG4gIHBhZGRpbmctcmlnaHQ6IDE4cHggIWltcG9ydGFudDtcbiAgdGV4dC1hbGlnbjogZW5kO1xuICBmb250LXdlaWdodDogNTAwO1xufVxuXG46Om5nLWRlZXAgLnJpZ2h0QWxpZ24ge1xuICB0ZXh0LWFsaWduOiByaWdodDtcbn0iXX0= */\"","import { Component, OnInit, AfterViewInit } from '@angular/core';\r\nimport { FinanceServiceProxy } from '../../../../services/service-proxies';\r\nimport { Fund } from '../../../../shared/Models/account';\r\nimport {\r\n  TrialBalanceReport,\r\n  TrialBalanceReportStats\r\n} from '../../../../shared/Models/trial-balance';\r\nimport { DataService } from '../../../../services/common/data.service';\r\nimport * as moment from 'moment';\r\nimport {\r\n  Ranges,\r\n  Style,\r\n  SideBar,\r\n  ExcelStyle,\r\n  CalTotalRecords,\r\n  GetDateRangeLabel,\r\n  SetDateRange,\r\n  CommaSeparatedFormat,\r\n  HeightStyle\r\n} from 'src/shared/utils/Shared';\r\nimport { GridOptions } from 'ag-grid-community';\r\nimport { GridLayoutMenuComponent } from 'src/shared/Component/grid-layout-menu/grid-layout-menu.component';\r\nimport { GetContextMenu } from 'src/shared/utils/ContextMenu';\r\nimport { GridId, GridName } from 'src/shared/utils/AppEnums';\r\nimport { DownloadExcelUtils } from 'src/shared/utils/DownloadExcelUtils';\r\nimport { ContextMenu } from 'src/shared/Models/common';\r\nimport { ReportsApiService } from 'src/services/reports-api.service';\r\n\r\n@Component({\r\n  selector: 'rep-taxlots',\r\n  templateUrl: './taxlots.component.html',\r\n  styleUrls: ['./taxlots.component.scss']\r\n})\r\nexport class TaxLotsComponent implements OnInit, AfterViewInit {\r\n  private gridColumnApi;\r\n  pinnedBottomRowData;\r\n  gridOptions: GridOptions;\r\n  fund: any = 'All Funds';\r\n  funds: Fund;\r\n  DateRangeLabel: string;\r\n  startDate: any;\r\n  endDate: any;\r\n  selected: { startDate: moment.Moment; endDate: moment.Moment };\r\n\r\n  data: Array<TrialBalanceReport>;\r\n  stats: TrialBalanceReportStats;\r\n\r\n  isLoading = false;\r\n  hideGrid: boolean;\r\n\r\n  ranges: any = Ranges;\r\n\r\n  style = Style;\r\n\r\n  styleForHeight = HeightStyle(220);\r\n\r\n  processingMsgDiv = {\r\n    border: '1px solid #eee',\r\n    padding: '4px',\r\n    marginTop: '20px',\r\n    width: '100%',\r\n    height: 'calc(100vh - 125px)',\r\n    boxSizing: 'border-box'\r\n  };\r\n\r\n  constructor(\r\n    private financeService: FinanceServiceProxy,\r\n    private reportsApiService: ReportsApiService,\r\n    private dataService: DataService,\r\n    private downloadExcelUtils: DownloadExcelUtils\r\n  ) {\r\n    this.hideGrid = false;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.initGrid();\r\n    this.getFunds();\r\n    //this.getReport(null, null, 'ALL');\r\n  }\r\n\r\n  initGrid() {\r\n    this.gridOptions = {\r\n      rowData: null,\r\n      pinnedBottomRowData: [],\r\n      frameworkComponents: { customToolPanel: GridLayoutMenuComponent },\r\n      onFilterChanged: this.onFilterChanged.bind(this),\r\n      isExternalFilterPresent: this.isExternalFilterPresent.bind(this),\r\n      doesExternalFilterPass: this.doesExternalFilterPass.bind(this),\r\n      /* Custom Method Binding for External Filters from Grid Layout Component */\r\n      isExternalFilterPassed: this.isExternalFilterPassed.bind(this),\r\n      clearExternalFilter: this.clearFilters.bind(this),\r\n      getExternalFilterState: this.getExternalFilterState.bind(this),\r\n      rowSelection: 'single',\r\n      rowGroupPanelShow: 'after',\r\n      suppressColumnVirtualisation: true,\r\n      getContextMenuItems: params => this.getContextMenuItems(params),\r\n      onGridReady: params => {\r\n        this.gridColumnApi = params.columnApi;\r\n\r\n        this.gridOptions.excelStyles = ExcelStyle;\r\n      },\r\n      onFirstDataRendered: params => {\r\n        params.api.forEachNode(node => {\r\n          node.expanded = true;\r\n        });\r\n        params.api.onGroupExpandedOrCollapsed();\r\n        //AutoSizeAllColumns(params);\r\n        params.api.sizeColumnsToFit();\r\n      },\r\n      enableFilter: true,\r\n      animateRows: true,\r\n      alignedGrids: [],\r\n      suppressHorizontalScroll: false,\r\n      columnDefs: [\r\n        {\r\n          field: 'closing_lot_id',\r\n          width: 120,\r\n          headerName: 'Closing Tax Lot',\r\n          sortable: true,\r\n          filter: true\r\n        },\r\n        {\r\n          field: 'open_lot_id',\r\n          width: 120,\r\n          headerName: 'Open Tax Lot',\r\n          sortable: true,\r\n          filter: true\r\n        },\r\n        {\r\n          field: 'business_date',\r\n          width: 120,\r\n          headerName: 'Business Date',\r\n          sortable: true,\r\n          filter: true\r\n        },\r\n        {\r\n          field: 'realized_pnl',\r\n          width: 120,\r\n          headerName: 'Realized P&L',\r\n          sortable: true,\r\n          filter: true,\r\n          cellClass: 'rightAlign',\r\n          valueFormatter: currencyFormatter\r\n        },\r\n        {\r\n          field: 'trade_price',\r\n          width: 120,\r\n          headerName: 'Opening Price',\r\n          sortable: true,\r\n          filter: true,\r\n          cellClass: 'rightAlign'\r\n        },\r\n        {\r\n          field: 'cost_basis',\r\n          width: 120,\r\n          headerName: 'Closing Price',\r\n          sortable: true,\r\n          cellClass: 'rightAlign',\r\n          filter: true\r\n        },\r\n        {\r\n          field: 'quantity',\r\n          headerName: 'Quantity',\r\n          width: 100,\r\n          filter: true,\r\n          sortable: true,\r\n          cellClass: 'rightAlign',\r\n          valueFormatter: absCurrencyFormatter\r\n        }\r\n      ],\r\n      defaultColDef: {\r\n        sortable: true,\r\n        resizable: true,\r\n        filter: true\r\n      }\r\n    } as GridOptions;\r\n    this.gridOptions.sideBar = SideBar(GridId.taxlotId, GridName.taxlot, this.gridOptions);\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.dataService.flag$.subscribe(obj => {\r\n      this.hideGrid = obj;\r\n      if (!this.hideGrid) {\r\n        this.getFunds();\r\n        this.getReport(null, null, 'ALL');\r\n      }\r\n    });\r\n  }\r\n\r\n  getFunds() {\r\n    this.financeService.getFunds().subscribe(result => {\r\n      this.funds = result.payload.map(item => ({\r\n        fundId: item.FundId,\r\n        fundCode: item.FundCode\r\n      }));\r\n    });\r\n  }\r\n\r\n  // Being called twice\r\n  getReport(toDate, fromDate, fund) {\r\n    this.isLoading = true;\r\n    this.reportsApiService.getTaxLotsReport(toDate, fromDate, fund).subscribe(response => {\r\n      this.stats = response.stats;\r\n      this.data = response.payload;\r\n      this.isLoading = false;\r\n      this.gridOptions.api.sizeColumnsToFit();\r\n      this.gridOptions.api.setRowData(this.data);\r\n    });\r\n  }\r\n\r\n  onFilterChanged() {\r\n    this.pinnedBottomRowData = CalTotalRecords(this.gridOptions);\r\n    this.gridOptions.api.setPinnedBottomRowData(this.pinnedBottomRowData);\r\n  }\r\n\r\n  isExternalFilterPassed(object) {\r\n    const { fundFilter } = object;\r\n    const { dateFilter } = object;\r\n    this.fund = fundFilter !== undefined ? fundFilter : this.fund;\r\n    this.setDateRange(dateFilter);\r\n    this.getReport(this.startDate, this.endDate, this.fund);\r\n  }\r\n\r\n  isExternalFilterPresent() {}\r\n\r\n  doesExternalFilterPass(node: any) {}\r\n\r\n  getContextMenuItems(params): Array<ContextMenu> {\r\n    //  (isDefaultItems, addDefaultItem, isCustomItems, addCustomItems, params)\r\n    return GetContextMenu(true, null, true, null, params);\r\n  }\r\n\r\n  setDateRange(dateFilter: any) {\r\n    const dates = SetDateRange(dateFilter, this.startDate, this.endDate);\r\n    this.startDate = dates[0];\r\n    this.endDate = dates[1];\r\n\r\n    this.selected =\r\n      dateFilter.startDate !== '' ? { startDate: this.startDate, endDate: this.endDate } : null;\r\n  }\r\n\r\n  getRangeLabel() {\r\n    this.DateRangeLabel = '';\r\n    this.DateRangeLabel = GetDateRangeLabel(this.startDate, this.endDate);\r\n  }\r\n\r\n  clearFilters() {\r\n    this.fund = 'All Funds';\r\n    this.selected = null;\r\n    this.DateRangeLabel = '';\r\n    this.startDate = moment('01-01-1901', 'MM-DD-YYYY');\r\n    this.endDate = moment();\r\n    this.getReport(null, null, 'ALL');\r\n  }\r\n\r\n  getExternalFilterState() {\r\n    return {\r\n      fundFilter: this.fund,\r\n      dateFilter: { startDate: this.startDate, endDate: this.endDate }\r\n    };\r\n  }\r\n\r\n  changeDate(selectedDate) {\r\n    if (!selectedDate.startDate) {\r\n      return;\r\n    }\r\n    this.startDate = selectedDate.startDate.format('YYYY-MM-DD');\r\n    this.endDate = selectedDate.endDate.format('YYYY-MM-DD');\r\n    this.getReport(this.startDate, this.endDate, this.fund === 'All Funds' ? 'ALL' : this.fund);\r\n    this.getRangeLabel();\r\n  }\r\n\r\n  changeFund(selectedFund) {\r\n    this.fund = selectedFund;\r\n    this.getReport(this.startDate, this.endDate, this.fund === 'All Funds' ? 'ALL' : this.fund);\r\n  }\r\n\r\n  onBtExport() {\r\n    const params = {\r\n      fileName: 'Trial Balance Reports',\r\n      sheetName: 'First Sheet'\r\n    };\r\n    this.gridOptions.api.exportDataAsExcel(params);\r\n    this.downloadExcelUtils.ToastrMessage();\r\n  }\r\n\r\n  refreshReport() {\r\n    this.gridOptions.api.showLoadingOverlay();\r\n    this.clearFilters();\r\n    this.getReport(null, null, 'ALL');\r\n  }\r\n}\r\n\r\nfunction currencyFormatter(params) {\r\n  if (params.value === undefined) {\r\n    return;\r\n  }\r\n  return CommaSeparatedFormat(params.value);\r\n}\r\n\r\nfunction absCurrencyFormatter(params) {\r\n  if (params.value === undefined) {\r\n    return;\r\n  }\r\n  return CommaSeparatedFormat(Math.abs(params.value));\r\n}\r\n","export default \"body,\\nhtml {\\n  margin: 0;\\n  padding: 0;\\n  height: 100%;\\n}\\n\\n.refresh-spinner {\\n  display: flex;\\n  width: 8rem;\\n  height: 3rem;\\n  position: absolute;\\n  top: 46%;\\n  left: 48%;\\n  border: 1px solid grey;\\n  background-color: #fcfbfd;\\n  color: #606264;\\n  justify-content: center;\\n  align-items: center;\\n  z-index: 1000;\\n}\\n\\n.md-datepicker-input-container {\\n  width: 150px;\\n}\\n\\n.mat-datepicker-content .mat-calendar {\\n  zoom: 0.5;\\n}\\n\\n::-webkit-scrollbar {\\n  width: 10px;\\n  z-index: 1000;\\n}\\n\\n::-webkit-scrollbar-thumb {\\n  /* background-clip: padding-box; */\\n  border-radius: 16px;\\n  border: 4px solid transparent;\\n  background-color: #a0a0a0;\\n  cursor: pointer;\\n  transition: background-color 0.1s ease;\\n}\\n\\n@media (min-width: 320px) {\\n  ::ng-deep.md-drppicker.shown.drops-down-right {\\n    width: 320px;\\n  }\\n}\\n\\n@media (min-width: 768px) {\\n  ::ng-deep.md-drppicker.shown.drops-down-right {\\n    width: auto;\\n  }\\n}\\n\\n::ng-deep .debit {\\n  background-image: linear-gradient(to right, #64dc64 0%, #6ee16e 17%, #73e673 33%, #78f078 67%, #7dfa7d 83%, #96ff96 100%);\\n  background-position: 100% 100%;\\n  text-align: end;\\n  font-weight: 500;\\n}\\n\\n::ng-deep .credit {\\n  background-image: linear-gradient(to left, #dc6464 0%, #e16e6e 17%, #e67373 33%, #f07878 67%, #fa7d7d 83%, #ff9696 100%);\\n  padding-right: 18px !important;\\n  text-align: end;\\n  font-weight: 500;\\n}\\n\\n::ng-deep .rightAlign {\\n  text-align: right;\\n}\\n\\n::ng-deep .loader-wrapper .spinner-grow {\\n  width: 2rem !important;\\n  height: 2rem !important;\\n}\\n\\n.mtop-15 {\\n  margin-top: 15%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9yZXBvcnRzL3RheGxvdHN0YXR1cy9DOlxcVXNlcnNcXGxhdHRpXFxkZXZlbG9wbWVudFxcbGlnaHRwb2ludFxcZmluYW5jZVxcZnJvbnRlbmRhcHAvc3JjXFxhcHBcXG1haW5cXHJlcG9ydHNcXHRheGxvdHN0YXR1c1xcdGF4bG90c3RhdHVzLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9tYWluL3JlcG9ydHMvdGF4bG90c3RhdHVzL3RheGxvdHN0YXR1cy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7RUFFRSxTQUFBO0VBQ0EsVUFBQTtFQUNBLFlBQUE7QUNDRjs7QURFQTtFQUNFLGFBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBQ0EsUUFBQTtFQUNBLFNBQUE7RUFDQSxzQkFBQTtFQUNBLHlCQUFBO0VBQ0EsY0FBQTtFQUNBLHVCQUFBO0VBQ0EsbUJBQUE7RUFDQSxhQUFBO0FDQ0Y7O0FERUE7RUFDRSxZQUFBO0FDQ0Y7O0FERUE7RUFDRSxTQUFBO0FDQ0Y7O0FERUE7RUFDRSxXQUFBO0VBQ0EsYUFBQTtBQ0NGOztBREVBO0VBQ0Usa0NBQUE7RUFDQSxtQkFBQTtFQUNBLDZCQUFBO0VBQ0EseUJBQUE7RUFDQSxlQUFBO0VBRUEsc0NBQUE7QUNDRjs7QURFQTtFQUNFO0lBQ0UsWUFBQTtFQ0NGO0FBQ0Y7O0FERUE7RUFDRTtJQUNFLFdBQUE7RUNBRjtBQUNGOztBREdBO0VBQ0UseUhBQUE7RUFTQSw4QkFBQTtFQUNBLGVBQUE7RUFDQSxnQkFBQTtBQ1RGOztBRFlBO0VBQ0Usd0hBQUE7RUFTQSw4QkFBQTtFQUNBLGVBQUE7RUFDQSxnQkFBQTtBQ2pCRjs7QURvQkE7RUFDRSxpQkFBQTtBQ2pCRjs7QURvQkE7RUFDRSxzQkFBQTtFQUNBLHVCQUFBO0FDakJGOztBRG9CQTtFQUNFLGVBQUE7QUNqQkYiLCJmaWxlIjoic3JjL2FwcC9tYWluL3JlcG9ydHMvdGF4bG90c3RhdHVzL3RheGxvdHN0YXR1cy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImJvZHksXHJcbmh0bWwge1xyXG4gIG1hcmdpbjogMDtcclxuICBwYWRkaW5nOiAwO1xyXG4gIGhlaWdodDogMTAwJTtcclxufVxyXG5cclxuLnJlZnJlc2gtc3Bpbm5lciB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICB3aWR0aDogOHJlbTtcclxuICBoZWlnaHQ6IDNyZW07XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIHRvcDogNDYlO1xyXG4gIGxlZnQ6IDQ4JTtcclxuICBib3JkZXI6IDFweCBzb2xpZCBncmV5O1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNmY2ZiZmQ7XHJcbiAgY29sb3I6ICM2MDYyNjQ7XHJcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICB6LWluZGV4OiAxMDAwO1xyXG59XHJcblxyXG4ubWQtZGF0ZXBpY2tlci1pbnB1dC1jb250YWluZXIge1xyXG4gIHdpZHRoOiAxNTBweDtcclxufVxyXG5cclxuLm1hdC1kYXRlcGlja2VyLWNvbnRlbnQgLm1hdC1jYWxlbmRhciB7XHJcbiAgem9vbTogMC41O1xyXG59XHJcblxyXG46Oi13ZWJraXQtc2Nyb2xsYmFyIHtcclxuICB3aWR0aDogMTBweDtcclxuICB6LWluZGV4OiAxMDAwO1xyXG59XHJcblxyXG46Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iIHtcclxuICAvKiBiYWNrZ3JvdW5kLWNsaXA6IHBhZGRpbmctYm94OyAqL1xyXG4gIGJvcmRlci1yYWRpdXM6IDE2cHg7XHJcbiAgYm9yZGVyOiA0cHggc29saWQgdHJhbnNwYXJlbnQ7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgxNjAsIDE2MCwgMTYwKTtcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgLXdlYmtpdC10cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuMXMgZWFzZTtcclxuICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuMXMgZWFzZTtcclxufVxyXG5cclxuQG1lZGlhIChtaW4td2lkdGg6IDMyMHB4KSB7XHJcbiAgOjpuZy1kZWVwLm1kLWRycHBpY2tlci5zaG93bi5kcm9wcy1kb3duLXJpZ2h0IHtcclxuICAgIHdpZHRoOiAzMjBweDtcclxuICB9XHJcbn1cclxuXHJcbkBtZWRpYSAobWluLXdpZHRoOiA3NjhweCkge1xyXG4gIDo6bmctZGVlcC5tZC1kcnBwaWNrZXIuc2hvd24uZHJvcHMtZG93bi1yaWdodCB7XHJcbiAgICB3aWR0aDogYXV0bztcclxuICB9XHJcbn1cclxuXHJcbjo6bmctZGVlcCAuZGViaXQge1xyXG4gIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudChcclxuICAgIHRvIHJpZ2h0LFxyXG4gICAgcmdiKDEwMCwgMjIwLCAxMDAsIDEpIDAlLFxyXG4gICAgcmdiKDExMCwgMjI1LCAxMTAsIDEpIDE3JSxcclxuICAgIHJnYigxMTUsIDIzMCwgMTE1LCAxKSAzMyUsXHJcbiAgICByZ2JhKDEyMCwgMjQwLCAxMjAsIDEpIDY3JSxcclxuICAgIHJnYigxMjUsIDI1MCwgMTI1LCAxKSA4MyUsXHJcbiAgICByZ2IoMTUwLCAyNTUsIDE1MCwgMSkgMTAwJVxyXG4gICk7XHJcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogMTAwJSAxMDAlO1xyXG4gIHRleHQtYWxpZ246IGVuZDtcclxuICBmb250LXdlaWdodDogNTAwO1xyXG59XHJcblxyXG46Om5nLWRlZXAgLmNyZWRpdCB7XHJcbiAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KFxyXG4gICAgdG8gbGVmdCxcclxuICAgIHJnYigyMjAsIDEwMCwgMTAwLCAxKSAwJSxcclxuICAgIHJnYigyMjUsIDExMCwgMTEwLCAxKSAxNyUsXHJcbiAgICByZ2JhKDIzMCwgMTE1LCAxMTUsIDEpIDMzJSxcclxuICAgIHJnYmEoMjQwLCAxMjAsIDEyMCwgMSkgNjclLFxyXG4gICAgcmdiYSgyNTAsIDEyNSwgMTI1LCAxKSA4MyUsXHJcbiAgICByZ2JhKDI1NSwgMTUwLCAxNTAsIDEpIDEwMCVcclxuICApO1xyXG4gIHBhZGRpbmctcmlnaHQ6IDE4cHggIWltcG9ydGFudDtcclxuICB0ZXh0LWFsaWduOiBlbmQ7XHJcbiAgZm9udC13ZWlnaHQ6IDUwMDtcclxufVxyXG5cclxuOjpuZy1kZWVwIC5yaWdodEFsaWduIHtcclxuICB0ZXh0LWFsaWduOiByaWdodDtcclxufVxyXG5cclxuOjpuZy1kZWVwIC5sb2FkZXItd3JhcHBlciAuc3Bpbm5lci1ncm93IHtcclxuICB3aWR0aDogMnJlbSAhaW1wb3J0YW50O1xyXG4gIGhlaWdodDogMnJlbSAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4ubXRvcC0xNSB7XHJcbiAgbWFyZ2luLXRvcDogMTUlO1xyXG59XHJcbiIsImJvZHksXG5odG1sIHtcbiAgbWFyZ2luOiAwO1xuICBwYWRkaW5nOiAwO1xuICBoZWlnaHQ6IDEwMCU7XG59XG5cbi5yZWZyZXNoLXNwaW5uZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICB3aWR0aDogOHJlbTtcbiAgaGVpZ2h0OiAzcmVtO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogNDYlO1xuICBsZWZ0OiA0OCU7XG4gIGJvcmRlcjogMXB4IHNvbGlkIGdyZXk7XG4gIGJhY2tncm91bmQtY29sb3I6ICNmY2ZiZmQ7XG4gIGNvbG9yOiAjNjA2MjY0O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgei1pbmRleDogMTAwMDtcbn1cblxuLm1kLWRhdGVwaWNrZXItaW5wdXQtY29udGFpbmVyIHtcbiAgd2lkdGg6IDE1MHB4O1xufVxuXG4ubWF0LWRhdGVwaWNrZXItY29udGVudCAubWF0LWNhbGVuZGFyIHtcbiAgem9vbTogMC41O1xufVxuXG46Oi13ZWJraXQtc2Nyb2xsYmFyIHtcbiAgd2lkdGg6IDEwcHg7XG4gIHotaW5kZXg6IDEwMDA7XG59XG5cbjo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIge1xuICAvKiBiYWNrZ3JvdW5kLWNsaXA6IHBhZGRpbmctYm94OyAqL1xuICBib3JkZXItcmFkaXVzOiAxNnB4O1xuICBib3JkZXI6IDRweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2EwYTBhMDtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICAtd2Via2l0LXRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC4xcyBlYXNlO1xuICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuMXMgZWFzZTtcbn1cblxuQG1lZGlhIChtaW4td2lkdGg6IDMyMHB4KSB7XG4gIDo6bmctZGVlcC5tZC1kcnBwaWNrZXIuc2hvd24uZHJvcHMtZG93bi1yaWdodCB7XG4gICAgd2lkdGg6IDMyMHB4O1xuICB9XG59XG5AbWVkaWEgKG1pbi13aWR0aDogNzY4cHgpIHtcbiAgOjpuZy1kZWVwLm1kLWRycHBpY2tlci5zaG93bi5kcm9wcy1kb3duLXJpZ2h0IHtcbiAgICB3aWR0aDogYXV0bztcbiAgfVxufVxuOjpuZy1kZWVwIC5kZWJpdCB7XG4gIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCh0byByaWdodCwgIzY0ZGM2NCAwJSwgIzZlZTE2ZSAxNyUsICM3M2U2NzMgMzMlLCAjNzhmMDc4IDY3JSwgIzdkZmE3ZCA4MyUsICM5NmZmOTYgMTAwJSk7XG4gIGJhY2tncm91bmQtcG9zaXRpb246IDEwMCUgMTAwJTtcbiAgdGV4dC1hbGlnbjogZW5kO1xuICBmb250LXdlaWdodDogNTAwO1xufVxuXG46Om5nLWRlZXAgLmNyZWRpdCB7XG4gIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCh0byBsZWZ0LCAjZGM2NDY0IDAlLCAjZTE2ZTZlIDE3JSwgI2U2NzM3MyAzMyUsICNmMDc4NzggNjclLCAjZmE3ZDdkIDgzJSwgI2ZmOTY5NiAxMDAlKTtcbiAgcGFkZGluZy1yaWdodDogMThweCAhaW1wb3J0YW50O1xuICB0ZXh0LWFsaWduOiBlbmQ7XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG59XG5cbjo6bmctZGVlcCAucmlnaHRBbGlnbiB7XG4gIHRleHQtYWxpZ246IHJpZ2h0O1xufVxuXG46Om5nLWRlZXAgLmxvYWRlci13cmFwcGVyIC5zcGlubmVyLWdyb3cge1xuICB3aWR0aDogMnJlbSAhaW1wb3J0YW50O1xuICBoZWlnaHQ6IDJyZW0gIWltcG9ydGFudDtcbn1cblxuLm10b3AtMTUge1xuICBtYXJnaW4tdG9wOiAxNSU7XG59Il19 */\"","import { CacheService } from 'src/services/common/cache.service';\r\n\r\nimport { Component, OnInit, AfterViewInit, ViewChild, ChangeDetectorRef } from '@angular/core';\r\nimport { BehaviorSubject, timer, Subject, forkJoin, Observable } from 'rxjs';\r\nimport { debounce, finalize, tap } from 'rxjs/operators';\r\nimport { GridOptions } from 'ag-grid-community';\r\nimport * as moment from 'moment';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { DataService } from '../../../../services/common/data.service';\r\nimport { FinanceServiceProxy } from '../../../../services/service-proxies';\r\nimport { ReportsApiService } from 'src/services/reports-api.service';\r\nimport { SecurityApiService } from 'src/services/security-api.service';\r\nimport { Fund } from '../../../../shared/Models/account';\r\nimport {\r\n  TrialBalanceReport,\r\n  TrialBalanceReportStats\r\n} from '../../../../shared/Models/trial-balance';\r\nimport { GridLayoutMenuComponent, CustomGridOptions } from 'lp-toolkit';\r\nimport { GridId, GridName, LayoutConfig } from 'src/shared/utils/AppEnums';\r\nimport { DataGridModalComponent } from 'src/shared/Component/data-grid-modal/data-grid-modal.component';\r\nimport { CreateDividendComponent } from 'src/shared/Modal/create-dividend/create-dividend.component';\r\nimport { CreateStockSplitsComponent } from 'src/shared/Modal/create-stock-splits/create-stock-splits.component';\r\nimport { CreateSecurityComponent } from './../../../../shared/Modal/create-security/create-security.component';\r\nimport { DataModalComponent } from 'src/shared/Component/data-modal/data-modal.component';\r\nimport { AgGridUtils } from 'src/shared/utils/AgGridUtils';\r\nimport { DataDictionary } from 'src/shared/utils/DataDictionary';\r\nimport { GetContextMenu } from 'src/shared/utils/ContextMenu';\r\nimport { ContextMenu } from 'src/shared/Models/common';\r\nimport { DownloadExcelUtils } from 'src/shared/utils/DownloadExcelUtils';\r\nimport {\r\n  Ranges,\r\n  Style,\r\n  SideBar,\r\n  ExcelStyle,\r\n  CalTotalRecords,\r\n  GetDateRangeLabel,\r\n  FormatNumber4,\r\n  SetDateRange,\r\n  MoneyFormat,\r\n  CommaSeparatedFormat,\r\n  HeightStyle,\r\n  priceFormatterEx,\r\n  DateFormatter\r\n} from 'src/shared/utils/Shared';\r\n\r\n@Component({\r\n  selector: 'rep-taxlotstatus',\r\n  templateUrl: './taxlotstatus.component.html',\r\n  styleUrls: ['./taxlotstatus.component.scss']\r\n})\r\nexport class TaxLotStatusComponent implements OnInit, AfterViewInit {\r\n  @ViewChild('dataModal', { static: false }) dataModal: DataModalComponent;\r\n  @ViewChild('dataGridModal', { static: false }) dataGridModal: DataGridModalComponent;\r\n  @ViewChild('dividendModal', { static: false }) dividendModal: CreateDividendComponent;\r\n  @ViewChild('stockSplitsModal', { static: false }) stockSplitsModal: CreateStockSplitsComponent;\r\n  @ViewChild('securityModal', { static: false }) securityModal: CreateSecurityComponent;\r\n\r\n  gridOptions: CustomGridOptions;\r\n  closingTaxLots: GridOptions;\r\n  pinnedBottomRowData;\r\n  fund: any = 'All Funds';\r\n  funds: Fund;\r\n  DateRangeLabel: string;\r\n  startDate: any;\r\n  endDate: any;\r\n  selected: { startDate: moment.Moment; endDate: moment.Moment };\r\n  maxDate: moment.Moment;\r\n  data: Array<TrialBalanceReport>;\r\n  stats: TrialBalanceReportStats;\r\n  isLoading = false;\r\n  hideGrid: boolean;\r\n  journalDate: any;\r\n  isExpanded = false;\r\n  taxLotStatusHorizontalConfig: {\r\n    taxLotStatusSize: number;\r\n    closingTaxLotSize: number;\r\n    taxLotStatusView: boolean;\r\n    closingTaxLotView: boolean;\r\n    useTransition: boolean;\r\n  } = {\r\n    taxLotStatusSize: 50,\r\n    closingTaxLotSize: 50,\r\n    taxLotStatusView: true,\r\n    closingTaxLotView: false,\r\n    useTransition: true\r\n  };\r\n  taxLotStatusVerticalConfig: {\r\n    closingTaxLotSize: number;\r\n    journalSize: number;\r\n    closingTaxLotView: boolean;\r\n    journalView: boolean;\r\n    useTransition: boolean;\r\n  } = {\r\n    closingTaxLotSize: 50,\r\n    journalSize: 50,\r\n    closingTaxLotView: true,\r\n    journalView: false,\r\n    useTransition: true\r\n  };\r\n\r\n  ranges: any = Ranges;\r\n\r\n  style = Style;\r\n\r\n  styleForHeight = HeightStyle(220);\r\n\r\n  // private filterSubject: Subject<string> = new Subject();\r\n  filterBySymbol = '';\r\n\r\n  public tradeSelectionSubject = new BehaviorSubject(null);\r\n  public tradeSelectionChanged = this.tradeSelectionSubject.asObservable();\r\n\r\n  processingMsgDiv = {\r\n    border: '1px solid #eee',\r\n    padding: '4px',\r\n    marginTop: '20px',\r\n    width: '100%',\r\n    height: 'calc(100vh - 125px)',\r\n    boxSizing: 'border-box'\r\n  };\r\n\r\n  constructor(\r\n    private cdRef: ChangeDetectorRef,\r\n    private cacheService: CacheService,\r\n    private dataService: DataService,\r\n    private financeService: FinanceServiceProxy,\r\n    private reportsApiService: ReportsApiService,\r\n    private securityApiService: SecurityApiService,\r\n    private agGridUtils: AgGridUtils,\r\n    private dataDictionary: DataDictionary,\r\n    private downloadExcelUtils: DownloadExcelUtils,\r\n    private toastrService: ToastrService\r\n  ) {\r\n    this.hideGrid = false;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.initGrid();\r\n    this.getLatestJournalDate();\r\n    this.getFunds();\r\n    this.maxDate = moment();\r\n    // Comment out this API call, In case we need to enable filter from server side\r\n    // this.getReport(\r\n    //   this.startDate,\r\n    //   this.endDate,\r\n    //   this.filterBySymbol,\r\n    //   this.fund === 'All Funds' ? 'ALL' : this.fund\r\n    // );\r\n    // In case we need to enable filter by Symbol from Server Side\r\n    // this.filterSubject.pipe(debounce(() => timer(1000))).subscribe(() => {\r\n    //   this.getReport(this.startDate, this.endDate, this.filterBySymbol, this.fund === 'All Funds' ? 'ALL' : this.fund);\r\n    // });\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.initPageLayout();\r\n    this.dataService.flag$.subscribe(obj => {\r\n      this.hideGrid = obj;\r\n      if (!this.hideGrid) {\r\n        this.getFunds();\r\n      }\r\n    });\r\n  }\r\n\r\n  initPageLayout() {\r\n    const persistUIState = this.cacheService.getConfigByKey(LayoutConfig.persistUIState);\r\n    if (!persistUIState || !JSON.parse(persistUIState.value)) {\r\n      return;\r\n    }\r\n\r\n    const horizontalConfig = this.cacheService.getConfigByKey(\r\n      LayoutConfig.taxLotStatusHorizontalConfigKey\r\n    );\r\n    const verticalConfig = this.cacheService.getConfigByKey(\r\n      LayoutConfig.taxLotStatusVerticalConfigKey\r\n    );\r\n    if (horizontalConfig) {\r\n      this.taxLotStatusHorizontalConfig = JSON.parse(horizontalConfig.value);\r\n    }\r\n    if (verticalConfig) {\r\n      this.taxLotStatusVerticalConfig = JSON.parse(verticalConfig.value);\r\n    }\r\n\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  applyHorizontalPageLayout(event) {\r\n    if (event.sizes) {\r\n      this.taxLotStatusHorizontalConfig.taxLotStatusSize = event.sizes[0];\r\n      this.taxLotStatusHorizontalConfig.closingTaxLotSize = event.sizes[1];\r\n    }\r\n\r\n    const persistUIState = this.cacheService.getConfigByKey(LayoutConfig.persistUIState);\r\n    if (!persistUIState || !JSON.parse(persistUIState.value)) {\r\n      return;\r\n    }\r\n\r\n    const config = this.cacheService.getConfigByKey(LayoutConfig.taxLotStatusHorizontalConfigKey);\r\n    const payload = {\r\n      id: !config ? 0 : config.id,\r\n      project: LayoutConfig.projectName,\r\n      uom: 'JSON',\r\n      key: LayoutConfig.taxLotStatusHorizontalConfigKey,\r\n      value: JSON.stringify(this.taxLotStatusHorizontalConfig),\r\n      description: LayoutConfig.taxLotStatusHorizontalConfigKey\r\n    };\r\n\r\n    if (!config) {\r\n      this.cacheService.addUserConfig(payload).subscribe(response => {\r\n        console.log('User Config Added');\r\n      });\r\n    } else {\r\n      this.cacheService.updateUserConfig(payload).subscribe(response => {\r\n        console.log('User Config Updated');\r\n      });\r\n    }\r\n  }\r\n\r\n  applyVerticalPageLayout(event) {\r\n    if (event.sizes) {\r\n      this.taxLotStatusVerticalConfig.closingTaxLotSize = event.sizes[0];\r\n      this.taxLotStatusVerticalConfig.journalSize = event.sizes[1];\r\n    }\r\n\r\n    const persistUIState = this.cacheService.getConfigByKey(LayoutConfig.persistUIState);\r\n    if (!persistUIState || !JSON.parse(persistUIState.value)) {\r\n      return;\r\n    }\r\n\r\n    const config = this.cacheService.getConfigByKey(LayoutConfig.taxLotStatusVerticalConfigKey);\r\n    const payload = {\r\n      id: !config ? 0 : config.id,\r\n      project: LayoutConfig.projectName,\r\n      uom: 'JSON',\r\n      key: LayoutConfig.taxLotStatusVerticalConfigKey,\r\n      value: JSON.stringify(this.taxLotStatusVerticalConfig),\r\n      description: LayoutConfig.taxLotStatusVerticalConfigKey\r\n    };\r\n\r\n    if (!config) {\r\n      this.cacheService.addUserConfig(payload).subscribe(response => {\r\n        console.log('User Config Added');\r\n      });\r\n    } else {\r\n      this.cacheService.updateUserConfig(payload).subscribe(response => {\r\n        console.log('User Config Updated');\r\n      });\r\n    }\r\n  }\r\n\r\n  getLatestJournalDate() {\r\n    this.reportsApiService.getLatestJournalDate().subscribe(\r\n      date => {\r\n        if (date.isSuccessful && date.statusCode === 200) {\r\n          this.journalDate = date.payload[0].when;\r\n          this.startDate = this.journalDate;\r\n          this.selected = {\r\n            startDate: moment(this.startDate, 'YYYY-MM-DD'),\r\n            endDate: moment(this.startDate, 'YYYY-MM-DD')\r\n          };\r\n        }\r\n      },\r\n      error => {}\r\n    );\r\n  }\r\n\r\n  initGrid() {\r\n    this.gridOptions = {\r\n      rowData: null,\r\n      pinnedBottomRowData: [],\r\n      frameworkComponents: { customToolPanel: GridLayoutMenuComponent },\r\n      /* Custom Method Binding for External Filters from Grid Layout Component */\r\n      getExternalFilterState: this.getExternalFilterState.bind(this),\r\n      clearExternalFilter: this.clearFilters.bind(this),\r\n      setExternalFilter: this.isExternalFilterPassed.bind(this),\r\n      isExternalFilterPresent: this.isExternalFilterPresent.bind(this),\r\n      doesExternalFilterPass: this.doesExternalFilterPass.bind(this),\r\n      onFilterChanged: this.onFilterChanged.bind(this),\r\n      onRowDoubleClicked: this.onRowDoubleClicked.bind(this),\r\n      rowSelection: 'single',\r\n      rowGroupPanelShow: 'after',\r\n      animateRows: true,\r\n      enableFilter: true,\r\n      suppressHorizontalScroll: false,\r\n      suppressColumnVirtualisation: true,\r\n      alignedGrids: [],\r\n      getContextMenuItems: params => this.getContextMenuItems(params),\r\n      onGridReady: params => {\r\n        this.gridOptions.excelStyles = ExcelStyle;\r\n      },\r\n      onFirstDataRendered: params => {\r\n        params.api.forEachNode(node => {\r\n          node.expanded = true;\r\n        });\r\n        params.api.onGroupExpandedOrCollapsed();\r\n\r\n        // AutoSizeAllColumns(params);\r\n        params.api.sizeColumnsToFit();\r\n      },\r\n\r\n      columnDefs: [\r\n        {\r\n          field: 'open_id',\r\n          width: 120,\r\n          headerName: 'Order Id',\r\n          sortable: true,\r\n          filter: true,\r\n          hide: true\r\n        },\r\n        {\r\n          field: 'trade_date',\r\n          width: 120,\r\n          headerName: 'Trade Date',\r\n          sortable: true,\r\n          filter: true,\r\n          valueFormatter: dateFormatter\r\n        },\r\n        /*\r\n        {\r\n          field: 'business_date',\r\n          width: 120,\r\n          headerName: 'Date',\r\n          sortable: true,\r\n          filter: true,\r\n          valueFormatter: dateFormatter\r\n        },\r\n        */\r\n        {\r\n          field: 'symbol',\r\n          width: 120,\r\n          headerName: 'Symbol',\r\n          rowGroup: true,\r\n          enableRowGroup: true,\r\n          sortable: true,\r\n          filter: true\r\n        },\r\n        {\r\n          field: 'status',\r\n          headerName: 'Status',\r\n          sortable: true,\r\n          filter: true,\r\n          width: 120\r\n        },\r\n        {\r\n          field: 'side',\r\n          headerName: 'Side',\r\n          sortable: true,\r\n          filter: true,\r\n          width: 100\r\n        },\r\n        {\r\n          field: 'original_quantity',\r\n          headerName: 'Orig Qty',\r\n          width: 100,\r\n          filter: true,\r\n          sortable: true,\r\n          cellClass: 'rightAlign',\r\n          valueFormatter: currencyFormatter,\r\n          aggFunc: 'sum'\r\n        },\r\n        {\r\n          field: 'quantity',\r\n          headerName: 'Rem Qty',\r\n          width: 100,\r\n          filter: true,\r\n          sortable: true,\r\n          cellClass: 'rightAlign',\r\n          valueFormatter: currencyFormatter,\r\n          aggFunc: 'sum'\r\n        },\r\n        {\r\n          field: 'investment_at_cost',\r\n          headerName: 'IoC (USD)',\r\n          width: 100,\r\n          filter: true,\r\n          sortable: true,\r\n          cellClass: 'rightAlign',\r\n          valueFormatter: moneyFormatter\r\n        },\r\n        {\r\n          field: 'eod_px',\r\n          headerName: 'EOD px (Local)',\r\n          width: 100,\r\n          filter: true,\r\n          sortable: true,\r\n          cellClass: 'rightAlign',\r\n          valueFormatter: priceFormatterEx\r\n        },\r\n        {\r\n          field: 'trade_price',\r\n          headerName: 'Trade px (Local)',\r\n          width: 100,\r\n          filter: true,\r\n          sortable: true,\r\n          cellClass: 'rightAlign',\r\n          valueFormatter: priceFormatterEx\r\n        },\r\n        {\r\n          field: 'realized',\r\n          headerName: 'Realized (USD)',\r\n          width: 100,\r\n          filter: true,\r\n          sortable: true,\r\n          cellClass: 'rightAlign',\r\n          valueFormatter: moneyFormatter,\r\n          aggFunc: 'sum'\r\n        },\r\n        {\r\n          field: 'unrealized',\r\n          headerName: 'Unrealized (USD)',\r\n          width: 100,\r\n          filter: true,\r\n          sortable: true,\r\n          cellClass: 'rightAlign',\r\n          valueFormatter: moneyFormatter,\r\n          aggFunc: 'sum'\r\n        },\r\n        {\r\n          field: 'net',\r\n          headerName: 'Net P&L (USD)',\r\n          width: 100,\r\n          filter: true,\r\n          sortable: true,\r\n          cellClass: 'rightAlign',\r\n          valueFormatter: moneyFormatter,\r\n          aggFunc: 'sum'\r\n        },\r\n        {\r\n          field: 'original_investment_at_cost',\r\n          headerName: 'IoC (Local)',\r\n          width: 100,\r\n          filter: true,\r\n          sortable: true,\r\n          cellClass: 'rightAlign',\r\n          valueFormatter: moneyFormatter,\r\n          aggFunc: 'sum'\r\n        },\r\n        {\r\n          field: 'residual_investment_at_cost',\r\n          headerName: 'Residual IoC (Local)',\r\n          width: 100,\r\n          filter: true,\r\n          sortable: true,\r\n          cellClass: 'rightAlign',\r\n          valueFormatter: moneyFormatter,\r\n          aggFunc: 'sum'\r\n        }\r\n      ],\r\n      defaultColDef: {\r\n        sortable: true,\r\n        resizable: true,\r\n        filter: true\r\n      }\r\n    };\r\n    this.gridOptions.sideBar = SideBar(\r\n      GridId.taxlotStatusId,\r\n      GridName.taxlotStatus,\r\n      this.gridOptions\r\n    );\r\n\r\n    this.closingTaxLots = {\r\n      rowData: [],\r\n      pinnedBottomRowData: [],\r\n      frameworkComponents: { customToolPanel: GridLayoutMenuComponent },\r\n      onRowDoubleClicked: this.onClosingTaxLotsRowDoubleClicked.bind(this),\r\n      rowSelection: 'single',\r\n      rowGroupPanelShow: 'after',\r\n      animateRows: true,\r\n      enableFilter: true,\r\n      suppressHorizontalScroll: false,\r\n      suppressColumnVirtualisation: true,\r\n      alignedGrids: [],\r\n      getContextMenuItems: params => this.getContextMenuItems(params),\r\n      onGridReady: params => {\r\n        this.closingTaxLots.excelStyles = ExcelStyle;\r\n      },\r\n      onFirstDataRendered: params => {\r\n        params.api.forEachNode(node => {\r\n          node.expanded = true;\r\n        });\r\n        params.api.onGroupExpandedOrCollapsed();\r\n\r\n        // AutoSizeAllColumns(params);\r\n        params.api.sizeColumnsToFit();\r\n      },\r\n      columnDefs: [\r\n        {\r\n          field: 'open_lot_id',\r\n          width: 120,\r\n          headerName: 'Open Tax Lot',\r\n          sortable: true,\r\n          filter: true\r\n        },\r\n        {\r\n          field: 'closing_lot_id',\r\n          width: 120,\r\n          headerName: 'Closing Tax Lot',\r\n          sortable: true,\r\n          filter: true\r\n        },\r\n        {\r\n          field: 'trade_date',\r\n          width: 120,\r\n          headerName: 'Trade Date',\r\n          sortable: true,\r\n          filter: true,\r\n          valueFormatter: dateFormatter\r\n        },\r\n        /*\r\n        {\r\n          field: 'business_date',\r\n          width: 120,\r\n          headerName: 'Business Date',\r\n          sortable: true,\r\n          filter: true,\r\n          valueFormatter: dateFormatter\r\n        },\r\n        */\r\n        {\r\n          field: 'realized_pnl',\r\n          width: 120,\r\n          headerName: 'Realized P&L',\r\n          sortable: true,\r\n          filter: true,\r\n          cellClass: 'rightAlign',\r\n          valueFormatter: moneyFormatter\r\n        },\r\n        {\r\n          field: 'quantity',\r\n          headerName: 'Quantity',\r\n          width: 100,\r\n          filter: true,\r\n          sortable: true,\r\n          cellClass: 'rightAlign',\r\n          valueFormatter: currencyFormatter\r\n        },\r\n        {\r\n          field: 'cost_basis',\r\n          width: 120,\r\n          headerName: 'Closing Price',\r\n          sortable: true,\r\n          cellClass: 'rightAlign',\r\n          valueFormatter: priceFormatter,\r\n          filter: true\r\n        },\r\n        {\r\n          field: 'trade_price',\r\n          width: 120,\r\n          headerName: 'Opening Price',\r\n          sortable: true,\r\n          filter: true,\r\n          cellClass: 'rightAlign',\r\n          valueFormatter: priceFormatter\r\n        }\r\n      ],\r\n      defaultColDef: {\r\n        sortable: true,\r\n        resizable: true,\r\n        filter: true\r\n      }\r\n    } as GridOptions;\r\n    this.closingTaxLots.sideBar = SideBar(\r\n      GridId.closingTaxLotId,\r\n      GridName.closingTaxLots,\r\n      this.closingTaxLots\r\n    );\r\n  }\r\n\r\n  getFunds() {\r\n    this.financeService.getFunds().subscribe(result => {\r\n      this.funds = result.payload.map(item => ({\r\n        fundId: item.FundId,\r\n        fundCode: item.FundCode\r\n      }));\r\n    });\r\n  }\r\n\r\n  // Being called twice\r\n  getReport(toDate, fromDate, symbol, fund) {\r\n    this.gridOptions.api.showLoadingOverlay();\r\n    this.reportsApiService\r\n      .getTaxLotReport(\r\n        moment(toDate).format('YYYY-MM-DD'),\r\n        moment(fromDate).format('YYYY-MM-DD'),\r\n        symbol,\r\n        fund,\r\n        false\r\n      )\r\n      .subscribe(\r\n        response => {\r\n          this.stats = response.stats;\r\n          this.data = response.payload;\r\n          this.gridOptions.api.sizeColumnsToFit();\r\n          this.gridOptions.api.setRowData(this.data);\r\n          this.gridOptions.api.expandAll();\r\n\r\n          this.gridOptions.api.hideOverlay();\r\n        },\r\n        error => {\r\n          this.gridOptions.api.hideOverlay();\r\n        }\r\n      );\r\n  }\r\n\r\n  onTaxLotSelection(lporderid) {\r\n    const startDate = this.selected.startDate.format('YYYY-MM-DD');\r\n    const endDate = this.selected.endDate.format('YYYY-MM-DD');\r\n\r\n    this.reportsApiService.getClosingTaxLots(lporderid, startDate, endDate).subscribe(response => {\r\n      // this.stats = response.stats;\r\n      // this.data = response.data;\r\n      this.closingTaxLots.api.sizeColumnsToFit();\r\n      this.closingTaxLots.api.setRowData(response.payload);\r\n\r\n      if (response.payload.length === 0) {\r\n        this.tradeSelectionSubject.next('');\r\n      } else {\r\n        this.tradeSelectionSubject.next(response.payload[0].closing_lot_id);\r\n      }\r\n    });\r\n  }\r\n\r\n  onRowDoubleClicked(params) {\r\n    const { open_id } = params.data;\r\n\r\n    this.getTrade(open_id);\r\n  }\r\n\r\n  onClosingTaxLotsRowDoubleClicked(params) {\r\n    const { closing_lot_id } = params.data;\r\n\r\n    this.getTrade(closing_lot_id);\r\n  }\r\n\r\n  getTrade(tradeId) {\r\n    this.isLoading = true;\r\n\r\n    this.financeService\r\n      .getTrade(tradeId)\r\n      .pipe(finalize(() => (this.isLoading = false)))\r\n      .subscribe(\r\n        response => {\r\n          this.dataModal.openModal(response[0], null, true);\r\n        },\r\n        error => {}\r\n      );\r\n  }\r\n\r\n  onRowSelected(event) {\r\n    if (event.node.selected) {\r\n      this.onTaxLotSelection(event.node.data.open_id);\r\n    }\r\n  }\r\n\r\n  onFilterChanged() {\r\n    this.pinnedBottomRowData = CalTotalRecords(this.gridOptions);\r\n    this.gridOptions.api.setPinnedBottomRowData(this.pinnedBottomRowData);\r\n  }\r\n\r\n  isExternalFilterPassed(object) {\r\n    const { fundFilter } = object;\r\n    const { symbolFilter } = object;\r\n    const { dateFilter } = object;\r\n\r\n    this.fund = fundFilter !== undefined ? fundFilter : this.fund;\r\n    this.filterBySymbol = symbolFilter !== undefined ? symbolFilter : this.filterBySymbol;\r\n    this.setDateRange(dateFilter);\r\n\r\n    this.gridOptions.api.onFilterChanged();\r\n  }\r\n\r\n  isExternalFilterPresent(): boolean {\r\n    if (this.fund !== 'All Funds' || this.startDate || this.filterBySymbol !== '') {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  doesExternalFilterPass(node: any) {\r\n    // Client Side Filters\r\n    // if (this.fund !== 'All Funds' && this.filterBySymbol !== '' && this.startDate) {\r\n    //   const cellFund = node.data.fund;\r\n    //   const cellSymbol = node.data.symbol === null ? '' : node.data.symbol;\r\n    //   const cellDate = moment(node.data.trade_date).format('YYYY-MM-DD');\r\n    //   return (\r\n    //     cellFund === this.fund &&\r\n    //     cellSymbol.toLowerCase().includes(this.filterBySymbol.toLowerCase()) &&\r\n    //     this.startDate <= cellDate &&\r\n    //     this.endDate >= cellDate\r\n    //   );\r\n    // }\r\n    // if (this.fund !== 'All Funds' && this.filterBySymbol !== '') {\r\n    //   const cellFund = node.data.fund;\r\n    //   const cellSymbol = node.data.symbol === null ? '' : node.data.symbol;\r\n    //   return cellFund === this.fund && cellSymbol.includes(this.filterBySymbol);\r\n    // }\r\n    // if (this.fund !== 'All Funds' && this.startDate) {\r\n    //   const cellFund = node.data.fund;\r\n    //   const cellDate = moment(node.data.trade_date).format('YYYY-MM-DD');\r\n    //   return cellFund === this.fund && this.startDate <= cellDate && this.endDate >= cellDate;\r\n    // }\r\n    // if (this.filterBySymbol !== '' && this.startDate) {\r\n    //   const cellSymbol = node.data.symbol === null ? '' : node.data.symbol;\r\n    //   const cellDate = moment(node.data.trade_date).format('YYYY-MM-DD');\r\n    //   return (\r\n    //     cellSymbol.toLowerCase().includes(this.filterBySymbol.toLowerCase()) &&\r\n    //     this.startDate <= cellDate &&\r\n    //     this.endDate >= cellDate\r\n    //   );\r\n    // }\r\n    // if (this.fund !== 'All Funds') {\r\n    //   const cellFund = node.data.fund;\r\n    //   return cellFund === this.fund;\r\n    // }\r\n    // if (this.startDate) {\r\n    //   const cellDate = moment(node.data.trade_date).format('YYYY-MM-DD');\r\n    //   return this.startDate <= cellDate && this.endDate >= cellDate;\r\n    // }\r\n    if (this.filterBySymbol !== '') {\r\n      const cellSymbol = node.data.symbol === null ? '' : node.data.symbol;\r\n      return cellSymbol.toLowerCase().includes(this.filterBySymbol.toLowerCase());\r\n    }\r\n    return true;\r\n  }\r\n\r\n  openDataGridModal(rowData: any) {\r\n    const { open_id } = rowData;\r\n    this.financeService\r\n      .getTradeJournals(open_id, '', '')\r\n      .pipe(finalize(() => this.gridOptions.api.hideOverlay()))\r\n      .subscribe(response => {\r\n        const { data, meta } = response;\r\n        const someArray = this.agGridUtils.columizeData(data, meta.Columns);\r\n        const columns = this.dataDictionary.getTradeJournalColDefs(meta.Columns);\r\n\r\n        this.dataGridModal.openModal(columns, someArray);\r\n      });\r\n  }\r\n\r\n  getContextMenuItems(params): Array<ContextMenu> {\r\n    const addDefaultItems = [\r\n      {\r\n        name: 'View Journals',\r\n        action: () => {\r\n          this.gridOptions.api.showLoadingOverlay();\r\n          this.openDataGridModal(params.node.data);\r\n        }\r\n      },\r\n      {\r\n        name: 'Corporate Actions',\r\n        subMenu: [\r\n          {\r\n            name: 'Create Dividend',\r\n            action: () => {\r\n              this.dividendModal.openDividendModalFromOutside(params.node.data.symbol);\r\n            }\r\n          },\r\n          {\r\n            name: 'Create Stock Split',\r\n            action: () => {\r\n              this.stockSplitsModal.openStockSplitModalFromOutside(params.node.data.symbol);\r\n            }\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        name: 'Security Details',\r\n        subMenu: [\r\n          {\r\n            name: 'Extend',\r\n            action: () => {\r\n              this.isLoading = true;\r\n\r\n              this.securityApiService.getDataForSecurityModal(params.node.data.symbol).subscribe(\r\n                ([config, securityDetails]: [any, any]) => {\r\n\r\n                  this.isLoading = false;\r\n                  if (!config.isSuccessful) {\r\n                  this.toastrService.error('No security type found against the selected symbol!');\r\n                  return;\r\n                }\r\n\r\n                  if (securityDetails.payload.length === 0) {\r\n                  this.securityModal.openSecurityModalFromOutside(params.node.data.symbol,\r\n                    config.payload[0].SecurityType, config.payload[0].Fields, null, 'extend');\r\n                } else {\r\n                  this.securityModal.openSecurityModalFromOutside(params.node.data.symbol,\r\n                    config.payload[0].SecurityType, config.payload[0].Fields, securityDetails.payload[0], 'extend');\r\n                }\r\n\r\n                },\r\n                error => {\r\n                  this.isLoading = false;\r\n                }\r\n              );\r\n\r\n            },\r\n          }\r\n        ]\r\n      }\r\n    ];\r\n\r\n    // (isDefaultItems, addDefaultItem, isCustomItems, addCustomItems, params)\r\n    return GetContextMenu(false, addDefaultItems, true, null, params);\r\n  }\r\n\r\n  // getDataForSecurityModal(symbol) {\r\n  //   const config = this.securityApiService.getSecurityConfig(symbol);\r\n  //   const securityDetails = this.securityApiService.getSecurityDetail(symbol);\r\n  //   return forkJoin([\r\n  //     config,\r\n  //     securityDetails\r\n  //   ]);\r\n  // }\r\n\r\n  setDateRange(dateFilter: any) {\r\n    const dates = SetDateRange(dateFilter, this.startDate, this.endDate);\r\n    this.startDate = dates[0];\r\n    this.endDate = dates[1];\r\n\r\n    this.selected =\r\n      dateFilter.startDate !== '' ? { startDate: this.startDate, endDate: this.endDate } : null;\r\n  }\r\n\r\n  getRangeLabel() {\r\n    this.DateRangeLabel = '';\r\n    this.DateRangeLabel = GetDateRangeLabel(this.startDate, this.endDate);\r\n  }\r\n\r\n  refreshReport() {\r\n    this.gridOptions.api.showLoadingOverlay();\r\n\r\n    if (this.selected.startDate == null) {\r\n      this.selected = {\r\n        startDate: moment(this.journalDate, 'YYYY-MM-DD'),\r\n        endDate: moment(this.journalDate, 'YYYY-MM-DD')\r\n      };\r\n      this.getReport(this.journalDate, this.journalDate, this.filterBySymbol, 'ALL');\r\n    } else {\r\n      const startDate = this.selected.startDate.format('YYYY-MM-DD');\r\n      const endDate = this.selected.endDate.format('YYYY-MM-DD');\r\n      this.getReport(startDate, endDate, this.filterBySymbol, 'ALL');\r\n    }\r\n  }\r\n\r\n  clearFilters() {\r\n    this.fund = 'All Funds';\r\n    this.DateRangeLabel = '';\r\n    this.selected = null;\r\n    this.filterBySymbol = '';\r\n    // Client Side Filters\r\n    // this.gridOptions.api.setRowData(this.data);\r\n    // Server Side Filters\r\n    this.gridOptions.api.setRowData([]);\r\n    this.closingTaxLots.api.setRowData([]);\r\n    this.tradeSelectionSubject.next('');\r\n  }\r\n\r\n  ngModelChangeSymbol(e) {\r\n    this.filterBySymbol = e;\r\n    this.gridOptions.api.onFilterChanged();\r\n  }\r\n\r\n  onSymbolKey(e) {\r\n    this.filterBySymbol = e.srcElement.value;\r\n    this.gridOptions.api.onFilterChanged();\r\n\r\n    // For the moment we react to each key stroke\r\n    if (e.code === 'Enter' || e.code === 'Tab') {\r\n    }\r\n  }\r\n\r\n  getExternalFilterState() {\r\n    return {\r\n      fundFilter: this.fund,\r\n      symbolFilter: this.filterBySymbol,\r\n      dateFilter: { startDate: this.startDate, endDate: this.endDate }\r\n    };\r\n  }\r\n\r\n  changeDate(selectedDate) {\r\n    if (!selectedDate.startDate) {\r\n      return;\r\n    }\r\n    this.startDate = selectedDate.startDate.format('YYYY-MM-DD');\r\n    this.endDate = selectedDate.endDate.format('YYYY-MM-DD');\r\n    // In case we need to enable filter from Server Side\r\n    this.getReport(\r\n      this.startDate,\r\n      this.endDate,\r\n      this.filterBySymbol,\r\n      this.fund === 'All Funds' ? 'ALL' : this.fund\r\n    );\r\n    this.getRangeLabel();\r\n    // this.gridOptions.api.onFilterChanged();\r\n  }\r\n\r\n  changeFund(selectedFund) {\r\n    this.fund = selectedFund;\r\n    // In case we need to enable from Server Side\r\n    this.getReport(\r\n      this.startDate,\r\n      this.endDate,\r\n      this.filterBySymbol,\r\n      this.fund === 'All Funds' ? 'ALL' : this.fund\r\n    );\r\n    // this.gridOptions.api.onFilterChanged();\r\n  }\r\n\r\n  onBtExport() {\r\n    const params = {\r\n      fileName: 'Tax Lot Reports',\r\n      sheetName: 'First Sheet'\r\n    };\r\n    this.gridOptions.api.exportDataAsExcel(params);\r\n    this.downloadExcelUtils.ToastrMessage();\r\n  }\r\n\r\n  onTradeRowSelected(event) {\r\n    if (event.node.selected) {\r\n      this.tradeSelectionSubject.next(event.node.data.closing_lot_id);\r\n    }\r\n  }\r\n}\r\n\r\nfunction moneyFormatter(params) {\r\n  if (params.value === undefined) {\r\n    return;\r\n  }\r\n  return MoneyFormat(params.value);\r\n}\r\n\r\nfunction currencyFormatter(params) {\r\n  if (params.value === undefined) {\r\n    return;\r\n  }\r\n  return CommaSeparatedFormat(params.value);\r\n}\r\n\r\nfunction dateFormatter(params) {\r\n  if (params.value === undefined) {\r\n    return;\r\n  }\r\n  return DateFormatter(params.value);\r\n}\r\n\r\nfunction priceFormatter(params) {\r\n  if (params.value === undefined) {\r\n    return;\r\n  }\r\n  return FormatNumber4(params.value);\r\n}\r\n","export default \"body,\\nhtml {\\n  margin: 0;\\n  padding: 0;\\n  height: 100%;\\n}\\n\\n.refresh-spinner {\\n  display: flex;\\n  width: 8rem;\\n  height: 3rem;\\n  position: absolute;\\n  top: 46%;\\n  left: 48%;\\n  border: 1px solid grey;\\n  background-color: #fcfbfd;\\n  color: #606264;\\n  justify-content: center;\\n  align-items: center;\\n  z-index: 1000;\\n}\\n\\n.md-datepicker-input-container {\\n  width: 150px;\\n}\\n\\n.mat-datepicker-content .mat-calendar {\\n  zoom: 0.5;\\n}\\n\\n::-webkit-scrollbar {\\n  width: 10px;\\n  z-index: 1000;\\n}\\n\\n::-webkit-scrollbar-thumb {\\n  /* background-clip: padding-box; */\\n  border-radius: 16px;\\n  border: 4px solid transparent;\\n  background-color: #a0a0a0;\\n  cursor: pointer;\\n  transition: background-color 0.1s ease;\\n}\\n\\n@media (min-width: 320px) {\\n  ::ng-deep.md-drppicker.shown.drops-down-right {\\n    width: 320px;\\n  }\\n}\\n\\n@media (min-width: 768px) {\\n  ::ng-deep.md-drppicker.shown.drops-down-right {\\n    width: auto;\\n  }\\n}\\n\\n::ng-deep .debit {\\n  background-image: linear-gradient(to right, #64dc64 0%, #6ee16e 17%, #73e673 33%, #78f078 67%, #7dfa7d 83%, #96ff96 100%);\\n  background-position: 100% 100%;\\n  text-align: end;\\n  font-weight: 500;\\n}\\n\\n::ng-deep .credit {\\n  background-image: linear-gradient(to left, #dc6464 0%, #e16e6e 17%, #e67373 33%, #f07878 67%, #fa7d7d 83%, #ff9696 100%);\\n  padding-right: 18px !important;\\n  text-align: end;\\n  font-weight: 500;\\n}\\n\\n::ng-deep .rightAlign {\\n  text-align: right;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9yZXBvcnRzL3RyaWFsLWJhbGFuY2UvQzpcXFVzZXJzXFxsYXR0aVxcZGV2ZWxvcG1lbnRcXGxpZ2h0cG9pbnRcXGZpbmFuY2VcXGZyb250ZW5kYXBwL3NyY1xcYXBwXFxtYWluXFxyZXBvcnRzXFx0cmlhbC1iYWxhbmNlXFx0cmlhbC1iYWxhbmNlLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9tYWluL3JlcG9ydHMvdHJpYWwtYmFsYW5jZS90cmlhbC1iYWxhbmNlLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztFQUVFLFNBQUE7RUFDQSxVQUFBO0VBQ0EsWUFBQTtBQ0NGOztBREVBO0VBQ0UsYUFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSxRQUFBO0VBQ0EsU0FBQTtFQUNBLHNCQUFBO0VBQ0EseUJBQUE7RUFDQSxjQUFBO0VBQ0EsdUJBQUE7RUFDQSxtQkFBQTtFQUNBLGFBQUE7QUNDRjs7QURFQTtFQUNFLFlBQUE7QUNDRjs7QURFQTtFQUNFLFNBQUE7QUNDRjs7QURFQTtFQUNFLFdBQUE7RUFDQSxhQUFBO0FDQ0Y7O0FERUE7RUFDRSxrQ0FBQTtFQUNBLG1CQUFBO0VBQ0EsNkJBQUE7RUFDQSx5QkFBQTtFQUNBLGVBQUE7RUFFQSxzQ0FBQTtBQ0NGOztBREVBO0VBQ0U7SUFDRSxZQUFBO0VDQ0Y7QUFDRjs7QURFQTtFQUNFO0lBQ0UsV0FBQTtFQ0FGO0FBQ0Y7O0FER0E7RUFDRSx5SEFBQTtFQVNBLDhCQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQUFBO0FDVEY7O0FEWUE7RUFDRSx3SEFBQTtFQVNBLDhCQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQUFBO0FDakJGOztBRG9CQTtFQUNFLGlCQUFBO0FDakJGIiwiZmlsZSI6InNyYy9hcHAvbWFpbi9yZXBvcnRzL3RyaWFsLWJhbGFuY2UvdHJpYWwtYmFsYW5jZS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImJvZHksXHJcbmh0bWwge1xyXG4gIG1hcmdpbjogMDtcclxuICBwYWRkaW5nOiAwO1xyXG4gIGhlaWdodDogMTAwJTtcclxufVxyXG5cclxuLnJlZnJlc2gtc3Bpbm5lciB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICB3aWR0aDogOHJlbTtcclxuICBoZWlnaHQ6IDNyZW07XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIHRvcDogNDYlO1xyXG4gIGxlZnQ6IDQ4JTtcclxuICBib3JkZXI6IDFweCBzb2xpZCBncmV5O1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNmY2ZiZmQ7XHJcbiAgY29sb3I6ICM2MDYyNjQ7XHJcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICB6LWluZGV4OiAxMDAwO1xyXG59XHJcblxyXG4ubWQtZGF0ZXBpY2tlci1pbnB1dC1jb250YWluZXIge1xyXG4gIHdpZHRoOiAxNTBweDtcclxufVxyXG5cclxuLm1hdC1kYXRlcGlja2VyLWNvbnRlbnQgLm1hdC1jYWxlbmRhciB7XHJcbiAgem9vbTogMC41O1xyXG59XHJcblxyXG46Oi13ZWJraXQtc2Nyb2xsYmFyIHtcclxuICB3aWR0aDogMTBweDtcclxuICB6LWluZGV4OiAxMDAwO1xyXG59XHJcblxyXG46Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iIHtcclxuICAvKiBiYWNrZ3JvdW5kLWNsaXA6IHBhZGRpbmctYm94OyAqL1xyXG4gIGJvcmRlci1yYWRpdXM6IDE2cHg7XHJcbiAgYm9yZGVyOiA0cHggc29saWQgdHJhbnNwYXJlbnQ7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgxNjAsIDE2MCwgMTYwKTtcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgLXdlYmtpdC10cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuMXMgZWFzZTtcclxuICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuMXMgZWFzZTtcclxufVxyXG5cclxuQG1lZGlhIChtaW4td2lkdGg6IDMyMHB4KSB7XHJcbiAgOjpuZy1kZWVwLm1kLWRycHBpY2tlci5zaG93bi5kcm9wcy1kb3duLXJpZ2h0IHtcclxuICAgIHdpZHRoOiAzMjBweDtcclxuICB9XHJcbn1cclxuXHJcbkBtZWRpYSAobWluLXdpZHRoOiA3NjhweCkge1xyXG4gIDo6bmctZGVlcC5tZC1kcnBwaWNrZXIuc2hvd24uZHJvcHMtZG93bi1yaWdodCB7XHJcbiAgICB3aWR0aDogYXV0bztcclxuICB9XHJcbn1cclxuXHJcbjo6bmctZGVlcCAuZGViaXQge1xyXG4gIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudChcclxuICAgIHRvIHJpZ2h0LFxyXG4gICAgcmdiKDEwMCwgMjIwLCAxMDAsIDEpIDAlLFxyXG4gICAgcmdiKDExMCwgMjI1LCAxMTAsIDEpIDE3JSxcclxuICAgIHJnYigxMTUsIDIzMCwgMTE1LCAxKSAzMyUsXHJcbiAgICByZ2JhKDEyMCwgMjQwLCAxMjAsIDEpIDY3JSxcclxuICAgIHJnYigxMjUsIDI1MCwgMTI1LCAxKSA4MyUsXHJcbiAgICByZ2IoMTUwLCAyNTUsIDE1MCwgMSkgMTAwJVxyXG4gICk7XHJcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogMTAwJSAxMDAlO1xyXG4gIHRleHQtYWxpZ246IGVuZDtcclxuICBmb250LXdlaWdodDogNTAwO1xyXG59XHJcblxyXG46Om5nLWRlZXAgLmNyZWRpdCB7XHJcbiAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KFxyXG4gICAgdG8gbGVmdCxcclxuICAgIHJnYigyMjAsIDEwMCwgMTAwLCAxKSAwJSxcclxuICAgIHJnYigyMjUsIDExMCwgMTEwLCAxKSAxNyUsXHJcbiAgICByZ2JhKDIzMCwgMTE1LCAxMTUsIDEpIDMzJSxcclxuICAgIHJnYmEoMjQwLCAxMjAsIDEyMCwgMSkgNjclLFxyXG4gICAgcmdiYSgyNTAsIDEyNSwgMTI1LCAxKSA4MyUsXHJcbiAgICByZ2JhKDI1NSwgMTUwLCAxNTAsIDEpIDEwMCVcclxuICApO1xyXG4gIHBhZGRpbmctcmlnaHQ6IDE4cHggIWltcG9ydGFudDtcclxuICB0ZXh0LWFsaWduOiBlbmQ7XHJcbiAgZm9udC13ZWlnaHQ6IDUwMDtcclxufVxyXG5cclxuOjpuZy1kZWVwIC5yaWdodEFsaWduIHtcclxuICB0ZXh0LWFsaWduOiByaWdodDtcclxufVxyXG4iLCJib2R5LFxuaHRtbCB7XG4gIG1hcmdpbjogMDtcbiAgcGFkZGluZzogMDtcbiAgaGVpZ2h0OiAxMDAlO1xufVxuXG4ucmVmcmVzaC1zcGlubmVyIHtcbiAgZGlzcGxheTogZmxleDtcbiAgd2lkdGg6IDhyZW07XG4gIGhlaWdodDogM3JlbTtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDQ2JTtcbiAgbGVmdDogNDglO1xuICBib3JkZXI6IDFweCBzb2xpZCBncmV5O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmNmYmZkO1xuICBjb2xvcjogIzYwNjI2NDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIHotaW5kZXg6IDEwMDA7XG59XG5cbi5tZC1kYXRlcGlja2VyLWlucHV0LWNvbnRhaW5lciB7XG4gIHdpZHRoOiAxNTBweDtcbn1cblxuLm1hdC1kYXRlcGlja2VyLWNvbnRlbnQgLm1hdC1jYWxlbmRhciB7XG4gIHpvb206IDAuNTtcbn1cblxuOjotd2Via2l0LXNjcm9sbGJhciB7XG4gIHdpZHRoOiAxMHB4O1xuICB6LWluZGV4OiAxMDAwO1xufVxuXG46Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iIHtcbiAgLyogYmFja2dyb3VuZC1jbGlwOiBwYWRkaW5nLWJveDsgKi9cbiAgYm9yZGVyLXJhZGl1czogMTZweDtcbiAgYm9yZGVyOiA0cHggc29saWQgdHJhbnNwYXJlbnQ7XG4gIGJhY2tncm91bmQtY29sb3I6ICNhMGEwYTA7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgLXdlYmtpdC10cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuMXMgZWFzZTtcbiAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAwLjFzIGVhc2U7XG59XG5cbkBtZWRpYSAobWluLXdpZHRoOiAzMjBweCkge1xuICA6Om5nLWRlZXAubWQtZHJwcGlja2VyLnNob3duLmRyb3BzLWRvd24tcmlnaHQge1xuICAgIHdpZHRoOiAzMjBweDtcbiAgfVxufVxuQG1lZGlhIChtaW4td2lkdGg6IDc2OHB4KSB7XG4gIDo6bmctZGVlcC5tZC1kcnBwaWNrZXIuc2hvd24uZHJvcHMtZG93bi1yaWdodCB7XG4gICAgd2lkdGg6IGF1dG87XG4gIH1cbn1cbjo6bmctZGVlcCAuZGViaXQge1xuICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQodG8gcmlnaHQsICM2NGRjNjQgMCUsICM2ZWUxNmUgMTclLCAjNzNlNjczIDMzJSwgIzc4ZjA3OCA2NyUsICM3ZGZhN2QgODMlLCAjOTZmZjk2IDEwMCUpO1xuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAxMDAlIDEwMCU7XG4gIHRleHQtYWxpZ246IGVuZDtcbiAgZm9udC13ZWlnaHQ6IDUwMDtcbn1cblxuOjpuZy1kZWVwIC5jcmVkaXQge1xuICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQodG8gbGVmdCwgI2RjNjQ2NCAwJSwgI2UxNmU2ZSAxNyUsICNlNjczNzMgMzMlLCAjZjA3ODc4IDY3JSwgI2ZhN2Q3ZCA4MyUsICNmZjk2OTYgMTAwJSk7XG4gIHBhZGRpbmctcmlnaHQ6IDE4cHggIWltcG9ydGFudDtcbiAgdGV4dC1hbGlnbjogZW5kO1xuICBmb250LXdlaWdodDogNTAwO1xufVxuXG46Om5nLWRlZXAgLnJpZ2h0QWxpZ24ge1xuICB0ZXh0LWFsaWduOiByaWdodDtcbn0iXX0= */\"","import { Component, OnInit, AfterViewInit, ViewChild } from '@angular/core';\r\nimport { FinanceServiceProxy } from '../../../../services/service-proxies';\r\nimport { Fund } from '../../../../shared/Models/account';\r\nimport {\r\n  TrialBalanceReport,\r\n  TrialBalanceReportStats\r\n} from '../../../../shared/Models/trial-balance';\r\nimport { DataService } from '../../../../services/common/data.service';\r\nimport * as moment from 'moment';\r\nimport {\r\n  Ranges,\r\n  Style,\r\n  HeightStyle,\r\n  GetDateRangeLabel,\r\n  SetDateRange,\r\n  FormatNumber2\r\n} from 'src/shared/utils/Shared';\r\nimport { DownloadExcelUtils } from 'src/shared/utils/DownloadExcelUtils';\r\nimport { ReportGridComponent } from '../report-grid/report-grid.component';\r\nimport { ReportsApiService } from 'src/services/reports-api.service';\r\n\r\n@Component({\r\n  selector: 'rep-trial-balance',\r\n  templateUrl: './trial-balance.component.html',\r\n  styleUrls: ['./trial-balance.component.scss']\r\n})\r\nexport class TrialBalanceComponent implements OnInit, AfterViewInit {\r\n  @ViewChild('trialBalanceReportGrid', { static: false })\r\n  private trialBalanceReportGrid: ReportGridComponent;\r\n\r\n  fund: any = 'All Funds';\r\n  funds: Fund;\r\n  DateRangeLabel = '';\r\n  startDate: any = '';\r\n  endDate: any = '';\r\n  selected: { startDate: moment.Moment; endDate: moment.Moment };\r\n  maxDate: moment.Moment;\r\n  title = 'Account Name';\r\n  trialBalanceReport: Array<TrialBalanceReport>;\r\n  trialBalanceReportStats: TrialBalanceReportStats;\r\n  isDataLoaded = false;\r\n  externalFilters: any;\r\n  hideGrid: boolean;\r\n\r\n  ranges: any = Ranges;\r\n\r\n  style = Style;\r\n\r\n  styleForHeight = HeightStyle(220);\r\n\r\n  processingMsgDiv = {\r\n    border: '1px solid #eee',\r\n    padding: '4px',\r\n    marginTop: '20px',\r\n    width: '100%',\r\n    height: 'calc(100vh - 125px)',\r\n    boxSizing: 'border-box'\r\n  };\r\n\r\n  constructor(\r\n    private financeService: FinanceServiceProxy,\r\n    private reportsApiService: ReportsApiService,\r\n    private dataService: DataService,\r\n    private downloadExcelUtils: DownloadExcelUtils\r\n  ) {\r\n    this.hideGrid = false;\r\n    this.getExternalFilters();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.getFunds();\r\n    this.maxDate = moment();\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.dataService.flag$.subscribe(obj => {\r\n      this.hideGrid = obj;\r\n      if (!this.hideGrid) {\r\n        this.getFunds();\r\n        this.getReport(null, null, 'ALL');\r\n      }\r\n    });\r\n  }\r\n\r\n  getFunds() {\r\n    this.financeService.getFunds().subscribe(result => {\r\n      this.funds = result.payload.map(item => ({\r\n        fundId: item.FundId,\r\n        fundCode: item.FundCode\r\n      }));\r\n    });\r\n  }\r\n\r\n  getReport(toDate, fromDate, fund) {\r\n    this.isDataLoaded = false;\r\n    this.reportsApiService.getTrialBalanceReport(toDate, fromDate, fund).subscribe(response => {\r\n      this.trialBalanceReportStats = response.stats;\r\n      this.trialBalanceReport = response.payload.map(data => ({\r\n        accountName: data.AccountName,\r\n        AccountCategory: data.AccountCategory,\r\n        AccountType: data.AccountType,\r\n        AccountName: data.AccountName,\r\n        credit: FormatNumber2(data.Credit),\r\n        creditPercentage: data.CreditPercentage,\r\n        debit: FormatNumber2(data.Debit),\r\n        debitPercentage: data.DebitPercentage,\r\n        balance: FormatNumber2(data.Balance)\r\n      }));\r\n      this.isDataLoaded = true;\r\n    });\r\n  }\r\n\r\n  setDateRange(dateFilter: any) {\r\n    const dates = SetDateRange(dateFilter, this.startDate, this.endDate);\r\n    this.startDate = dates[0];\r\n    this.endDate = dates[1];\r\n\r\n    this.selected =\r\n      dateFilter.startDate !== '' ? { startDate: this.startDate, endDate: this.endDate } : null;\r\n  }\r\n\r\n  getRangeLabel() {\r\n    this.DateRangeLabel = '';\r\n    this.DateRangeLabel = GetDateRangeLabel(this.startDate, this.endDate);\r\n  }\r\n\r\n  changeDate(selectedDate) {\r\n    if (!selectedDate.startDate) {\r\n      return;\r\n    }\r\n    this.startDate = selectedDate.startDate.format('YYYY-MM-DD');\r\n    this.endDate = selectedDate.endDate.format('YYYY-MM-DD');\r\n    this.getReport(this.startDate, this.endDate, this.fund === 'All Funds' ? 'ALL' : this.fund);\r\n    this.getRangeLabel();\r\n    this.getExternalFilters();\r\n  }\r\n\r\n  changeFund(selectedFund) {\r\n    this.fund = selectedFund;\r\n    this.getReport(this.startDate, this.endDate, this.fund === 'All Funds' ? 'ALL' : this.fund);\r\n    this.getExternalFilters();\r\n  }\r\n\r\n  getExternalFilters() {\r\n    this.externalFilters = {\r\n      fundFilter: this.fund,\r\n      dateFilter:\r\n        this.DateRangeLabel !== ''\r\n          ? this.DateRangeLabel\r\n          : {\r\n              startDate: this.startDate !== null ? this.startDate : '',\r\n              endDate: this.endDate !== null ? this.endDate : ''\r\n            }\r\n    };\r\n  }\r\n\r\n  isExternalFilterPassed(object) {\r\n    const { fundFilter, dateFilter } = object;\r\n    this.fund = fundFilter !== undefined ? fundFilter : this.fund;\r\n    this.setDateRange(dateFilter);\r\n    this.startDate = this.startDate !== null ? this.startDate.format('YYYY-MM-DD') : null;\r\n    this.endDate = this.endDate !== null ? this.endDate.format('YYYY-MM-DD') : null;\r\n    this.getReport(this.startDate, this.endDate, this.fund === 'All Funds' ? 'ALL' : this.fund);\r\n  }\r\n\r\n  clearFilters() {\r\n    this.fund = 'All Funds';\r\n    this.selected = null;\r\n    this.DateRangeLabel = '';\r\n    this.startDate = '';\r\n    this.endDate = '';\r\n    this.getReport(null, null, 'ALL');\r\n  }\r\n\r\n  onBtExport() {\r\n    const params = {\r\n      fileName: 'Trial Balance Reports',\r\n      sheetName: 'First Sheet'\r\n    };\r\n    this.trialBalanceReportGrid.gridOptions.api.exportDataAsExcel(params);\r\n    this.downloadExcelUtils.ToastrMessage();\r\n  }\r\n\r\n  refreshReport() {\r\n    this.trialBalanceReportGrid.gridOptions.api.showLoadingOverlay();\r\n    this.clearFilters();\r\n    this.getReport(null, null, 'ALL');\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///"}