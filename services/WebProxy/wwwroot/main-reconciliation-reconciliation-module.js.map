{"version":3,"sources":["./src/app/main/reconciliation/bookmon-reconcile/bookmon-reconcile.component.html","./src/app/main/reconciliation/daypnl-reconcile/daypnl-reconcile.component.html","./src/app/main/reconciliation/detail-pnl-date/detail-pnl-date.component.html","./src/app/main/reconciliation/fundadmin-reconcile/fundadmin-reconcile.component.html","./src/app/main/reconciliation/reconciliation.component.html","./src/app/main/reconciliation/bookmon-reconcile/bookmon-reconcile.component.scss","./src/app/main/reconciliation/bookmon-reconcile/bookmon-reconcile.component.ts","./src/app/main/reconciliation/daypnl-reconcile/daypnl-reconcile.component.scss","./src/app/main/reconciliation/daypnl-reconcile/daypnl-reconcile.component.ts","./src/app/main/reconciliation/detail-pnl-date/detail-pnl-date.component.scss","./src/app/main/reconciliation/detail-pnl-date/detail-pnl-date.component.ts","./src/app/main/reconciliation/fundadmin-reconcile/fundadmin-reconcile.component.scss","./src/app/main/reconciliation/fundadmin-reconcile/fundadmin-reconcile.component.ts","./src/app/main/reconciliation/reconciliation.component.scss","./src/app/main/reconciliation/reconciliation.component.ts","./src/app/main/reconciliation/reconciliation.module.ts","./src/app/main/reconciliation/reconciliation.routes.ts"],"names":[],"mappings":"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","file":"main-reconciliation-reconciliation-module.js","sourcesContent":["export default \"<!-- Hide Grid Div -->\\r\\n<div *ngIf=\\\"hideGrid\\\" #logScroll [ngStyle]=\\\"processingMsgDiv\\\">\\r\\n  <div class=\\\"d-flex align-items-center justify-content-center\\\">\\r\\n    <h1> Posting Engine is Running. Please Wait. </h1>\\r\\n  </div>\\r\\n</div>\\r\\n<!-- Hide Grid Div Ends -->\\r\\n\\r\\n<!-- Reports Main Div Starts -->\\r\\n<div [ngStyle]=\\\"{ 'display': hideGrid ? 'none' : 'initial' } \\\">\\r\\n\\r\\n  <!-- Filters Div Starts -->\\r\\n  <div class=\\\"row \\\">\\r\\n\\r\\n    <!-- Funds Dropdown Div Starts -->\\r\\n    <div class=\\\"col-auto\\\">\\r\\n      <select class=\\\"form-control\\\" [(ngModel)]=\\\"fund\\\" (ngModelChange)=\\\"changeFund($event)\\\">\\r\\n        <option selected>All Funds</option>\\r\\n        <option *ngFor=\\\"let fund of funds\\\" [ngValue]=\\\"fund.fundCode\\\">\\r\\n          {{ fund.fundCode }}\\r\\n        </option>\\r\\n      </select>\\r\\n    </div>\\r\\n    <!-- Funds Dropdown Div Ends -->\\r\\n\\r\\n    <!-- Symbol Filter -->\\r\\n    <div class=\\\"col-auto\\\">\\r\\n      <input type=\\\"text\\\" autocomplete=\\\"off\\\" placeholder=\\\"Filter by Symbol\\\" name=\\\"symbol\\\" [(ngModel)]=\\\"filterBySymbol\\\"\\r\\n        (ngModelChange)=\\\"ngModelChangeSymbol($event)\\\" (keyup)=\\\"onSymbolKey($event)\\\" class=\\\"form-control\\\" />\\r\\n    </div>\\r\\n    <!-- Symbol Filter Ends -->\\r\\n\\r\\n    <!-- Date Picker Div Starts -->\\r\\n    <div class=\\\"col-auto\\\">\\r\\n      <form>\\r\\n        <input ngxDaterangepickerMd class=\\\"form-control\\\" type=\\\"text\\\" placeholder=\\\"Choose date\\\"\\r\\n          [(ngModel)]=\\\"selectedDate\\\" (ngModelChange)=\\\"changeDate($event)\\\" name=\\\" selectedDate\\\" [singleDatePicker]=\\\"true\\\"\\r\\n          [autoApply]=\\\"true\\\" [maxDate]=\\\"maxDate\\\" />\\r\\n      </form>\\r\\n    </div>\\r\\n    <!-- Date Picker Div Ends -->\\r\\n\\r\\n    <!-- Clear Button Div Starts -->\\r\\n    <div class=\\\"col-auto\\\">\\r\\n      <button (click)=\\\"clearFilters()\\\" class=\\\"btn btn-pa\\\" tooltip=\\\"Clear\\\" placement=\\\"top\\\">\\r\\n        <i class=\\\"fa fa-remove\\\"></i>\\r\\n      </button>\\r\\n    </div>\\r\\n    <!-- Clear Button Div Ends -->\\r\\n\\r\\n    <!-- Util Buttons Div Starts -->\\r\\n    <div class=\\\"col-auto ml-auto mr-2\\\">\\r\\n\\r\\n      <!-- Refresh Button Div Starts -->\\r\\n      <div class=\\\"mr-2 d-inline-block\\\">\\r\\n        <button (click)=\\\"refreshReport()\\\" class=\\\"btn btn-pa\\\" tooltip=\\\"Refresh\\\" placement=\\\"top\\\">\\r\\n          <i class=\\\"fa fa-refresh\\\"></i></button>\\r\\n      </div>\\r\\n      <!-- Refresh Button Div Ends -->\\r\\n\\r\\n      <!-- Export to Excel Button -->\\r\\n      <div class=\\\"mr-2 d-inline-block\\\">\\r\\n        <button (click)=\\\"onBtExport()\\\" class=\\\"btn btn-pa\\\" tooltip=\\\"Export to Excel\\\" placement=\\\"top\\\">\\r\\n          <i class=\\\"fa fa-arrow-circle-o-down\\\"></i>\\r\\n        </button>\\r\\n      </div>\\r\\n      <!-- Export to Excel Button Ends -->\\r\\n\\r\\n      <!-- Expand/Collapse Button -->\\r\\n      <div class=\\\"mr-3 d-inline-block\\\">\\r\\n        <ng-template #tooltipTemplate>{{action.accountingBookMonView ? 'Expand' : 'Collapse'}}</ng-template>\\r\\n        <button (click)=\\\"action.accountingBookMonView = !action.accountingBookMonView\\\" class=\\\"btn btn-pa\\\"\\r\\n          [tooltip]=\\\"tooltipTemplate\\\" placement=\\\"top\\\">\\r\\n          <i class=\\\"fa\\\"\\r\\n            [ngClass]=\\\"{'fa-arrow-down': action.accountingBookMonView, 'fa-arrow-up': !action.accountingBookMonView}\\\"></i>\\r\\n        </button>\\r\\n      </div>\\r\\n      <!-- Expand/Collapse Button Ends -->\\r\\n\\r\\n    </div>\\r\\n    <!-- Util Buttons Div Ends -->\\r\\n\\r\\n  </div>\\r\\n  <!-- Filters Div Ends -->\\r\\n\\r\\n  <!-- Legends Row Starts -->\\r\\n  <div class=\\\"row mx-0 mt-2\\\">\\r\\n\\r\\n    <!-- Reconciled Details Legend Starts -->\\r\\n    <div class=\\\"col-12 p-0\\\">\\r\\n\\r\\n      <!-- Legend Tag Starts -->\\r\\n      <div class=\\\"row mx-0\\\">\\r\\n\\r\\n        <div class=\\\"font-weight-bold\\\">Reconciled Details</div>\\r\\n\\r\\n        <div class=\\\"d-flex ml-auto mr-2\\\">\\r\\n\\r\\n          <ng-container *ngIf=\\\"showNonZeroBtn\\\">\\r\\n            <p class=\\\"legend-label\\\">Non-Zero</p>\\r\\n            <button class=\\\"btn nonZero opacity-1 legend-height width-40px ml-2\\\" [disabled]=\\\"true\\\">\\r\\n            </button>\\r\\n          </ng-container>\\r\\n\\r\\n          <ng-container *ngIf=\\\"showNotInAccountingBtn\\\">\\r\\n            <p class=\\\"legend-label ml-2\\\">Not in Accounting</p>\\r\\n            <button class=\\\"btn notInAccounting legend-height opacity-1 width-40px ml-2\\\" [disabled]=\\\"true\\\">\\r\\n            </button>\\r\\n          </ng-container>\\r\\n\\r\\n          <ng-container *ngIf=\\\"showNotInBookMonBtn\\\">\\r\\n            <p class=\\\"legend-label ml-2\\\">Not in BookMon</p>\\r\\n            <button class=\\\"btn notInBookMon legend-height opacity-1 width-40px ml-2\\\" [disabled]=\\\"true\\\">\\r\\n            </button>\\r\\n          </ng-container>\\r\\n\\r\\n        </div>\\r\\n\\r\\n      </div>\\r\\n      <!-- Legend Tag Ends -->\\r\\n\\r\\n    </div>\\r\\n    <!-- Reconciled Details Legend Ends -->\\r\\n\\r\\n  </div>\\r\\n  <!-- Legends Row Ends -->\\r\\n\\r\\n  <!-- Reports Grid Div Starts -->\\r\\n  <div class=\\\"mt-0\\\" [ngStyle]=\\\"styleForHeight\\\">\\r\\n\\r\\n    <!-- Main Split Row Starts -->\\r\\n    <div class=\\\"split-area row h-100\\\">\\r\\n\\r\\n      <!-- AS Split Main Container -->\\r\\n      <as-split class=\\\"pl-15 pr-15\\\" disabled=\\\"false\\\" direction=\\\"vertical\\\" [useTransition]=\\\"action.useTransition\\\"\\r\\n        (dragEnd)=\\\"action.reconciledGridSize=$event.sizes[0]; action.accountingBookMonSize=$event.sizes[1];\\\">\\r\\n\\r\\n        <!-- Reconciled Details Split Area -->\\r\\n        <as-split-area [visible]=\\\"action.reconciledGridView\\\" [size]=\\\"action.reconciledGridSize\\\" order=\\\"1\\\">\\r\\n          <ag-grid-angular class=\\\"w-100 h-100 ag-theme-balham\\\" [gridOptions]=\\\"gridOptions\\\">\\r\\n          </ag-grid-angular>\\r\\n        </as-split-area>\\r\\n        <!-- Reconciled Details Split Area Ends -->\\r\\n\\r\\n        <!-- Accounting/BookMon Split Area -->\\r\\n        <as-split-area [visible]=\\\"action.accountingBookMonView\\\" [size]=\\\"action.accountingBookMonSize\\\" order=\\\"2\\\">\\r\\n\\r\\n          <div class=\\\"row h-100\\\">\\r\\n\\r\\n            <div class=\\\"col-6 pr-0\\\">\\r\\n              <div class=\\\"font-weight-bold\\\">Accounting Details</div>\\r\\n              <ag-grid-angular class=\\\"ag-theme-balham grid-height\\\" [gridOptions]=\\\"portfolioOptions\\\">\\r\\n              </ag-grid-angular>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"col-6 pl-0\\\">\\r\\n              <div class=\\\"font-weight-bold\\\">BookMon Details</div>\\r\\n              <ag-grid-angular class=\\\"ag-theme-balham grid-height\\\" [gridOptions]=\\\"bookmonOptions\\\">\\r\\n              </ag-grid-angular>\\r\\n            </div>\\r\\n\\r\\n          </div>\\r\\n\\r\\n        </as-split-area>\\r\\n        <!-- Accounting/BookMon Split Area Ends -->\\r\\n\\r\\n      </as-split>\\r\\n      <!-- AS Split Main Container Ends -->\\r\\n\\r\\n    </div>\\r\\n    <!-- Main Split Row Ends -->\\r\\n\\r\\n  </div>\\r\\n  <!-- Reports Grid Div Ends -->\\r\\n\\r\\n</div>\\r\\n<!-- Reports Main Div Ends -->\\r\\n\\r\\n<!-- Data Grid Modal Starts -->\\r\\n<app-data-grid-modal #dataGridModal [gridTitle]=\\\"title\\\" [expanded]=\\\"true\\\">\\r\\n</app-data-grid-modal>\\r\\n<!-- Data Grid Modal Ends -->\\r\\n\\r\\n<!-- Create Security Modal -->\\r\\n<app-create-security #securityModal (modalClose)=\\\"closeSecurityModal()\\\"></app-create-security>\\r\\n<!-- Create Security Modal Ends -->\"","export default \"<!-- Hide Grid Div -->\\r\\n<div *ngIf=\\\"hideGrid\\\" #logScroll [ngStyle]=\\\"processingMsgDiv\\\">\\r\\n  <div class=\\\"d-flex align-items-center justify-content-center\\\">\\r\\n    <h1> Posting Engine is Running. Please Wait. </h1>\\r\\n  </div>\\r\\n</div>\\r\\n<!-- Hide Grid Div Ends -->\\r\\n\\r\\n<!-- Reports Main Div Starts -->\\r\\n<div [ngStyle]=\\\"{ 'display': hideGrid ? 'none' : 'initial' } \\\">\\r\\n\\r\\n  <!-- Filters Div Starts -->\\r\\n  <div class=\\\"row \\\">\\r\\n\\r\\n    <!-- Funds Dropdown Div Starts -->\\r\\n    <div class=\\\"col-auto\\\">\\r\\n      <select class=\\\"form-control\\\" [(ngModel)]=\\\"fund\\\" (ngModelChange)=\\\"changeFund($event)\\\">\\r\\n        <option selected>All Funds</option>\\r\\n        <option *ngFor=\\\"let fund of funds\\\" [ngValue]=\\\"fund.fundCode\\\">\\r\\n          {{ fund.fundCode }}\\r\\n        </option>\\r\\n      </select>\\r\\n    </div>\\r\\n    <!-- Funds Dropdown Div Ends -->\\r\\n\\r\\n    <!-- Symbol Filter -->\\r\\n    <div class=\\\"col-auto\\\">\\r\\n      <input type=\\\"text\\\" autocomplete=\\\"off\\\" placeholder=\\\"Filter by Symbol\\\" name=\\\"symbol\\\" [(ngModel)]=\\\"filterBySymbol\\\"\\r\\n        (ngModelChange)=\\\"ngModelChangeSymbol($event)\\\" (keyup)=\\\"onSymbolKey($event)\\\" class=\\\"form-control\\\" />\\r\\n    </div>\\r\\n    <!-- Symbol Filter Ends -->\\r\\n\\r\\n    <!-- Date Picker Div Starts -->\\r\\n    <div class=\\\"col-auto\\\">\\r\\n      <form>\\r\\n        <input ngxDaterangepickerMd class=\\\"form-control\\\" type=\\\"text\\\" placeholder=\\\"Choose date\\\"\\r\\n          [(ngModel)]=\\\"selectedDate\\\" (ngModelChange)=\\\"changeDate($event)\\\" name=\\\"selectedDate\\\" [singleDatePicker]=\\\"true\\\"\\r\\n          [autoApply]=\\\"true\\\" [maxDate]=\\\"maxDate\\\" />\\r\\n      </form>\\r\\n    </div>\\r\\n    <!-- Date Picker Div Ends -->\\r\\n\\r\\n    <!-- Clear Button Div Starts -->\\r\\n    <div class=\\\"col-auto\\\">\\r\\n      <button (click)=\\\"clearFilters()\\\" class=\\\"btn btn-pa\\\" tooltip=\\\"Clear\\\" placement=\\\"top\\\">\\r\\n        <i class=\\\"fa fa-remove\\\"></i>\\r\\n      </button>\\r\\n    </div>\\r\\n    <!-- Clear Button Div Ends -->\\r\\n\\r\\n    <!-- Util Buttons Div Starts -->\\r\\n    <div class=\\\"col-auto ml-auto mr-2\\\">\\r\\n\\r\\n      <!-- Refresh Button Div Starts -->\\r\\n      <div class=\\\"mr-2 d-inline-block\\\">\\r\\n        <button (click)=\\\"refreshReport()\\\" class=\\\"btn btn-pa\\\" tooltip=\\\"Refresh\\\" placement=\\\"top\\\">\\r\\n          <i class=\\\"fa fa-refresh\\\"></i></button>\\r\\n      </div>\\r\\n      <!-- Refresh Button Div Ends -->\\r\\n\\r\\n      <!-- Export to Excel Button -->\\r\\n      <div class=\\\"mr-2 d-inline-block\\\">\\r\\n        <button (click)=\\\"onBtExport()\\\" class=\\\"btn btn-pa\\\" tooltip=\\\"Export to Excel\\\" placement=\\\"top\\\">\\r\\n          <i class=\\\"fa fa-arrow-circle-o-down\\\"></i>\\r\\n        </button>\\r\\n      </div>\\r\\n      <!-- Export to Excel Button Ends -->\\r\\n\\r\\n      <!-- Expand/Collapse Button -->\\r\\n      <div class=\\\"mr-3 d-inline-block\\\">\\r\\n        <ng-template #tooltipTemplate>{{action.accountingBookMonView ? 'Expand' : 'Collapse'}}</ng-template>\\r\\n        <button (click)=\\\"action.accountingBookMonView = !action.accountingBookMonView\\\" class=\\\"btn btn-pa\\\"\\r\\n          [tooltip]=\\\"tooltipTemplate\\\" placement=\\\"top\\\">\\r\\n          <i class=\\\"fa\\\"\\r\\n            [ngClass]=\\\"{'fa-arrow-down': action.accountingBookMonView, 'fa-arrow-up': !action.accountingBookMonView}\\\"></i>\\r\\n        </button>\\r\\n      </div>\\r\\n      <!-- Expand/Collapse Button Ends -->\\r\\n\\r\\n    </div>\\r\\n    <!-- Util Buttons Div Ends -->\\r\\n\\r\\n  </div>\\r\\n  <!-- Filters Div Ends -->\\r\\n\\r\\n  <!-- Legends Row Starts -->\\r\\n  <div class=\\\"row mx-0 mt-2\\\">\\r\\n\\r\\n    <!-- Reconciled Details Legend Starts -->\\r\\n    <div class=\\\"col-12 p-0\\\">\\r\\n\\r\\n      <!-- Legend Tag Starts -->\\r\\n      <div class=\\\"row mx-0\\\">\\r\\n\\r\\n        <div class=\\\"font-weight-bold\\\">Reconciled Details</div>\\r\\n\\r\\n        <div class=\\\"d-flex ml-auto mr-2\\\">\\r\\n\\r\\n          <ng-container *ngIf=\\\"showNonZeroBtn\\\">\\r\\n            <p class=\\\"legend-label\\\">Non-Zero</p>\\r\\n            <button class=\\\"btn nonZero opacity-1 legend-height width-40px ml-2\\\" [disabled]=\\\"true\\\">\\r\\n            </button>\\r\\n          </ng-container>\\r\\n\\r\\n          <ng-container *ngIf=\\\"showNotInAccountingBtn\\\">\\r\\n            <p class=\\\"legend-label ml-2\\\">Not in Accounting</p>\\r\\n            <button class=\\\"btn notInAccounting legend-height opacity-1 width-40px ml-2\\\" [disabled]=\\\"true\\\">\\r\\n            </button>\\r\\n          </ng-container>\\r\\n\\r\\n          <ng-container *ngIf=\\\"showNotInBookMonBtn\\\">\\r\\n            <p class=\\\"legend-label ml-2\\\">Not in BookMon</p>\\r\\n            <button class=\\\"btn notInBookMon legend-height opacity-1 width-40px ml-2\\\" [disabled]=\\\"true\\\">\\r\\n            </button>\\r\\n          </ng-container>\\r\\n\\r\\n        </div>\\r\\n\\r\\n      </div>\\r\\n      <!-- Legend Tag Ends -->\\r\\n\\r\\n    </div>\\r\\n    <!-- Reconciled Details Legend Ends -->\\r\\n\\r\\n  </div>\\r\\n  <!-- Legends Row Ends -->\\r\\n\\r\\n  <!-- Reports Grid Div Starts -->\\r\\n  <div class=\\\"mt-0\\\" [ngStyle]=\\\"styleForHeight\\\">\\r\\n\\r\\n    <!-- Main Split Row Starts -->\\r\\n    <div class=\\\"split-area row h-100\\\">\\r\\n\\r\\n      <!-- AS Split Main Container -->\\r\\n      <as-split class=\\\"pl-15 pr-15\\\" disabled=\\\"false\\\" direction=\\\"vertical\\\" [useTransition]=\\\"action.useTransition\\\"\\r\\n        (dragEnd)=\\\"action.reconciledGridSize=$event.sizes[0]; action.accountingBookMonSize=$event.sizes[1];\\\">\\r\\n\\r\\n        <!-- Reconciled Details Split Area -->\\r\\n        <as-split-area [visible]=\\\"action.reconciledGridView\\\" [size]=\\\"action.reconciledGridSize\\\" order=\\\"1\\\">\\r\\n          <ag-grid-angular class=\\\"w-100 h-100 ag-theme-balham\\\" [gridOptions]=\\\"gridOptions\\\">\\r\\n          </ag-grid-angular>\\r\\n        </as-split-area>\\r\\n        <!-- Reconciled Details Split Area Ends -->\\r\\n\\r\\n        <!-- Accounting/BookMon Split Area -->\\r\\n        <as-split-area [visible]=\\\"action.accountingBookMonView\\\" [size]=\\\"action.accountingBookMonSize\\\" order=\\\"2\\\">\\r\\n\\r\\n          <div class=\\\"row h-100\\\">\\r\\n\\r\\n            <div class=\\\"col-6 pr-0\\\">\\r\\n              <div class=\\\"font-weight-bold\\\">Accounting Details</div>\\r\\n              <ag-grid-angular class=\\\"ag-theme-balham grid-height\\\" [gridOptions]=\\\"portfolioOptions\\\">\\r\\n              </ag-grid-angular>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"col-6 pl-0\\\">\\r\\n              <div class=\\\"font-weight-bold\\\">BookMon Details</div>\\r\\n              <ag-grid-angular class=\\\"ag-theme-balham grid-height\\\" [gridOptions]=\\\"bookmonOptions\\\">\\r\\n              </ag-grid-angular>\\r\\n            </div>\\r\\n\\r\\n          </div>\\r\\n\\r\\n        </as-split-area>\\r\\n        <!-- Accounting/BookMon Split Area Ends -->\\r\\n\\r\\n      </as-split>\\r\\n      <!-- AS Split Main Container Ends -->\\r\\n\\r\\n    </div>\\r\\n    <!-- Main Split Row Ends -->\\r\\n\\r\\n  </div>\\r\\n  <!-- Reports Grid Div Ends -->\\r\\n\\r\\n</div>\\r\\n<!-- Reports Main Div Ends -->\\r\\n\\r\\n<!-- Data Grid Modal Starts -->\\r\\n<app-data-grid-modal #dataGridModal [gridTitle]=\\\"title\\\" [expanded]=\\\"true\\\">\\r\\n</app-data-grid-modal>\\r\\n<!-- Data Grid Modal Ends -->\\r\\n\\r\\n<!-- Create Security Modal -->\\r\\n<app-create-security #securityModal (modalClose)=\\\"closeSecurityModal()\\\"></app-create-security>\\r\\n<!-- Create Security Modal Ends -->\"","export default \"<!-- Hide Grid Container -->\\r\\n<div *ngIf=\\\"hideGrid\\\" [ngStyle]=\\\"processingMsgDiv\\\">\\r\\n    <div class=\\\"d-flex align-items-center justify-content-center\\\">\\r\\n        <h1> Posting Engine is Running. Please Wait. </h1>\\r\\n    </div>\\r\\n</div>\\r\\n<!-- Hide Grid Container Ends -->\\r\\n\\r\\n<!-- Report Main Container -->\\r\\n<div [hidden]=\\\"isLoading\\\" [ngStyle]=\\\"{ 'display': hideGrid ? 'none' : 'initial' } \\\">\\r\\n\\r\\n    <!-- Filters Row -->\\r\\n    <div class=\\\"row \\\">\\r\\n\\r\\n        <!-- Funds Dropdown -->\\r\\n        <!-- <div class=\\\"col-auto\\\">\\r\\n            <select class=\\\"form-control\\\" [(ngModel)]=\\\"fund\\\" (ngModelChange)=\\\"changeFund($event)\\\">\\r\\n                <option selected>All Funds</option>\\r\\n                <option *ngFor=\\\"let fund of funds\\\" [ngValue]=\\\"fund.fundCode\\\">\\r\\n                    {{ fund.fundCode }}\\r\\n                </option>\\r\\n            </select>\\r\\n        </div> -->\\r\\n        <!-- Funds Dropdown Ends -->\\r\\n\\r\\n        <!-- Symbol Filter -->\\r\\n        <div class=\\\"col-auto\\\">\\r\\n            <input type=\\\"text\\\" autocomplete=\\\"off\\\" placeholder=\\\"Filter by Symbol\\\" name=\\\"symbol\\\"\\r\\n                [(ngModel)]=\\\"filterBySymbol\\\" (ngModelChange)=\\\"ngModelChangeSymbol($event)\\\" (keyup)=\\\"onSymbolKey($event)\\\"\\r\\n                class=\\\"form-control\\\" />\\r\\n        </div>\\r\\n        <!-- Symbol Filter Ends -->\\r\\n\\r\\n        <!-- DateRange Label -->\\r\\n        <div class=\\\"font-weight-bold\\\">\\r\\n            <label class=\\\"text-right\\\"> {{ DateRangeLabel }} </label>\\r\\n        </div>\\r\\n        <!-- DateRange Label Ends -->\\r\\n\\r\\n        <!-- Date Picker -->\\r\\n        <div class=\\\"col-auto\\\">\\r\\n            <form>\\r\\n                <input ngxDaterangepickerMd class=\\\"form-control\\\" type=\\\"text\\\" autocomplete=\\\"off\\\"\\r\\n                    placeholder=\\\"Choose date\\\" [(ngModel)]=\\\"selected\\\" name=\\\"selectedDaterange\\\"\\r\\n                    (ngModelChange)=\\\"changeDate($event)\\\" [maxDate]=\\\"maxDate\\\" />\\r\\n            </form>\\r\\n        </div>\\r\\n        <!-- Date Picker Ends -->\\r\\n\\r\\n        <!-- Clear Button -->\\r\\n        <div class=\\\"col-auto\\\">\\r\\n            <button (click)=\\\"clearFilters()\\\" class=\\\"btn btn-pa\\\" tooltip=\\\"Clear\\\" placement=\\\"top\\\">\\r\\n                <i class=\\\"fa fa-remove\\\"></i>\\r\\n            </button>\\r\\n        </div>\\r\\n        <!-- Clear Button Ends -->\\r\\n\\r\\n        <!-- Util Buttons -->\\r\\n        <div class=\\\"ml-auto\\\">\\r\\n\\r\\n            <!-- Refresh Button -->\\r\\n            <div class=\\\"mr-2 d-inline-block\\\">\\r\\n                <button (click)=\\\"refreshReport()\\\" class=\\\"btn btn-pa\\\" tooltip=\\\"Refresh\\\" placement=\\\"top\\\">\\r\\n                    <i class=\\\"fa fa-refresh\\\"></i></button>\\r\\n            </div>\\r\\n            <!-- Refresh Button Ends -->\\r\\n\\r\\n            <!-- Export to Excel Button -->\\r\\n            <div class=\\\"mr-2 d-inline-block\\\">\\r\\n                <button (click)=\\\"onBtExport()\\\" class=\\\"btn btn-pa\\\" tooltip=\\\"Export to Excel\\\" placement=\\\"top\\\">\\r\\n                    <i class=\\\"fa fa-arrow-circle-o-down\\\"></i>\\r\\n                </button>\\r\\n            </div>\\r\\n            <!-- Export to Excel Button Ends -->\\r\\n\\r\\n        </div>\\r\\n        <!-- Util Buttons Ends -->\\r\\n\\r\\n    </div>\\r\\n    <!-- Filters Row Ends -->\\r\\n\\r\\n    <!-- Report Grid Starts -->\\r\\n    <div [ngStyle]=\\\"styleForHeight\\\">\\r\\n\\r\\n        <!-- Main Split Row Starts -->\\r\\n        <div class=\\\"split-area row h-100\\\">\\r\\n\\r\\n            <!-- AS Split Main Container -->\\r\\n            <as-split class=\\\"pl-15 pr-15\\\" disabled=\\\"false\\\" direction=\\\"horizontal\\\" [useTransition]=\\\"true\\\">\\r\\n\\r\\n                <!-- Detail PnL Split Area -->\\r\\n                <as-split-area [visible]=\\\"true\\\" [size]=\\\"50\\\" order=\\\"1\\\">\\r\\n                    <ag-grid-angular class=\\\"w-100 h-100 ag-theme-balham\\\" (rowSelected)=\\\"onRowSelected($event)\\\"\\r\\n                        [gridOptions]=\\\"gridOptions\\\">\\r\\n                    </ag-grid-angular>\\r\\n                </as-split-area>\\r\\n                <!-- Detail PnL Split Area Ends -->\\r\\n\\r\\n                <!-- Other Split Area -->\\r\\n                <as-split-area [visible]=\\\"false\\\" [size]=\\\"50\\\" order=\\\"2\\\">\\r\\n\\r\\n                </as-split-area>\\r\\n                <!-- Other Split Area Ends -->\\r\\n\\r\\n            </as-split>\\r\\n            <!-- AS Split Main Container Ends -->\\r\\n\\r\\n        </div>\\r\\n        <!-- Main Split Row Ends -->\\r\\n\\r\\n    </div>\\r\\n    <!-- Report Grid Ends -->\\r\\n\\r\\n</div>\\r\\n<!-- Reports Main Container Ends-->\\r\\n\\r\\n<!-- Create Dividend Modal -->\\r\\n<app-create-dividend #dividendModal (modalClose)=\\\"closeDividendModal()\\\"></app-create-dividend>\\r\\n\\r\\n<!-- Create Stock Splits Modal -->\\r\\n<app-create-stock-splits #stockSplitsModal (modalClose)=\\\"closeStockSplitModal()\\\">\\r\\n</app-create-stock-splits>\\r\\n\\r\\n<!-- Create Security Modal -->\\r\\n<app-create-security #securityModal (modalClose)=\\\"closeSecurityModal()\\\"></app-create-security>\"","export default \"<!-- Hide Grid Div -->\\r\\n<div *ngIf=\\\"hideGrid\\\" #logScroll [ngStyle]=\\\"processingMsgDiv\\\">\\r\\n  <div class=\\\"d-flex align-items-center justify-content-center\\\">\\r\\n    <h1> Posting Engine is Running. Please Wait. </h1>\\r\\n  </div>\\r\\n</div>\\r\\n<!-- Hide Grid Div Ends -->\\r\\n\\r\\n<!-- Reports Main Div Starts -->\\r\\n<div [ngStyle]=\\\"{ 'display': hideGrid ? 'none' : 'initial' } \\\">\\r\\n\\r\\n  <!-- Filters Div Starts -->\\r\\n  <div class=\\\"row \\\">\\r\\n\\r\\n    <!-- Funds Dropdown Div Starts -->\\r\\n    <div class=\\\"col-auto\\\">\\r\\n      <select class=\\\"form-control\\\" [(ngModel)]=\\\"fund\\\" (ngModelChange)=\\\"changeFund($event)\\\">\\r\\n        <option selected>All Funds</option>\\r\\n        <option *ngFor=\\\"let fund of funds\\\" [ngValue]=\\\"fund.fundCode\\\">\\r\\n          {{ fund.fundCode }}\\r\\n        </option>\\r\\n      </select>\\r\\n    </div>\\r\\n    <!-- Funds Dropdown Div Ends -->\\r\\n\\r\\n    <!-- Symbol Filter -->\\r\\n    <div class=\\\"col-auto\\\">\\r\\n      <input type=\\\"text\\\" autocomplete=\\\"off\\\" placeholder=\\\"Filter by Symbol\\\" name=\\\"symbol\\\" [(ngModel)]=\\\"filterBySymbol\\\"\\r\\n        (ngModelChange)=\\\"ngModelChangeSymbol($event)\\\" (keyup)=\\\"onSymbolKey($event)\\\" class=\\\"form-control\\\" />\\r\\n    </div>\\r\\n    <!-- Symbol Filter Ends -->\\r\\n\\r\\n    <!-- Date Picker Div Starts -->\\r\\n    <div class=\\\"col-auto\\\">\\r\\n      <form>\\r\\n        <input ngxDaterangepickerMd class=\\\"form-control\\\" type=\\\"text\\\" placeholder=\\\"Choose date\\\"\\r\\n          [(ngModel)]=\\\"selectedDate\\\" (ngModelChange)=\\\"changeDate($event)\\\" name=\\\" selectedDate\\\" [singleDatePicker]=\\\"true\\\"\\r\\n          [autoApply]=\\\"true\\\" [maxDate]=\\\"maxDate\\\" />\\r\\n      </form>\\r\\n    </div>\\r\\n    <!-- Date Picker Div Ends -->\\r\\n\\r\\n    <!-- Clear Button Div Starts -->\\r\\n    <div class=\\\"col-auto\\\">\\r\\n      <button (click)=\\\"clearFilters()\\\" class=\\\"btn btn-pa\\\" tooltip=\\\"Clear\\\" placement=\\\"top\\\">\\r\\n        <i class=\\\"fa fa-remove\\\"></i>\\r\\n      </button>\\r\\n    </div>\\r\\n    <!-- Clear Button Div Ends -->\\r\\n\\r\\n    <!-- Util Buttons Div Starts -->\\r\\n    <div class=\\\"col-auto ml-auto mr-2\\\">\\r\\n\\r\\n      <!-- Refresh Button Div Starts -->\\r\\n      <div class=\\\"mr-2 d-inline-block\\\">\\r\\n        <button (click)=\\\"refreshReport()\\\" class=\\\"btn btn-pa\\\" tooltip=\\\"Refresh\\\" placement=\\\"top\\\">\\r\\n          <i class=\\\"fa fa-refresh\\\"></i></button>\\r\\n      </div>\\r\\n      <!-- Refresh Button Div Ends -->\\r\\n\\r\\n      <!-- Export to Excel Button -->\\r\\n      <div class=\\\"mr-2 d-inline-block\\\">\\r\\n        <button (click)=\\\"onBtExport()\\\" class=\\\"btn btn-pa\\\" tooltip=\\\"Export to Excel\\\" placement=\\\"top\\\">\\r\\n          <i class=\\\"fa fa-arrow-circle-o-down\\\"></i>\\r\\n        </button>\\r\\n      </div>\\r\\n      <!-- Export to Excel Button Ends -->\\r\\n\\r\\n      <!-- Expand/Collapse Button -->\\r\\n      <div class=\\\"mr-3 d-inline-block\\\">\\r\\n        <ng-template #tooltipTemplate>{{action.accountingBookMonView ? 'Expand' : 'Collapse'}}</ng-template>\\r\\n        <button (click)=\\\"action.accountingBookMonView = !action.accountingBookMonView\\\" class=\\\"btn btn-pa\\\"\\r\\n          [tooltip]=\\\"tooltipTemplate\\\" placement=\\\"top\\\">\\r\\n          <i class=\\\"fa\\\"\\r\\n            [ngClass]=\\\"{'fa-arrow-down': action.accountingBookMonView, 'fa-arrow-up': !action.accountingBookMonView}\\\"></i>\\r\\n        </button>\\r\\n      </div>\\r\\n      <!-- Expand/Collapse Button Ends -->\\r\\n\\r\\n    </div>\\r\\n    <!-- Util Buttons Div Ends -->\\r\\n\\r\\n  </div>\\r\\n  <!-- Filters Div Ends -->\\r\\n\\r\\n  <!-- Legends Row Starts -->\\r\\n  <div class=\\\"row mx-0 mt-2\\\">\\r\\n\\r\\n    <!-- Reconciled Details Legend Starts -->\\r\\n    <div class=\\\"col-12 p-0\\\">\\r\\n\\r\\n      <!-- Legend Tag Starts -->\\r\\n      <div class=\\\"row mx-0\\\">\\r\\n\\r\\n        <div class=\\\"font-weight-bold\\\">Reconciled Details</div>\\r\\n\\r\\n        <div class=\\\"d-flex ml-auto mr-2\\\">\\r\\n\\r\\n          <ng-container *ngIf=\\\"showNonZeroBtn\\\">\\r\\n            <p class=\\\"legend-label\\\">Non-Zero</p>\\r\\n            <button class=\\\"btn nonZero opacity-1 legend-height width-40px ml-2\\\" [disabled]=\\\"true\\\">\\r\\n            </button>\\r\\n          </ng-container>\\r\\n\\r\\n          <ng-container *ngIf=\\\"showNotInAccountingBtn\\\">\\r\\n            <p class=\\\"legend-label ml-2\\\">Not in Accounting</p>\\r\\n            <button class=\\\"btn notInAccounting legend-height opacity-1 width-40px ml-2\\\" [disabled]=\\\"true\\\">\\r\\n            </button>\\r\\n          </ng-container>\\r\\n\\r\\n          <ng-container *ngIf=\\\"showNotInBookMonBtn\\\">\\r\\n            <p class=\\\"legend-label ml-2\\\">Not in FundAdmin</p>\\r\\n            <button class=\\\"btn notInBookMon legend-height opacity-1 width-40px ml-2\\\" [disabled]=\\\"true\\\">\\r\\n            </button>\\r\\n          </ng-container>\\r\\n\\r\\n        </div>\\r\\n\\r\\n      </div>\\r\\n      <!-- Legend Tag Ends -->\\r\\n\\r\\n    </div>\\r\\n    <!-- Reconciled Details Legend Ends -->\\r\\n\\r\\n  </div>\\r\\n  <!-- Legends Row Ends -->\\r\\n\\r\\n  <!-- Reports Grid Div Starts -->\\r\\n  <div class=\\\"mt-0\\\" [ngStyle]=\\\"styleForHeight\\\">\\r\\n\\r\\n    <!-- Main Split Row Starts -->\\r\\n    <div class=\\\"split-area row h-100\\\">\\r\\n\\r\\n      <!-- AS Split Main Container -->\\r\\n      <as-split class=\\\"pl-15 pr-15\\\" disabled=\\\"false\\\" direction=\\\"vertical\\\" [useTransition]=\\\"action.useTransition\\\"\\r\\n        (dragEnd)=\\\"action.reconciledGridSize=$event.sizes[0]; action.accountingBookMonSize=$event.sizes[1];\\\">\\r\\n\\r\\n        <!-- Reconciled Details Split Area -->\\r\\n        <as-split-area [visible]=\\\"action.reconciledGridView\\\" [size]=\\\"action.reconciledGridSize\\\" order=\\\"1\\\">\\r\\n          <ag-grid-angular class=\\\"w-100 h-100 ag-theme-balham\\\" [gridOptions]=\\\"gridOptions\\\">\\r\\n          </ag-grid-angular>\\r\\n        </as-split-area>\\r\\n        <!-- Reconciled Details Split Area Ends -->\\r\\n\\r\\n        <!-- Accounting/BookMon Split Area -->\\r\\n        <as-split-area [visible]=\\\"action.accountingBookMonView\\\" [size]=\\\"action.accountingBookMonSize\\\" order=\\\"2\\\">\\r\\n\\r\\n          <div class=\\\"row h-100\\\">\\r\\n\\r\\n            <div class=\\\"col-6 pr-0\\\">\\r\\n              <div class=\\\"font-weight-bold\\\">Accounting Details</div>\\r\\n              <ag-grid-angular class=\\\"ag-theme-balham grid-height\\\" [gridOptions]=\\\"portfolioOptions\\\">\\r\\n              </ag-grid-angular>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"col-6 pl-0\\\">\\r\\n              <div class=\\\"font-weight-bold\\\">FundAdmin Details</div>\\r\\n              <ag-grid-angular class=\\\"ag-theme-balham grid-height\\\" [gridOptions]=\\\"bookmonOptions\\\">\\r\\n              </ag-grid-angular>\\r\\n            </div>\\r\\n\\r\\n          </div>\\r\\n\\r\\n        </as-split-area>\\r\\n        <!-- Accounting/BookMon Split Area Ends -->\\r\\n\\r\\n      </as-split>\\r\\n      <!-- AS Split Main Container Ends -->\\r\\n\\r\\n    </div>\\r\\n    <!-- Main Split Row Ends -->\\r\\n\\r\\n  </div>\\r\\n  <!-- Reports Grid Div Ends -->\\r\\n\\r\\n</div>\\r\\n<!-- Reports Main Div Ends -->\\r\\n\\r\\n<!-- Data Grid Modal Starts -->\\r\\n<app-data-grid-modal #dataGridModal [gridTitle]=\\\"title\\\" [expanded]=\\\"true\\\">\\r\\n</app-data-grid-modal>\\r\\n<!-- Data Grid Modal Ends -->\\r\\n\\r\\n<!-- Create Security Modal -->\\r\\n<app-create-security #securityModal (modalClose)=\\\"closeSecurityModal()\\\"></app-create-security>\\r\\n<!-- Create Security Modal Ends -->\"","export default \"<!-- Hide Grid Div -->\\r\\n<div *ngIf=\\\"hideGrid\\\" #logScroll [ngStyle]=\\\"processingMsgDiv\\\">\\r\\n    <div class=\\\"d-flex align-items-center justify-content-center\\\">\\r\\n        <h1> Posting Engine is Running. Please Wait. </h1>\\r\\n    </div>\\r\\n</div>\\r\\n<!-- Hide Grid Div Ends -->\\r\\n\\r\\n<!-- Reconciliation Starts -->\\r\\n<div [ngStyle]=\\\"{ 'display': hideGrid ? 'none' : 'initial' } \\\">\\r\\n\\r\\n    <!-- Tab View Starts -->\\r\\n    <tabset class=\\\"tab-color\\\">\\r\\n\\r\\n        <tab heading=\\\"Fund Admin\\\" (selectTab)=\\\"activateFundAdminReconcile()\\\">\\r\\n            <div [ngStyle]=\\\"style\\\">\\r\\n                <rep-fundadmin-reconcile *ngIf=\\\"fundadminReconcileActive\\\"></rep-fundadmin-reconcile>\\r\\n            </div>\\r\\n        </tab>\\r\\n\\r\\n        <tab heading=\\\"DayPnL\\\" (selectTab)=\\\"activateDayPnLReconcile()\\\">\\r\\n            <div [ngStyle]=\\\"style\\\">\\r\\n                <rep-daypnl-reconcile *ngIf=\\\"dayPnLReconcileActive\\\"></rep-daypnl-reconcile>\\r\\n            </div>\\r\\n        </tab>\\r\\n\\r\\n        <tab heading=\\\"Bookmon\\\" (selectTab)=\\\"activateBookmonReconcile()\\\">\\r\\n            <div [ngStyle]=\\\"style\\\">\\r\\n                <rep-bookmon-reconcile *ngIf=\\\"bookmonReconcileActive\\\"></rep-bookmon-reconcile>\\r\\n            </div>\\r\\n        </tab>\\r\\n\\r\\n        <tab heading=\\\"DetailPnLToDate\\\" (selectTab)=\\\"activateDetailPnLToDateReport()\\\">\\r\\n            <div [ngStyle]=\\\"style\\\">\\r\\n                <app-detail-pnl-date *ngIf=\\\"detailPnLToDateReportActive\\\"></app-detail-pnl-date>\\r\\n            </div>\\r\\n        </tab>\\r\\n\\r\\n    </tabset>\\r\\n    <!-- Tab View Ends -->\\r\\n\\r\\n</div>\\r\\n<!-- Reports Ends-->\"","export default \".grid-height {\\n  height: calc(100% - 24px);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9yZWNvbmNpbGlhdGlvbi9ib29rbW9uLXJlY29uY2lsZS9DOlxcVXNlcnNcXGxhdHRpXFxkZXZlbG9wbWVudFxcbGlnaHRwb2ludFxcZmluYW5jZVxcdWkvc3JjXFxhcHBcXG1haW5cXHJlY29uY2lsaWF0aW9uXFxib29rbW9uLXJlY29uY2lsZVxcYm9va21vbi1yZWNvbmNpbGUuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21haW4vcmVjb25jaWxpYXRpb24vYm9va21vbi1yZWNvbmNpbGUvYm9va21vbi1yZWNvbmNpbGUuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSx5QkFBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvbWFpbi9yZWNvbmNpbGlhdGlvbi9ib29rbW9uLXJlY29uY2lsZS9ib29rbW9uLXJlY29uY2lsZS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5ncmlkLWhlaWdodCB7XHJcbiAgaGVpZ2h0OiBjYWxjKDEwMCUgLSAyNHB4KTtcclxufVxyXG4iLCIuZ3JpZC1oZWlnaHQge1xuICBoZWlnaHQ6IGNhbGMoMTAwJSAtIDI0cHgpO1xufSJdfQ== */\"","import { Component, OnInit, AfterViewInit, ViewChild } from '@angular/core';\r\nimport { GridOptions, ColDef, ColGroupDef, RowDoubleClickedEvent } from 'ag-grid-community';\r\nimport { finalize } from 'rxjs/operators';\r\nimport * as moment from 'moment';\r\nimport { GridLayoutMenuComponent, CustomGridOptions } from 'lp-toolkit';\r\nimport { GridId, GridName } from 'src/shared/utils/AppEnums';\r\nimport { DataGridModalComponent } from 'src/shared/Component/data-grid-modal/data-grid-modal.component';\r\nimport { DataService } from '../../../../services/common/data.service';\r\nimport { FinanceServiceProxy } from '../../../../services/service-proxies';\r\nimport { ReportsApiService } from 'src/services/reports-api.service';\r\nimport { SecurityApiService } from 'src/services/security-api.service';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { Fund } from '../../../../shared/Models/account';\r\nimport { DataDictionary } from 'src/shared/utils/DataDictionary';\r\nimport { ContextMenu } from 'src/shared/Models/common';\r\nimport { GetContextMenu } from 'src/shared/utils/ContextMenu';\r\nimport { DownloadExcelUtils } from 'src/shared/utils/DownloadExcelUtils';\r\nimport {\r\n  CalTotalRecords,\r\n  SideBar,\r\n  Ranges,\r\n  GetDateRangeLabel,\r\n  SetDateRange,\r\n  Style,\r\n  HeightStyle,\r\n  ExcelStyle,\r\n  LegendColors,\r\n  FormatDate,\r\n  dateFormatter,\r\n  CommaSeparatedFormat,\r\n  moneyFormatter,\r\n  FormatNumber8\r\n} from 'src/shared/utils/Shared';\r\nimport { CreateSecurityComponent } from 'src/shared/Modal/create-security/create-security.component';\r\n\r\n@Component({\r\n  selector: 'rep-bookmon-reconcile',\r\n  templateUrl: './bookmon-reconcile.component.html',\r\n  styleUrls: ['./bookmon-reconcile.component.scss']\r\n})\r\nexport class BookmonReconcileComponent implements OnInit, AfterViewInit {\r\n  @ViewChild('dataGridModal', { static: false }) dataGridModal: DataGridModalComponent;\r\n  @ViewChild('securityModal', { static: false }) securityModal: CreateSecurityComponent;\r\n\r\n  gridOptions: CustomGridOptions;\r\n  portfolioOptions: GridOptions;\r\n  bookmonOptions: GridOptions;\r\n  action: {\r\n    reconciledGridSize: number;\r\n    accountingBookMonSize: number;\r\n    reconciledGridView: boolean;\r\n    accountingBookMonView: boolean;\r\n    useTransition: boolean;\r\n  } = {\r\n    reconciledGridSize: 50,\r\n    accountingBookMonSize: 50,\r\n    reconciledGridView: true,\r\n    accountingBookMonView: false,\r\n    useTransition: true\r\n  };\r\n\r\n  gridColumnApi;\r\n  pinnedBottomRowData;\r\n  fund: any = 'All Funds';\r\n  funds: Fund;\r\n  DateRangeLabel: string;\r\n  selectedDate: any;\r\n  startDate: Date;\r\n  endDate: Date;\r\n  maxDate: moment.Moment;\r\n  isLoading = false;\r\n  hideGrid: boolean;\r\n  chartData: any;\r\n  netpnlData: any;\r\n  unrealizedData: any;\r\n  realizedData: any;\r\n  cbData: any;\r\n  bData: any;\r\n  qData: any;\r\n  title: string;\r\n\r\n  filterBySymbol = '';\r\n\r\n  reconciledData: any;\r\n  bookmonData: any;\r\n  portfolioData: any;\r\n  showNonZeroBtn = false;\r\n  showNotInAccountingBtn = false;\r\n  showNotInBookMonBtn = false;\r\n\r\n  ranges: any = Ranges;\r\n\r\n  style = Style;\r\n\r\n  styleForHeight = HeightStyle(248);\r\n\r\n  journalDate: any;\r\n\r\n  processingMsgDiv = {\r\n    border: '1px solid #eee',\r\n    padding: '4px',\r\n    marginTop: '20px',\r\n    width: '100%',\r\n    height: 'calc(100vh - 125px)',\r\n    boxSizing: 'border-box'\r\n  };\r\n\r\n  constructor(\r\n    private financeService: FinanceServiceProxy,\r\n    private reportsApiService: ReportsApiService,\r\n    private dataService: DataService,\r\n    private securityApiService: SecurityApiService,\r\n    private toastrService: ToastrService,\r\n    private downloadExcelUtils: DownloadExcelUtils,\r\n    public dataDictionary: DataDictionary\r\n  ) {\r\n    this.hideGrid = false;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.initGrid();\r\n    this.getLatestJournalDate();\r\n    this.getFunds();\r\n    this.maxDate = moment();\r\n  }\r\n\r\n  getLatestJournalDate() {\r\n    this.reportsApiService.getLatestJournalDate().subscribe(\r\n      date => {\r\n        if (date.isSuccessful && date.statusCode === 200) {\r\n          this.journalDate = date.payload[0].when;\r\n          this.startDate = this.journalDate;\r\n          this.selectedDate = {\r\n            startDate: moment(this.startDate, 'YYYY-MM-DD'),\r\n            endDate: moment(this.startDate, 'YYYY-MM-DD')\r\n          };\r\n        } else {\r\n        }\r\n      },\r\n      error => {}\r\n    );\r\n  }\r\n\r\n  initGrid() {\r\n    this.gridOptions = {\r\n      rowData: [],\r\n      pinnedBottomRowData: [],\r\n      frameworkComponents: { customToolPanel: GridLayoutMenuComponent },\r\n      /* Custom Method Binding for External Filters from Grid Layout Component */\r\n      getExternalFilterState: this.getExternalFilterState.bind(this),\r\n      clearExternalFilter: this.clearFilters.bind(this),\r\n      setExternalFilter: this.isExternalFilterPassed.bind(this),\r\n      isExternalFilterPresent: this.isExternalFilterPresent.bind(this),\r\n      doesExternalFilterPass: this.doesExternalFilterPass.bind(this),\r\n      onFilterChanged: this.onFilterChanged.bind(this),\r\n      onCellClicked: this.rowSelected.bind(this),\r\n      onRowDoubleClicked: this.onRowDoubleClicked.bind(this),\r\n      rowSelection: 'single',\r\n      rowGroupPanelShow: 'after',\r\n      animateRows: true,\r\n      enableFilter: true,\r\n      suppressHorizontalScroll: false,\r\n      suppressColumnVirtualisation: true,\r\n      alignedGrids: [],\r\n      getContextMenuItems: params => this.getContextMenuItems(params),\r\n      onGridReady: params => {\r\n        this.gridColumnApi = params.columnApi;\r\n        this.gridOptions.excelStyles = ExcelStyle;\r\n      },\r\n      onFirstDataRendered: params => {\r\n        params.api.forEachNode(node => {\r\n          node.expanded = true;\r\n        });\r\n        params.api.onGroupExpandedOrCollapsed();\r\n      },\r\n      getRowStyle: params => {\r\n        let style = {};\r\n        if (params.data.nonZero) {\r\n          style = LegendColors.nonZeroStyle;\r\n        }\r\n        if (params.data.notInBookMon) {\r\n          style = LegendColors.notInBookMonStyle;\r\n        }\r\n        if (params.data.notInAccounting) {\r\n          style = LegendColors.notInAccountingStyle;\r\n        }\r\n\r\n        return style;\r\n      },\r\n      columnDefs: [\r\n        {\r\n          field: 'Symbol',\r\n          width: 120,\r\n          headerName: 'Symbol',\r\n          sortable: true,\r\n          filter: true\r\n        },\r\n        {\r\n          field: 'SecurityType',\r\n          width: 120,\r\n          headerName: 'Security Type',\r\n          sortable: true,\r\n          filter: true\r\n        },\r\n        {\r\n          field: 'Fund',\r\n          width: 120,\r\n          headerName: 'Fund',\r\n          sortable: true,\r\n          filter: true\r\n        },\r\n        {\r\n          field: 'Diff_Quantity',\r\n          headerName: 'Quantity Diff',\r\n          cellClass: 'rightAlign',\r\n          sortable: true,\r\n          filter: true,\r\n          width: 120,\r\n          valueFormatter: currencyFormatter\r\n        },\r\n        {\r\n          field: 'Diff_Exposure',\r\n          headerName: 'Exposure Diff',\r\n          cellClass: 'rightAlign',\r\n          sortable: true,\r\n          filter: true,\r\n          width: 120,\r\n          valueFormatter: currencyFormatter\r\n        },\r\n        {\r\n          field: 'Diff_Price',\r\n          headerName: 'Price Diff',\r\n          cellClass: 'rightAlign',\r\n          sortable: true,\r\n          filter: true,\r\n          width: 120,\r\n          valueFormatter: priceFormatter\r\n        },\r\n        {\r\n          field: 'Diff_Fx',\r\n          headerName: 'Fx',\r\n          cellClass: 'rightAlign',\r\n          sortable: true,\r\n          filter: true,\r\n          width: 120,\r\n          valueFormatter: priceFormatter\r\n        },\r\n        {\r\n          field: 'Currency',\r\n          width: 50,\r\n          headerName: 'Currency',\r\n          sortable: true,\r\n          filter: true\r\n        },\r\n        {\r\n          headerName: 'Id',\r\n          field: 'id',\r\n          hide: true\r\n        },\r\n        {\r\n          headerName: 'Non-zero',\r\n          field: 'nonZero',\r\n          hide: true\r\n        },\r\n        {\r\n          headerName: 'Not in BookMon',\r\n          field: 'notInBookMon',\r\n          hide: true\r\n        },\r\n        {\r\n          headerName: 'Not in Accounting',\r\n          field: 'notInAccounting',\r\n          hide: true\r\n        }\r\n      ],\r\n      defaultColDef: {\r\n        sortable: true,\r\n        resizable: true,\r\n        filter: true\r\n      }\r\n    };\r\n    this.gridOptions.sideBar = SideBar(\r\n      GridId.bookMonReconcileId,\r\n      GridName.bookmonReconcile,\r\n      this.gridOptions\r\n    );\r\n\r\n    this.bookmonOptions = {\r\n      rowData: [],\r\n      pinnedBottomRowData: [],\r\n      frameworkComponents: { customToolPanel: GridLayoutMenuComponent },\r\n      onCellClicked: this.rowSelected.bind(this),\r\n      rowSelection: 'single',\r\n      rowGroupPanelShow: 'after',\r\n      animateRows: true,\r\n      enableFilter: true,\r\n      suppressHorizontalScroll: false,\r\n      suppressColumnVirtualisation: true,\r\n      alignedGrids: [],\r\n      getContextMenuItems: params => this.getContextMenuItems(params),\r\n      onGridReady: params => {\r\n        this.gridColumnApi = params.columnApi;\r\n        this.gridOptions.excelStyles = ExcelStyle;\r\n      },\r\n      onFirstDataRendered: params => {\r\n        params.api.forEachNode(node => {\r\n          node.expanded = true;\r\n        });\r\n        params.api.onGroupExpandedOrCollapsed();\r\n      },\r\n      columnDefs: [\r\n        {\r\n          field: 'SecurityCode',\r\n          width: 120,\r\n          headerName: 'Symbol',\r\n          sortable: true,\r\n          filter: true\r\n        },\r\n        {\r\n          field: 'Fund',\r\n          width: 120,\r\n          headerName: 'Fund',\r\n          sortable: true,\r\n          filter: true\r\n        },\r\n        {\r\n          field: 'Quantity',\r\n          headerName: 'Quantity',\r\n          cellClass: 'rightAlign',\r\n          sortable: true,\r\n          filter: true,\r\n          width: 120,\r\n          valueFormatter: currencyFormatter\r\n        },\r\n        {\r\n          field: 'Exposure',\r\n          headerName: 'Exposure',\r\n          cellClass: 'rightAlign',\r\n          sortable: true,\r\n          filter: true,\r\n          width: 120,\r\n          valueFormatter: currencyFormatter\r\n        },\r\n        {\r\n          field: 'Price',\r\n          headerName: 'Price',\r\n          cellClass: 'rightAlign',\r\n          sortable: true,\r\n          filter: true,\r\n          width: 120,\r\n          valueFormatter: priceFormatter\r\n        },\r\n        {\r\n          field: 'Fx',\r\n          headerName: 'Fx',\r\n          cellClass: 'rightAlign',\r\n          sortable: true,\r\n          filter: true,\r\n          width: 120,\r\n          valueFormatter: priceFormatter\r\n        },\r\n        {\r\n          field: 'Currency',\r\n          width: 50,\r\n          headerName: 'Currency',\r\n          sortable: true,\r\n          filter: true\r\n        }\r\n      ],\r\n      defaultColDef: {\r\n        sortable: true,\r\n        resizable: true,\r\n        filter: true\r\n      }\r\n    } as GridOptions;\r\n\r\n    this.portfolioOptions = {\r\n      rowData: [],\r\n      pinnedBottomRowData: [],\r\n      frameworkComponents: { customToolPanel: GridLayoutMenuComponent },\r\n      onCellClicked: this.rowSelected.bind(this),\r\n      rowSelection: 'single',\r\n      rowGroupPanelShow: 'after',\r\n      animateRows: true,\r\n      enableFilter: true,\r\n      suppressHorizontalScroll: false,\r\n      suppressColumnVirtualisation: true,\r\n      alignedGrids: [],\r\n      getContextMenuItems: params => this.getContextMenuItems(params),\r\n      onGridReady: params => {\r\n        this.gridColumnApi = params.columnApi;\r\n        this.gridOptions.excelStyles = ExcelStyle;\r\n      },\r\n      onFirstDataRendered: params => {\r\n        params.api.forEachNode(node => {\r\n          node.expanded = true;\r\n        });\r\n        params.api.onGroupExpandedOrCollapsed();\r\n      },\r\n      columnDefs: [\r\n        {\r\n          field: 'SecurityCode',\r\n          width: 120,\r\n          headerName: 'Symbol',\r\n          sortable: true,\r\n          filter: true\r\n        },\r\n        {\r\n          field: 'Fund',\r\n          width: 120,\r\n          headerName: 'Fund',\r\n          sortable: true,\r\n          filter: true\r\n        },\r\n        {\r\n          field: 'Quantity',\r\n          headerName: 'Quantity',\r\n          cellClass: 'rightAlign',\r\n          sortable: true,\r\n          filter: true,\r\n          width: 120,\r\n          valueFormatter: currencyFormatter\r\n        },\r\n        {\r\n          field: 'Exposure',\r\n          headerName: 'Exposure',\r\n          cellClass: 'rightAlign',\r\n          sortable: true,\r\n          filter: true,\r\n          width: 120,\r\n          valueFormatter: currencyFormatter\r\n        },\r\n        {\r\n          field: 'Price',\r\n          headerName: 'Price',\r\n          cellClass: 'rightAlign',\r\n          sortable: true,\r\n          filter: true,\r\n          width: 120,\r\n          valueFormatter: priceFormatter\r\n        },\r\n        {\r\n          field: 'Fx',\r\n          headerName: 'Fx',\r\n          cellClass: 'rightAlign',\r\n          sortable: true,\r\n          filter: true,\r\n          width: 120,\r\n          valueFormatter: priceFormatter\r\n        },\r\n        {\r\n          field: 'Currency',\r\n          width: 50,\r\n          headerName: 'Currency',\r\n          sortable: true,\r\n          filter: true\r\n        }\r\n      ],\r\n      defaultColDef: {\r\n        sortable: true,\r\n        resizable: true,\r\n        filter: true\r\n      }\r\n    } as GridOptions;\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.dataService.flag$.subscribe(obj => {\r\n      this.hideGrid = obj;\r\n      if (!this.hideGrid) {\r\n      }\r\n    });\r\n  }\r\n\r\n  getFunds() {\r\n    this.financeService.getFunds().subscribe(result => {\r\n      this.funds = result.payload.map(item => ({\r\n        fundId: item.FundId,\r\n        fundCode: item.FundCode\r\n      }));\r\n    });\r\n  }\r\n\r\n  // Being called twice\r\n  getReport(date, fund) {\r\n    this.isLoading = true;\r\n    this.gridOptions.api.showLoadingOverlay();\r\n    this.reportsApiService\r\n      .getBookmonReconReport(moment(date).format('YYYY-MM-DD'), fund)\r\n      .subscribe(response => {\r\n        this.reconciledData = this.setIdentifierForReconDataAndCheckMissingRows(\r\n          response.payload[0],\r\n          response.payload[1],\r\n          response.payload[2]\r\n        );\r\n        this.portfolioData = response.payload[1];\r\n        this.bookmonData = response.payload[2];\r\n\r\n        this.gridOptions.api.setRowData(this.reconciledData);\r\n        this.gridOptions.api.sizeColumnsToFit();\r\n\r\n        this.portfolioOptions.api.setRowData(this.portfolioData);\r\n        this.portfolioOptions.api.sizeColumnsToFit();\r\n\r\n        this.bookmonOptions.api.setRowData(this.bookmonData);\r\n        this.bookmonOptions.api.sizeColumnsToFit();\r\n\r\n        this.isLoading = false;\r\n      });\r\n  }\r\n\r\n  setIdentifierForReconDataAndCheckMissingRows(reconData, accountingData, bookMonData) {\r\n    let i = 0;\r\n    const modifiedReconData = reconData.map(x => ({\r\n      ...x,\r\n      id: i++,\r\n      ...(x.Diff_Quantity !== 0 || x.Diff_Exposure !== 0 ? { nonZero: true } : { nonZero: false }),\r\n      ...(accountingData.find(y => y.SecurityCode === x.Symbol) === undefined\r\n        ? { notInAccounting: true }\r\n        : { notInAccounting: false }),\r\n      ...(bookMonData.find(y => y.SecurityCode === x.Symbol) === undefined\r\n        ? { notInBookMon: true }\r\n        : { notInBookMon: false })\r\n    }));\r\n\r\n    this.showNonZeroBtn =\r\n      (modifiedReconData.find(data => data.nonZero === true) || {}).nonZero || false;\r\n    this.showNotInAccountingBtn =\r\n      (modifiedReconData.find(data => data.notInAccounting === true) || {}).notInAccounting ||\r\n      false;\r\n    this.showNotInBookMonBtn =\r\n      (modifiedReconData.find(data => data.notInBookMon === true) || {}).notInBookMon || false;\r\n\r\n    return modifiedReconData;\r\n  }\r\n\r\n  rowSelected(row) {\r\n    const { symbol } = row.data;\r\n    let mySymbol = row.data.Symbol;\r\n\r\n    this.bookmonOptions.api.forEachNodeAfterFilter((rowNode, index) => {\r\n      if (rowNode.data.SecurityCode === mySymbol) {\r\n        rowNode.setSelected(true);\r\n        this.bookmonOptions.api.ensureIndexVisible(rowNode.rowIndex);\r\n      } else {\r\n        rowNode.setSelected(false);\r\n      }\r\n    });\r\n\r\n    this.portfolioOptions.api.forEachNodeAfterFilter((rowNode, index) => {\r\n      if (rowNode.data.SecurityCode === mySymbol) {\r\n        rowNode.setSelected(true);\r\n        this.portfolioOptions.api.ensureIndexVisible(rowNode.rowIndex);\r\n      } else {\r\n        rowNode.setSelected(false);\r\n      }\r\n    });\r\n  }\r\n\r\n  onRowDoubleClicked(params: RowDoubleClickedEvent) {\r\n    this.gridOptions.api.showLoadingOverlay();\r\n    this.openDataGridModal(params.data);\r\n  }\r\n\r\n  openDataGridModal(rowData: any) {\r\n    const { Symbol } = rowData;\r\n    this.reportsApiService\r\n      .getTaxLotReport(null, null, Symbol, null, false)\r\n      .pipe(finalize(() => this.gridOptions.api.hideOverlay()))\r\n      .subscribe(response => {\r\n        const { payload } = response;\r\n        const columns = this.getTaxLotColDefs();\r\n\r\n        this.title = 'Tax Lot Status';\r\n        this.dataGridModal.openModal(columns, payload);\r\n      });\r\n  }\r\n\r\n  getTaxLotColDefs(): Array<ColDef | ColGroupDef> {\r\n    return [\r\n      {\r\n        field: 'open_id',\r\n        headerName: 'Order Id',\r\n        hide: true\r\n      },\r\n      {\r\n        field: 'trade_date',\r\n        headerName: 'Trade Date',\r\n        sortable: true,\r\n        filter: true,\r\n        valueFormatter: dateFormatter\r\n      },\r\n      {\r\n        field: 'symbol',\r\n        headerName: 'Symbol',\r\n        rowGroup: true,\r\n        sortable: true,\r\n        filter: true\r\n      },\r\n      {\r\n        field: 'status',\r\n        headerName: 'Status',\r\n        sortable: true,\r\n        filter: true\r\n      },\r\n      {\r\n        field: 'side',\r\n        headerName: 'Side',\r\n        sortable: true,\r\n        filter: true\r\n      },\r\n      {\r\n        field: 'original_quantity',\r\n        headerName: 'Orig Qty',\r\n        filter: true,\r\n        sortable: true,\r\n        cellClass: 'rightAlign',\r\n        valueFormatter: currencyFormatter,\r\n        aggFunc: 'sum'\r\n      },\r\n      {\r\n        field: 'quantity',\r\n        headerName: 'Rem Qty',\r\n        filter: true,\r\n        sortable: true,\r\n        cellClass: 'rightAlign',\r\n        valueFormatter: currencyFormatter,\r\n        aggFunc: 'sum'\r\n      },\r\n      {\r\n        field: 'investment_at_cost',\r\n        headerName: 'Investment @ Cost',\r\n        width: 100,\r\n        filter: true,\r\n        sortable: true,\r\n        cellClass: 'rightAlign',\r\n        valueFormatter: moneyFormatter\r\n      }\r\n    ];\r\n  }\r\n\r\n  onFilterChanged() {\r\n    this.pinnedBottomRowData = CalTotalRecords(this.gridOptions);\r\n    this.gridOptions.api.setPinnedBottomRowData(this.pinnedBottomRowData);\r\n  }\r\n\r\n  isExternalFilterPassed(object) {\r\n    const { fundFilter } = object;\r\n    const { symbolFilter } = object;\r\n    const { dateFilter } = object;\r\n    this.fund = fundFilter !== undefined ? fundFilter : this.fund;\r\n    this.filterBySymbol = symbolFilter !== undefined ? symbolFilter : this.filterBySymbol;\r\n    this.setDateRange(dateFilter);\r\n    this.getReport(this.startDate, this.fund);\r\n    this.gridOptions.api.onFilterChanged();\r\n  }\r\n\r\n  isExternalFilterPresent() {\r\n    if (this.fund !== 'All Funds' || this.startDate || this.filterBySymbol !== '') {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  doesExternalFilterPass(node: any) {\r\n    if (this.filterBySymbol !== '') {\r\n      const cellSymbol = node.data.Symbol === null ? '' : node.data.Symbol;\r\n      return cellSymbol.toLowerCase().includes(this.filterBySymbol.toLowerCase());\r\n    }\r\n    return true;\r\n  }\r\n\r\n  ngModelChangeSymbol(e) {\r\n    this.filterBySymbol = e;\r\n    this.gridOptions.api.onFilterChanged();\r\n  }\r\n\r\n  onSymbolKey(e) {\r\n    this.filterBySymbol = e.srcElement.value;\r\n    this.gridOptions.api.onFilterChanged();\r\n\r\n    // For the moment we react to each key stroke\r\n    if (e.code === 'Enter' || e.code === 'Tab') {\r\n    }\r\n  }\r\n\r\n  getContextMenuItems(params): Array<ContextMenu> {\r\n    const addDefaultItems = [\r\n      {\r\n        name: 'Security Details',\r\n        subMenu: [\r\n          {\r\n            name: 'Extend',\r\n            action: () => {\r\n              this.isLoading = true;\r\n              this.securityApiService.getDataForSecurityModal(params.node.data.Symbol).subscribe(\r\n                ([config, securityDetails]: [any, any]) => {\r\n\r\n                  this.isLoading = false;\r\n                  if (!config.isSuccessful) {\r\n                  this.toastrService.error('No security type found against the selected symbol!');\r\n                  return;\r\n                }\r\n                  if (securityDetails.payload.length === 0) {\r\n                  this.securityModal.openSecurityModalFromOutside(params.node.data.Symbol,\r\n                    config.payload[0].SecurityType, config.payload[0].Fields, null, 'extend');\r\n                } else {\r\n                  this.securityModal.openSecurityModalFromOutside(params.node.data.Symbol,\r\n                    config.payload[0].SecurityType, config.payload[0].Fields, securityDetails.payload[0], 'extend');\r\n                }\r\n\r\n                },\r\n                error => {\r\n                  this.isLoading = false;\r\n                }\r\n              );\r\n            }\r\n          }\r\n        ]\r\n      }\r\n    ];\r\n\r\n    // (isDefaultItems, addDefaultItem, isCustomItems, addCustomItems, params)\r\n    return GetContextMenu(false, addDefaultItems, true, null, params);\r\n  }\r\n\r\n  setDateRange(dateFilter: any) {\r\n    const dates = SetDateRange(dateFilter, this.startDate, this.endDate);\r\n    this.startDate = dates[0];\r\n    this.endDate = dates[1];\r\n\r\n    this.selectedDate =\r\n      dateFilter.startDate !== '' ? { startDate: this.startDate, endDate: this.endDate } : null;\r\n  }\r\n\r\n  getRangeLabel() {\r\n    this.DateRangeLabel = '';\r\n    this.DateRangeLabel = GetDateRangeLabel(this.startDate, this.endDate);\r\n  }\r\n\r\n  getExternalFilterState() {\r\n    return {\r\n      fundFilter: this.fund,\r\n      symbolFilter: this.filterBySymbol,\r\n      dateFilter: {\r\n        startDate: this.startDate !== undefined ? this.startDate : '',\r\n        endDate: this.endDate !== undefined ? this.endDate : ''\r\n      }\r\n    };\r\n  }\r\n\r\n  changeDate(selectedDate) {\r\n    if (!selectedDate.startDate) {\r\n      return;\r\n    }\r\n    this.startDate = selectedDate.startDate.format('YYYY-MM-DD');\r\n    this.getReport(this.startDate, this.fund === 'All Funds' ? 'ALL' : this.fund);\r\n    this.getRangeLabel();\r\n  }\r\n\r\n  changeFund(selectedFund) {\r\n    this.fund = selectedFund;\r\n    this.getReport(this.startDate, this.fund === 'All Funds' ? 'ALL' : this.fund);\r\n  }\r\n\r\n  clearFilters() {\r\n    this.fund = 'All Funds';\r\n    this.DateRangeLabel = '';\r\n    this.endDate = undefined;\r\n    this.selectedDate = null;\r\n    this.gridOptions.api.setRowData([]);\r\n    this.portfolioOptions.api.setRowData([]);\r\n    this.bookmonOptions.api.setRowData([]);\r\n    this.filterBySymbol = '';\r\n  }\r\n\r\n  refreshReport() {\r\n    this.gridOptions.api.showLoadingOverlay();\r\n    this.portfolioOptions.api.showLoadingOverlay();\r\n    this.bookmonOptions.api.showLoadingOverlay();\r\n\r\n    if (this.selectedDate.startDate == null) {\r\n      this.selectedDate = {\r\n        startDate: moment(this.journalDate, 'YYYY-MM-DD'),\r\n        endDate: moment(this.endDate, 'YYYY-MM-DD')\r\n      };\r\n      this.getReport(this.journalDate, 'ALL');\r\n    } else {\r\n      const startDate = this.selectedDate.startDate.format('YYYY-MM-DD');\r\n      this.getReport(startDate, 'ALL');\r\n    }\r\n  }\r\n\r\n  onBtExport() {\r\n    const params = {\r\n      fileName: 'Cost Basis Reports',\r\n      sheetName: 'First Sheet'\r\n    };\r\n    this.gridOptions.api.exportDataAsExcel(params);\r\n    this.downloadExcelUtils.ToastrMessage();\r\n  }\r\n}\r\n\r\nfunction currencyFormatter(params) {\r\n  if (params.value === undefined) {\r\n    return;\r\n  }\r\n  return CommaSeparatedFormat(params.value);\r\n}\r\n\r\nfunction priceFormatter(params) {\r\n  if (params.value === undefined) {\r\n    return;\r\n  }\r\n  return FormatNumber8(params.value);\r\n}\r\n","export default \".grid-height {\\n  height: calc(100% - 24px);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9yZWNvbmNpbGlhdGlvbi9kYXlwbmwtcmVjb25jaWxlL0M6XFxVc2Vyc1xcbGF0dGlcXGRldmVsb3BtZW50XFxsaWdodHBvaW50XFxmaW5hbmNlXFx1aS9zcmNcXGFwcFxcbWFpblxccmVjb25jaWxpYXRpb25cXGRheXBubC1yZWNvbmNpbGVcXGRheXBubC1yZWNvbmNpbGUuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21haW4vcmVjb25jaWxpYXRpb24vZGF5cG5sLXJlY29uY2lsZS9kYXlwbmwtcmVjb25jaWxlLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UseUJBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL21haW4vcmVjb25jaWxpYXRpb24vZGF5cG5sLXJlY29uY2lsZS9kYXlwbmwtcmVjb25jaWxlLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmdyaWQtaGVpZ2h0IHtcclxuICBoZWlnaHQ6IGNhbGMoMTAwJSAtIDI0cHgpO1xyXG59XHJcbiIsIi5ncmlkLWhlaWdodCB7XG4gIGhlaWdodDogY2FsYygxMDAlIC0gMjRweCk7XG59Il19 */\"","import { Component, OnInit, AfterViewInit, ViewChild } from '@angular/core';\r\nimport { GridOptions, RowDoubleClickedEvent } from 'ag-grid-community';\r\nimport { timer, Subject } from 'rxjs';\r\nimport { debounce, finalize } from 'rxjs/operators';\r\nimport * as moment from 'moment';\r\nimport { GridLayoutMenuComponent, CustomGridOptions } from 'lp-toolkit';\r\nimport { GridId, GridName } from 'src/shared/utils/AppEnums';\r\nimport { DataGridModalComponent } from 'src/shared/Component/data-grid-modal/data-grid-modal.component';\r\nimport { CreateSecurityComponent } from 'src/shared/Modal/create-security/create-security.component';\r\nimport { DataService } from '../../../../services/common/data.service';\r\nimport { FinanceServiceProxy } from '../../../../services/service-proxies';\r\nimport { ReportsApiService } from 'src/services/reports-api.service';\r\nimport { SecurityApiService } from 'src/services/security-api.service';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { Fund } from '../../../../shared/Models/account';\r\nimport { DataDictionary } from 'src/shared/utils/DataDictionary';\r\nimport { AgGridUtils } from 'src/shared/utils/AgGridUtils';\r\nimport { ContextMenu } from 'src/shared/Models/common';\r\nimport { GetContextMenu } from 'src/shared/utils/ContextMenu';\r\nimport { DownloadExcelUtils } from 'src/shared/utils/DownloadExcelUtils';\r\nimport {\r\n  CalTotalRecords,\r\n  SideBar,\r\n  Ranges,\r\n  GetDateRangeLabel,\r\n  SetDateRange,\r\n  Style,\r\n  HeightStyle,\r\n  ExcelStyle,\r\n  LegendColors,\r\n  FormatDate,\r\n  dateFormatter,\r\n  MoneyFormat,\r\n  moneyFormatter\r\n} from 'src/shared/utils/Shared';\r\n\r\n@Component({\r\n  selector: 'rep-daypnl-reconcile',\r\n  templateUrl: './daypnl-reconcile.component.html',\r\n  styleUrls: ['./daypnl-reconcile.component.scss']\r\n})\r\nexport class DayPnlComponent implements OnInit, AfterViewInit {\r\n  @ViewChild('dataGridModal', { static: false }) dataGridModal: DataGridModalComponent;\r\n  @ViewChild('securityModal', { static: false }) securityModal: CreateSecurityComponent;\r\n\r\n  gridOptions: CustomGridOptions;\r\n  portfolioOptions: GridOptions;\r\n  bookmonOptions: GridOptions;\r\n  action: {\r\n    reconciledGridSize: number;\r\n    accountingBookMonSize: number;\r\n    reconciledGridView: boolean;\r\n    accountingBookMonView: boolean;\r\n    useTransition: boolean;\r\n  } = {\r\n    reconciledGridSize: 50,\r\n    accountingBookMonSize: 50,\r\n    reconciledGridView: true,\r\n    accountingBookMonView: false,\r\n    useTransition: true\r\n  };\r\n\r\n  gridColumnApi;\r\n  pinnedBottomRowData;\r\n  fund: any = 'All Funds';\r\n  funds: Fund;\r\n  filterBySymbol = '';\r\n  DateRangeLabel: string;\r\n  selectedDate: { startDate: moment.Moment; endDate: moment.Moment };\r\n  startDate: Date;\r\n  endDate: Date;\r\n  maxDate: moment.Moment;\r\n  isLoading = false;\r\n  hideGrid: boolean;\r\n  chartData: any;\r\n  netpnlData: any;\r\n  unrealizedData: any;\r\n  realizedData: any;\r\n  cbData: any;\r\n  bData: any;\r\n  qData: any;\r\n  title: string;\r\n\r\n  reconciledData: any;\r\n  bookmonData: any;\r\n  portfolioData: any;\r\n  showNonZeroBtn = false;\r\n  showNotInAccountingBtn = false;\r\n  showNotInBookMonBtn = false;\r\n\r\n  labels: string[] = [];\r\n  displayChart = false;\r\n\r\n  journalDate: any;\r\n\r\n  ranges: any = Ranges;\r\n\r\n  style = Style;\r\n\r\n  styleForHeight = HeightStyle(248);\r\n\r\n  processingMsgDiv = {\r\n    border: '1px solid #eee',\r\n    padding: '4px',\r\n    marginTop: '20px',\r\n    width: '100%',\r\n    height: 'calc(100vh - 125px)',\r\n    boxSizing: 'border-box'\r\n  };\r\n\r\n  constructor(\r\n    private financeService: FinanceServiceProxy,\r\n    private reportsApiService: ReportsApiService,\r\n    private dataService: DataService,\r\n    private dataDictionary: DataDictionary,\r\n    private agGridUtils: AgGridUtils,\r\n    private securityApiService: SecurityApiService,\r\n    private toastrService: ToastrService,\r\n    private downloadExcelUtils: DownloadExcelUtils\r\n  ) {\r\n    this.hideGrid = false;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.initGrid();\r\n    this.getLatestJournalDate();\r\n    this.getFunds();\r\n    this.maxDate = moment();\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.dataService.flag$.subscribe(obj => {\r\n      this.hideGrid = obj;\r\n      if (!this.hideGrid) {\r\n      }\r\n    });\r\n  }\r\n\r\n  getLatestJournalDate() {\r\n    this.reportsApiService.getLatestJournalDate().subscribe(\r\n      response => {\r\n        if (response.isSuccessful && response.statusCode === 200) {\r\n          this.journalDate = response.payload[0].when;\r\n          this.startDate = this.journalDate;\r\n          this.selectedDate = {\r\n            startDate: moment(this.startDate, 'YYYY-MM-DD'),\r\n            endDate: moment(this.startDate, 'YYYY-MM-DD')\r\n          };\r\n        }\r\n      },\r\n      error => {}\r\n    );\r\n  }\r\n\r\n  getFunds() {\r\n    this.financeService.getFunds().subscribe(result => {\r\n      this.funds = result.payload.map(item => ({\r\n        fundId: item.FundId,\r\n        fundCode: item.FundCode\r\n      }));\r\n    });\r\n  }\r\n\r\n  initGrid() {\r\n    this.gridOptions = {\r\n      rowData: [],\r\n      pinnedBottomRowData: [],\r\n      frameworkComponents: { customToolPanel: GridLayoutMenuComponent },\r\n      /* Custom Method Binding for External Filters from Grid Layout Component */\r\n      getExternalFilterState: this.getExternalFilterState.bind(this),\r\n      clearExternalFilter: this.clearFilters.bind(this),\r\n      setExternalFilter: this.isExternalFilterPassed.bind(this),\r\n      isExternalFilterPresent: this.isExternalFilterPresent.bind(this),\r\n      doesExternalFilterPass: this.doesExternalFilterPass.bind(this),\r\n      onFilterChanged: this.onFilterChanged.bind(this),\r\n      onCellClicked: this.rowSelected.bind(this),\r\n      onRowDoubleClicked: this.onRowDoubleClicked.bind(this),\r\n      rowSelection: 'single',\r\n      rowGroupPanelShow: 'after',\r\n      animateRows: true,\r\n      enableFilter: true,\r\n      suppressHorizontalScroll: false,\r\n      suppressColumnVirtualisation: true,\r\n      alignedGrids: [],\r\n      getContextMenuItems: params => this.getContextMenuItems(params),\r\n      onGridReady: params => {\r\n        this.gridColumnApi = params.columnApi;\r\n        this.gridOptions.excelStyles = ExcelStyle;\r\n      },\r\n      getRowStyle: params => {\r\n        let style = {};\r\n        if (params.data.nonZero) {\r\n          style = LegendColors.nonZeroStyle;\r\n        }\r\n        if (params.data.notInBookMon) {\r\n          style = LegendColors.notInBookMonStyle;\r\n        }\r\n        if (params.data.notInAccounting) {\r\n          style = LegendColors.notInAccountingStyle;\r\n        }\r\n\r\n        return style;\r\n      },\r\n      onFirstDataRendered: params => {\r\n        params.api.forEachNode(node => {\r\n          node.expanded = true;\r\n        });\r\n        params.api.onGroupExpandedOrCollapsed();\r\n      },\r\n      columnDefs: [\r\n        {\r\n          field: 'Symbol',\r\n          width: 120,\r\n          headerName: 'Symbol',\r\n          sortable: true,\r\n          filter: true\r\n        },\r\n        {\r\n          field: 'SecurityType',\r\n          width: 120,\r\n          headerName: 'SecurityType',\r\n          sortable: true,\r\n          filter: true\r\n        },\r\n        {\r\n          field: 'Fund',\r\n          width: 120,\r\n          headerName: 'Fund',\r\n          sortable: true,\r\n          filter: true\r\n        },\r\n        {\r\n          field: 'Diff_DayPnl',\r\n          headerName: 'Difference',\r\n          cellClass: 'rightAlign',\r\n          sortable: true,\r\n          filter: true,\r\n          width: 120,\r\n          valueFormatter: currencyFormatter\r\n        },\r\n        {\r\n          field: 'Currency',\r\n          width: 50,\r\n          headerName: 'Currency',\r\n          sortable: true,\r\n          filter: true\r\n        },\r\n        {\r\n          headerName: 'Id',\r\n          field: 'id',\r\n          hide: true\r\n        },\r\n        {\r\n          headerName: 'Non-zero',\r\n          field: 'nonZero',\r\n          hide: true\r\n        },\r\n        {\r\n          headerName: 'Not in BookMon',\r\n          field: 'notInBookMon',\r\n          hide: true\r\n        },\r\n        {\r\n          headerName: 'Not in Accounting',\r\n          field: 'notInAccounting',\r\n          hide: true\r\n        }\r\n      ],\r\n      defaultColDef: {\r\n        sortable: true,\r\n        resizable: true,\r\n        filter: true\r\n      }\r\n    };\r\n    this.gridOptions.sideBar = SideBar(\r\n      GridId.dayPnlReconcileId,\r\n      GridName.dayPnlReconcile,\r\n      this.gridOptions\r\n    );\r\n\r\n    this.bookmonOptions = {\r\n      rowData: [],\r\n      pinnedBottomRowData: [],\r\n      frameworkComponents: { customToolPanel: GridLayoutMenuComponent },\r\n      onCellClicked: this.rowSelected.bind(this),\r\n      rowSelection: 'single',\r\n      rowGroupPanelShow: 'after',\r\n      animateRows: true,\r\n      enableFilter: true,\r\n      suppressHorizontalScroll: false,\r\n      suppressColumnVirtualisation: true,\r\n      alignedGrids: [],\r\n      getContextMenuItems: params => this.getContextMenuItems(params),\r\n      onGridReady: params => {\r\n        this.gridColumnApi = params.columnApi;\r\n        this.gridOptions.excelStyles = ExcelStyle;\r\n      },\r\n      onFirstDataRendered: params => {\r\n        params.api.forEachNode(node => {\r\n          node.expanded = true;\r\n        });\r\n        params.api.onGroupExpandedOrCollapsed();\r\n      },\r\n      columnDefs: [\r\n        {\r\n          field: 'SecurityCode',\r\n          width: 120,\r\n          headerName: 'Symbol',\r\n          sortable: true,\r\n          filter: true\r\n        },\r\n        {\r\n          field: 'Fund',\r\n          width: 120,\r\n          headerName: 'Fund',\r\n          sortable: true,\r\n          filter: true\r\n        },\r\n        {\r\n          field: 'DayPnl',\r\n          headerName: 'Day Pnl',\r\n          cellClass: 'rightAlign',\r\n          sortable: true,\r\n          filter: true,\r\n          width: 120,\r\n          valueFormatter: currencyFormatter\r\n        },\r\n        {\r\n          field: 'Currency',\r\n          width: 50,\r\n          headerName: 'Currency',\r\n          sortable: true,\r\n          filter: true\r\n        }\r\n      ],\r\n      defaultColDef: {\r\n        sortable: true,\r\n        resizable: true,\r\n        filter: true\r\n      }\r\n    } as GridOptions;\r\n\r\n    this.portfolioOptions = {\r\n      rowData: [],\r\n      pinnedBottomRowData: [],\r\n      frameworkComponents: { customToolPanel: GridLayoutMenuComponent },\r\n      rowSelection: 'single',\r\n      rowGroupPanelShow: 'after',\r\n      onCellClicked: this.rowSelected.bind(this),\r\n      animateRows: true,\r\n      enableFilter: true,\r\n      suppressHorizontalScroll: false,\r\n      suppressColumnVirtualisation: true,\r\n      alignedGrids: [],\r\n      getContextMenuItems: params => this.getContextMenuItems(params),\r\n      onGridReady: params => {\r\n        this.gridColumnApi = params.columnApi;\r\n        this.gridOptions.excelStyles = ExcelStyle;\r\n      },\r\n      onFirstDataRendered: params => {\r\n        params.api.forEachNode(node => {\r\n          node.expanded = true;\r\n        });\r\n        params.api.onGroupExpandedOrCollapsed();\r\n      },\r\n      columnDefs: [\r\n        {\r\n          field: 'SecurityCode',\r\n          width: 120,\r\n          headerName: 'Symbol',\r\n          sortable: true,\r\n          filter: true\r\n        },\r\n        {\r\n          field: 'Fund',\r\n          width: 120,\r\n          headerName: 'Fund',\r\n          sortable: true,\r\n          filter: true\r\n        },\r\n        {\r\n          field: 'DayPnl',\r\n          headerName: 'Day Pnl',\r\n          cellClass: 'rightAlign',\r\n          sortable: true,\r\n          filter: true,\r\n          width: 120,\r\n          valueFormatter: currencyFormatter\r\n        },\r\n        {\r\n          field: 'currency',\r\n          width: 50,\r\n          headerName: 'Currency',\r\n          sortable: true,\r\n          filter: true\r\n        }\r\n      ],\r\n      defaultColDef: {\r\n        sortable: true,\r\n        resizable: true,\r\n        filter: true\r\n      }\r\n    } as GridOptions;\r\n  }\r\n\r\n  // Being Called Twice (Fixed)\r\n  getReport(date, fund) {\r\n    this.isLoading = true;\r\n    this.gridOptions.api.showLoadingOverlay();\r\n    this.reportsApiService\r\n      .getReconReport(moment(date).format('YYYY-MM-DD'), fund)\r\n      .subscribe(response => {\r\n        this.reconciledData = this.setIdentifierForReconDataAndCheckMissingRows(\r\n          response.payload[0],\r\n          response.payload[1],\r\n          response.payload[2]\r\n        );\r\n        this.portfolioData = response.payload[1];\r\n        this.bookmonData = response.payload[2];\r\n\r\n        this.gridOptions.api.setRowData(this.reconciledData);\r\n        this.gridOptions.api.sizeColumnsToFit();\r\n\r\n        this.portfolioOptions.api.setRowData(this.portfolioData);\r\n        this.portfolioOptions.api.sizeColumnsToFit();\r\n\r\n        this.bookmonOptions.api.setRowData(this.bookmonData);\r\n        this.bookmonOptions.api.sizeColumnsToFit();\r\n\r\n        this.isLoading = false;\r\n      });\r\n  }\r\n\r\n  setIdentifierForReconDataAndCheckMissingRows(reconData, accountingData, bookMonData) {\r\n    let i = 0;\r\n\r\n    const modifiedReconData = reconData.map(x => ({\r\n      ...x,\r\n      id: i++,\r\n      ...(x.Diff_DayPnl !== 0 ? { nonZero: true } : { nonZero: false }),\r\n      ...(accountingData.find(y => y.SecurityCode === x.Symbol) === undefined\r\n        ? { notInAccounting: true }\r\n        : { notInAccounting: false }),\r\n      ...(bookMonData.find(y => y.SecurityCode === x.Symbol) === undefined\r\n        ? { notInBookMon: true }\r\n        : { notInBookMon: false })\r\n    }));\r\n\r\n    this.showNonZeroBtn =\r\n      (modifiedReconData.find(data => data.nonZero === true) || {}).nonZero || false;\r\n    this.showNotInAccountingBtn =\r\n      (modifiedReconData.find(data => data.notInAccounting === true) || {}).notInAccounting ||\r\n      false;\r\n    this.showNotInBookMonBtn =\r\n      (modifiedReconData.find(data => data.notInBookMon === true) || {}).notInBookMon || false;\r\n\r\n    return modifiedReconData;\r\n  }\r\n\r\n  rowSelected(row) {\r\n    const { symbol } = row.data;\r\n\r\n    const mySymbol = row.data.Symbol;\r\n\r\n    this.bookmonOptions.api.forEachNodeAfterFilter((rowNode, index) => {\r\n      if (rowNode.data.SecurityCode === mySymbol) {\r\n        rowNode.setSelected(true);\r\n        this.bookmonOptions.api.ensureIndexVisible(rowNode.rowIndex);\r\n      } else {\r\n        rowNode.setSelected(false);\r\n      }\r\n    });\r\n\r\n    this.portfolioOptions.api.forEachNodeAfterFilter((rowNode, index) => {\r\n      if (rowNode.data.SecurityCode === mySymbol) {\r\n        rowNode.setSelected(true);\r\n        this.portfolioOptions.api.ensureIndexVisible(rowNode.rowIndex);\r\n      } else {\r\n        rowNode.setSelected(false);\r\n      }\r\n    });\r\n  }\r\n\r\n  onRowDoubleClicked(params: RowDoubleClickedEvent) {\r\n    this.gridOptions.api.showLoadingOverlay();\r\n    this.openDataGridModal(params.data);\r\n  }\r\n\r\n  openDataGridModal(rowData: any) {\r\n    console.log('DATA ::', rowData);\r\n    const { Symbol, Diff_DayPnl } = rowData;\r\n    const { startDate } = this.selectedDate;\r\n    this.financeService\r\n      .getTradeJournals('', startDate.format('YYYY-MM-DD'), Symbol)\r\n      .pipe(finalize(() => this.gridOptions.api.hideOverlay()))\r\n      .subscribe(response => {\r\n        const { data, meta } = response;\r\n        const someArray = this.agGridUtils.columizeData(data, meta.Columns);\r\n        const columns = this.dataDictionary.getTradeJournalColDefs(meta.Columns);\r\n\r\n        const filteredData = someArray.filter(\r\n          item =>\r\n            item.AccountType === 'CHANGE IN UNREALIZED GAIN/(LOSS)' ||\r\n            item.AccountType === 'REALIZED GAIN/(LOSS)'\r\n        );\r\n\r\n        this.title = `Trade Journals (Difference: ${Diff_DayPnl})`;\r\n        this.dataGridModal.openModal(columns, filteredData);\r\n      });\r\n  }\r\n\r\n  ngModelChangeSymbol(e) {\r\n    this.filterBySymbol = e;\r\n    this.gridOptions.api.onFilterChanged();\r\n  }\r\n\r\n  onSymbolKey(e) {\r\n    this.filterBySymbol = e.srcElement.value;\r\n    this.gridOptions.api.onFilterChanged();\r\n\r\n    // For the moment we react to each key stroke\r\n    if (e.code === 'Enter' || e.code === 'Tab') {\r\n    }\r\n  }\r\n\r\n  onFilterChanged() {\r\n    this.pinnedBottomRowData = CalTotalRecords(this.gridOptions);\r\n    this.gridOptions.api.setPinnedBottomRowData(this.pinnedBottomRowData);\r\n  }\r\n\r\n  isExternalFilterPassed(object) {\r\n    const { fundFilter } = object;\r\n    const { symbolFilter } = object;\r\n    const { dateFilter } = object;\r\n    this.fund = fundFilter !== undefined ? fundFilter : this.fund;\r\n    this.filterBySymbol = symbolFilter !== undefined ? symbolFilter : this.filterBySymbol;\r\n    this.setDateRange(dateFilter);\r\n    this.getReport(this.startDate, this.fund);\r\n    this.gridOptions.api.onFilterChanged();\r\n  }\r\n\r\n  isExternalFilterPresent() {\r\n    if (this.fund !== 'All Funds' || this.startDate || this.filterBySymbol !== '') {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  doesExternalFilterPass(node: any) {\r\n    if (this.filterBySymbol !== '') {\r\n      const cellSymbol = node.data.Symbol === null ? '' : node.data.Symbol;\r\n      return cellSymbol.toLowerCase().includes(this.filterBySymbol.toLowerCase());\r\n    }\r\n    return true;\r\n  }\r\n\r\n  getContextMenuItems(params): Array<ContextMenu> {\r\n    const addDefaultItems = [\r\n      {\r\n        name: 'Security Details',\r\n        subMenu: [\r\n          {\r\n            name: 'Extend',\r\n            action: () => {\r\n              this.isLoading = true;\r\n\r\n              this.securityApiService.getDataForSecurityModal(params.node.data.Symbol).subscribe(\r\n                ([config, securityDetails]: [any, any]) => {\r\n\r\n                  this.isLoading = false;\r\n                  if (!config.isSuccessful) {\r\n                  this.toastrService.error('No security type found against the selected symbol!');\r\n                  return;\r\n                }\r\n                  if (securityDetails.payload.length === 0) {\r\n                  this.securityModal.openSecurityModalFromOutside(params.node.data.Symbol,\r\n                    config.payload[0].SecurityType, config.payload[0].Fields, null, 'extend');\r\n                } else {\r\n                  this.securityModal.openSecurityModalFromOutside(params.node.data.Symbol,\r\n                    config.payload[0].SecurityType, config.payload[0].Fields, securityDetails.payload[0], 'extend');\r\n                }\r\n\r\n                },\r\n                error => {\r\n                  this.isLoading = false;\r\n                }\r\n              );\r\n            }\r\n          }\r\n        ]\r\n      }\r\n    ];\r\n\r\n    // (isDefaultItems, addDefaultItem, isCustomItems, addCustomItems, params)\r\n    return GetContextMenu(false, addDefaultItems, true, null, params);\r\n  }\r\n\r\n  setDateRange(dateFilter: any) {\r\n    const dates = SetDateRange(dateFilter, this.startDate, this.endDate);\r\n    this.startDate = dates[0];\r\n    this.endDate = dates[1];\r\n\r\n    this.selectedDate =\r\n      dateFilter.startDate !== ''\r\n        ? { startDate: moment(this.startDate), endDate: moment(this.endDate) }\r\n        : null;\r\n  }\r\n\r\n  getRangeLabel() {\r\n    this.DateRangeLabel = '';\r\n    this.DateRangeLabel = GetDateRangeLabel(this.startDate, this.endDate);\r\n  }\r\n\r\n  getExternalFilterState() {\r\n    return {\r\n      fundFilter: this.fund,\r\n      symbolFilter: this.filterBySymbol,\r\n      dateFilter: {\r\n        startDate: this.startDate !== undefined ? this.startDate : '',\r\n        endDate: this.endDate !== undefined ? this.endDate : ''\r\n      }\r\n    };\r\n  }\r\n\r\n  changeDate(selectedDate) {\r\n    if (!selectedDate.startDate) {\r\n      return;\r\n    }\r\n\r\n    this.startDate = selectedDate.startDate;\r\n    this.getReport(this.startDate, this.fund === 'All Funds' ? 'ALL' : this.fund);\r\n    this.getRangeLabel();\r\n  }\r\n\r\n  changeFund(selectedFund) {\r\n    this.fund = selectedFund;\r\n    this.getReport(this.startDate, this.fund === 'All Funds' ? 'ALL' : this.fund);\r\n  }\r\n\r\n  clearFilters() {\r\n    this.fund = 'All Funds';\r\n    this.filterBySymbol = '';\r\n    this.DateRangeLabel = '';\r\n    this.selectedDate = null;\r\n    this.endDate = undefined;\r\n    this.showNonZeroBtn = false;\r\n    this.showNotInAccountingBtn = false;\r\n    this.showNotInBookMonBtn = false;\r\n    this.gridOptions.api.setRowData([]);\r\n    this.portfolioOptions.api.setRowData([]);\r\n    this.bookmonOptions.api.setRowData([]);\r\n  }\r\n\r\n  refreshReport() {\r\n    this.gridOptions.api.showLoadingOverlay();\r\n    this.portfolioOptions.api.showLoadingOverlay();\r\n    this.bookmonOptions.api.showLoadingOverlay();\r\n\r\n    if (this.selectedDate.startDate == null) {\r\n      this.selectedDate = {\r\n        startDate: moment(this.journalDate, 'YYYY-MM-DD'),\r\n        endDate: moment(this.endDate, 'YYYY-MM-DD')\r\n      };\r\n      this.getReport(this.journalDate, 'ALL');\r\n    } else {\r\n      const startDate = this.selectedDate.startDate.format('YYYY-MM-DD');\r\n      this.getReport(startDate, 'ALL');\r\n    }\r\n  }\r\n\r\n  onBtExport() {\r\n    const params = {\r\n      fileName: 'Cost Basis Reports',\r\n      sheetName: 'First Sheet'\r\n    };\r\n    this.gridOptions.api.exportDataAsExcel(params);\r\n    this.downloadExcelUtils.ToastrMessage();\r\n  }\r\n}\r\n\r\nfunction currencyFormatter(params) {\r\n  if (params.value === undefined) {\r\n    return;\r\n  }\r\n  return MoneyFormat(params.value);\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21haW4vcmVjb25jaWxpYXRpb24vZGV0YWlsLXBubC1kYXRlL2RldGFpbC1wbmwtZGF0ZS5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit, AfterViewInit, ViewChild } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { timer, Subject } from 'rxjs';\r\nimport { debounce, finalize } from 'rxjs/operators';\r\nimport * as moment from 'moment';\r\nimport { DataService } from '../../../../services/common/data.service';\r\nimport { FinanceServiceProxy } from '../../../../services/service-proxies';\r\nimport { ReportsApiService } from 'src/services/reports-api.service';\r\nimport { SecurityApiService } from 'src/services/security-api.service';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { Fund } from '../../../../shared/Models/account';\r\nimport { GridLayoutMenuComponent, CustomGridOptions, GridUtils } from 'lp-toolkit';\r\nimport { GridId, GridName } from 'src/shared/utils/AppEnums';\r\nimport { CreateDividendComponent } from 'src/shared/Modal/create-dividend/create-dividend.component';\r\nimport { CreateStockSplitsComponent } from 'src/shared/Modal/create-stock-splits/create-stock-splits.component';\r\nimport { CreateSecurityComponent } from './../../../../shared/Modal/create-security/create-security.component';\r\nimport { AgGridUtils } from 'src/shared/utils/AgGridUtils';\r\nimport { DataDictionary } from 'src/shared/utils/DataDictionary';\r\nimport { GetContextMenu } from 'src/shared/utils/ContextMenu';\r\nimport { ContextMenu } from 'src/shared/Models/common';\r\nimport { DownloadExcelUtils } from 'src/shared/utils/DownloadExcelUtils';\r\nimport {\r\n  Style,\r\n  HeightStyle,\r\n  ExcelStyle,\r\n  SideBar,\r\n  Ranges,\r\n  GetDateRangeLabel,\r\n  SetDateRange,\r\n  CommaSeparatedFormat,\r\n  DateFormatter\r\n} from 'src/shared/utils/Shared';\r\n\r\n@Component({\r\n  selector: 'app-detail-pnl-date',\r\n  templateUrl: './detail-pnl-date.component.html',\r\n  styleUrls: ['./detail-pnl-date.component.scss']\r\n})\r\nexport class DetailPnlDateComponent implements OnInit, AfterViewInit {\r\n  @ViewChild('dividendModal', { static: false }) dividendModal: CreateDividendComponent;\r\n  @ViewChild('stockSplitsModal', { static: false }) stockSplitsModal: CreateStockSplitsComponent;\r\n  @ViewChild('securityModal', { static: false }) securityModal: CreateSecurityComponent;\r\n\r\n  gridOptions: CustomGridOptions;\r\n  hideGrid: boolean;\r\n\r\n  // fund: any = 'All Funds';\r\n  // funds: Fund;\r\n\r\n  filterBySymbol = '';\r\n  DateRangeLabel: string;\r\n  startDate: any;\r\n  endDate: any;\r\n  selected: { startDate: moment.Moment; endDate: moment.Moment };\r\n  maxDate: moment.Moment;\r\n  journalDate: any;\r\n  data: any[];\r\n  isLoading = false;\r\n  isExpanded = false;\r\n\r\n  ranges: any = Ranges;\r\n\r\n  style = Style;\r\n\r\n  styleForHeight = HeightStyle(220);\r\n\r\n  // private filterSubject: Subject<string> = new Subject();\r\n\r\n  processingMsgDiv = {\r\n    border: '1px solid #eee',\r\n    padding: '4px',\r\n    marginTop: '20px',\r\n    width: '100%',\r\n    height: 'calc(100vh - 125px)',\r\n    boxSizing: 'border-box'\r\n  };\r\n\r\n  constructor(\r\n    private dataService: DataService,\r\n    private financeService: FinanceServiceProxy,\r\n    private reportsApiService: ReportsApiService,\r\n    private agGridUtils: AgGridUtils,\r\n    private dataDictionary: DataDictionary,\r\n    private downloadExcelUtils: DownloadExcelUtils,\r\n    private securityApiService: SecurityApiService,\r\n    private toastrService: ToastrService,\r\n  ) {\r\n    this.hideGrid = false;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.initGrid();\r\n    this.getLatestJournalDate();\r\n    this.maxDate = moment();\r\n\r\n    // In case we add Funds filter later\r\n    // this.getFunds();\r\n\r\n    // Comment out this API call, In case we need to enable filter from server side\r\n    // this.getReport(\r\n    //   this.startDate,\r\n    //   this.endDate,\r\n    //   this.filterBySymbol,\r\n    //   this.fund === 'All Funds' ? 'ALL' : this.fund\r\n    // );\r\n    // In case we need to enable filter by Symbol from Server Side\r\n    // this.filterSubject.pipe(debounce(() => timer(1000))).subscribe(() => {\r\n    //   this.getReport(this.startDate, this.endDate, this.filterBySymbol, this.fund === 'All Funds' ? 'ALL' : this.fund);\r\n    // });\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.dataService.flag$.subscribe(obj => {\r\n      this.hideGrid = obj;\r\n      if (!this.hideGrid) {\r\n        // this.getFunds();\r\n      }\r\n    });\r\n  }\r\n\r\n  getLatestJournalDate() {\r\n    this.reportsApiService.getLatestJournalDate().subscribe(\r\n      date => {\r\n        if (date.isSuccessful && date.statusCode === 200) {\r\n          this.journalDate = date.payload[0].when;\r\n          this.startDate = this.journalDate;\r\n          this.selected = {\r\n            startDate: moment(this.startDate, 'YYYY-MM-DD'),\r\n            endDate: moment(this.startDate, 'YYYY-MM-DD')\r\n          };\r\n        }\r\n      },\r\n      error => {}\r\n    );\r\n  }\r\n\r\n  initGrid() {\r\n    this.gridOptions = {\r\n      rowData: null,\r\n      pinnedBottomRowData: [],\r\n      frameworkComponents: { customToolPanel: GridLayoutMenuComponent },\r\n      /* Custom Method Binding for External Filters from Grid Layout Component */\r\n      getExternalFilterState: this.getExternalFilterState.bind(this),\r\n      clearExternalFilter: this.clearFilters.bind(this),\r\n      setExternalFilter: this.isExternalFilterPassed.bind(this),\r\n      isExternalFilterPresent: this.isExternalFilterPresent.bind(this),\r\n      doesExternalFilterPass: this.doesExternalFilterPass.bind(this),\r\n      rowSelection: 'single',\r\n      rowGroupPanelShow: 'after',\r\n      animateRows: true,\r\n      enableFilter: true,\r\n      suppressHorizontalScroll: false,\r\n      suppressColumnVirtualisation: true,\r\n      alignedGrids: [],\r\n      getContextMenuItems: params => this.getContextMenuItems(params),\r\n      onGridReady: params => {\r\n        this.gridOptions.excelStyles = ExcelStyle;\r\n      },\r\n      onFirstDataRendered: params => {\r\n        params.api.forEachNode(node => {\r\n          node.expanded = true;\r\n        });\r\n        params.api.onGroupExpandedOrCollapsed();\r\n\r\n        GridUtils.autoSizeAllColumns(params);\r\n      },\r\n\r\n      columnDefs: [\r\n        {\r\n          field: 'SecurityId',\r\n          headerName: 'SecurityId'\r\n        },\r\n        {\r\n          field: 'SecurityCode',\r\n          headerName: 'Security Code'\r\n        },\r\n        {\r\n          field: 'SecurityType',\r\n          headerName: 'Security Type'\r\n        },\r\n        {\r\n          field: 'SecurityName',\r\n          headerName: 'Security Name'\r\n        },\r\n        {\r\n          field: 'ISIN',\r\n          headerName: 'ISIN'\r\n        },\r\n        {\r\n          field: 'side',\r\n          headerName: 'Side'\r\n        },\r\n        {\r\n          field: 'Fund',\r\n          headerName: 'Fund'\r\n        },\r\n        {\r\n          field: 'BusDate',\r\n          headerName: 'Business Date',\r\n          valueFormatter: dateFormatter\r\n        },\r\n        {\r\n          field: 'currency',\r\n          headerName: 'currency'\r\n        },\r\n        {\r\n          field: 'position',\r\n          headerName: 'position',\r\n          cellClass: 'rightAlign',\r\n          valueFormatter: currencyFormatter\r\n        },\r\n        {\r\n          field: 'realizedPnl',\r\n          headerName: 'Realized PnL',\r\n          cellClass: 'rightAlign',\r\n          valueFormatter: currencyFormatter\r\n        },\r\n        {\r\n          field: 'realizedPnl_FX',\r\n          headerName: 'Realized PnL FX',\r\n          cellClass: 'rightAlign',\r\n          valueFormatter: currencyFormatter\r\n        },\r\n        {\r\n          field: 'realizedPnl_Net',\r\n          headerName: 'Realized PnL Net',\r\n          cellClass: 'rightAlign',\r\n          valueFormatter: currencyFormatter\r\n        },\r\n        {\r\n          field: 'Cost',\r\n          headerName: 'Cost',\r\n          cellClass: 'rightAlign',\r\n          valueFormatter: currencyFormatter\r\n        },\r\n        {\r\n          field: 'unrealizedPnl',\r\n          headerName: 'Unrealized PnL',\r\n          cellClass: 'rightAlign',\r\n          valueFormatter: currencyFormatter\r\n        },\r\n        {\r\n          field: 'unrealizedPnl_FX',\r\n          headerName: 'Unrealized PnL FX',\r\n          cellClass: 'rightAlign',\r\n          valueFormatter: currencyFormatter\r\n        },\r\n        {\r\n          field: 'unrealizedPnl_FX_Translation',\r\n          headerName: 'Unrealized PnL FX Translation',\r\n          cellClass: 'rightAlign',\r\n          valueFormatter: currencyFormatter\r\n        },\r\n        {\r\n          field: 'unrealizedPnl_Net',\r\n          headerName: 'Unrealized PnL Net',\r\n          cellClass: 'rightAlign',\r\n          valueFormatter: currencyFormatter\r\n        },\r\n        {\r\n          field: 'market_Value',\r\n          headerName: 'Market Value',\r\n          cellClass: 'rightAlign',\r\n          valueFormatter: currencyFormatter\r\n        },\r\n        {\r\n          field: 'Pnl',\r\n          headerName: 'PnL',\r\n          cellClass: 'rightAlign',\r\n          valueFormatter: currencyFormatter\r\n        },\r\n        {\r\n          field: 'commission',\r\n          headerName: 'Commission',\r\n          cellClass: 'rightAlign',\r\n          valueFormatter: currencyFormatter\r\n        },\r\n        {\r\n          field: 'fees',\r\n          headerName: 'Fees',\r\n          cellClass: 'rightAlign',\r\n          valueFormatter: currencyFormatter\r\n        }\r\n      ],\r\n      defaultColDef: {\r\n        resizable: true,\r\n        sortable: true,\r\n        filter: true\r\n      }\r\n    };\r\n    this.gridOptions.sideBar = SideBar(\r\n      GridId.detailPnlDateId,\r\n      GridName.detailPnlDate,\r\n      this.gridOptions\r\n    );\r\n  }\r\n\r\n  // In case we add Funds filter later\r\n  // getFunds() {\r\n  //   this.financeService.getFunds().subscribe(result => {\r\n  //     this.funds = result.payload.map(item => ({\r\n  //       fundId: item.FundId,\r\n  //       fundCode: item.FundCode\r\n  //     }));\r\n  //   });\r\n  // }\r\n\r\n  // Being called twice\r\n  getReport(fromDate, toDate, symbol) {\r\n    this.gridOptions.api.showLoadingOverlay();\r\n    this.reportsApiService\r\n      .getDetailPnLToDateReport(\r\n        moment(fromDate).format('YYYY-MM-DD'),\r\n        moment(toDate).format('YYYY-MM-DD'),\r\n        symbol\r\n      )\r\n      .subscribe(\r\n        response => {\r\n          this.gridOptions.api.hideOverlay();\r\n\r\n          this.data = response.payload;\r\n          this.gridOptions.api.setRowData(this.data);\r\n\r\n          this.gridOptions.api.expandAll();\r\n          GridUtils.autoSizeAllColumns(this.gridOptions);\r\n        },\r\n        error => {\r\n          this.gridOptions.api.hideOverlay();\r\n        }\r\n      );\r\n  }\r\n\r\n  onRowSelected(event) {}\r\n\r\n  isExternalFilterPassed(object) {\r\n    const { fundFilter } = object;\r\n    const { symbolFilter } = object;\r\n    const { dateFilter } = object;\r\n\r\n    // In case we add Funds filter later\r\n    // this.fund = fundFilter !== undefined ? fundFilter : this.fund;\r\n\r\n    this.filterBySymbol = symbolFilter !== undefined ? symbolFilter : this.filterBySymbol;\r\n    this.setDateRange(dateFilter);\r\n\r\n    this.gridOptions.api.onFilterChanged();\r\n  }\r\n\r\n  isExternalFilterPresent(): boolean {\r\n    // In case we add Funds filter later\r\n    // if (this.fund !== 'All Funds' || this.startDate || this.filterBySymbol !== '') {\r\n    //   return true;\r\n    // }\r\n\r\n    if (this.startDate || this.filterBySymbol !== '') {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  doesExternalFilterPass(node: any) {\r\n    // Client Side Filters\r\n    // if (this.fund !== 'All Funds' && this.filterBySymbol !== '' && this.startDate) {\r\n    //   const cellFund = node.data.fund;\r\n    //   const cellSymbol = node.data.symbol === null ? '' : node.data.symbol;\r\n    //   const cellDate = moment(node.data.trade_date).format('YYYY-MM-DD');\r\n    //   return (\r\n    //     cellFund === this.fund &&\r\n    //     cellSymbol.toLowerCase().includes(this.filterBySymbol.toLowerCase()) &&\r\n    //     this.startDate <= cellDate &&\r\n    //     this.endDate >= cellDate\r\n    //   );\r\n    // }\r\n    // if (this.fund !== 'All Funds' && this.filterBySymbol !== '') {\r\n    //   const cellFund = node.data.fund;\r\n    //   const cellSymbol = node.data.symbol === null ? '' : node.data.symbol;\r\n    //   return cellFund === this.fund && cellSymbol.includes(this.filterBySymbol);\r\n    // }\r\n    // if (this.fund !== 'All Funds' && this.startDate) {\r\n    //   const cellFund = node.data.fund;\r\n    //   const cellDate = moment(node.data.trade_date).format('YYYY-MM-DD');\r\n    //   return cellFund === this.fund && this.startDate <= cellDate && this.endDate >= cellDate;\r\n    // }\r\n    // if (this.filterBySymbol !== '' && this.startDate) {\r\n    //   const cellSymbol = node.data.symbol === null ? '' : node.data.symbol;\r\n    //   const cellDate = moment(node.data.trade_date).format('YYYY-MM-DD');\r\n    //   return (\r\n    //     cellSymbol.toLowerCase().includes(this.filterBySymbol.toLowerCase()) &&\r\n    //     this.startDate <= cellDate &&\r\n    //     this.endDate >= cellDate\r\n    //   );\r\n    // }\r\n    // if (this.fund !== 'All Funds') {\r\n    //   const cellFund = node.data.fund;\r\n    //   return cellFund === this.fund;\r\n    // }\r\n    // if (this.startDate) {\r\n    //   const cellDate = moment(node.data.trade_date).format('YYYY-MM-DD');\r\n    //   return this.startDate <= cellDate && this.endDate >= cellDate;\r\n    // }\r\n    if (this.filterBySymbol !== '') {\r\n      const cellSymbol = node.data.SecurityCode === null ? '' : node.data.SecurityCode;\r\n      return cellSymbol.toLowerCase().includes(this.filterBySymbol.toLowerCase());\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  getContextMenuItems(params): Array<ContextMenu> {\r\n    const addDefaultItems = [\r\n      {\r\n        name: 'Corporate Actions',\r\n        subMenu: [\r\n          {\r\n            name: 'Create Dividend',\r\n            action: () => {\r\n              this.dividendModal.openDividendModalFromOutside(params.node.data.symbol);\r\n            }\r\n          },\r\n          {\r\n            name: 'Create Stock Split',\r\n            action: () => {\r\n              this.stockSplitsModal.openStockSplitModalFromOutside(params.node.data.symbol);\r\n            }\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        name: 'Security Details',\r\n        subMenu: [\r\n          {\r\n            name: 'Extend',\r\n            action: () => {\r\n              this.isLoading = true;\r\n\r\n              this.securityApiService.getDataForSecurityModal(params.node.data.SecurityCode).subscribe(\r\n                ([config, securityDetails]: [any, any]) => {\r\n\r\n                  this.isLoading = false;\r\n                  if (!config.isSuccessful) {\r\n                  this.toastrService.error('No security type found against the selected symbol!');\r\n                  return;\r\n                }\r\n                  if (securityDetails.payload.length === 0) {\r\n                  this.securityModal.openSecurityModalFromOutside(params.node.data.SecurityCode,\r\n                    config.payload[0].SecurityType, config.payload[0].Fields, null, 'extend');\r\n                } else {\r\n                  this.securityModal.openSecurityModalFromOutside(params.node.data.SecurityCode,\r\n                    config.payload[0].SecurityType, config.payload[0].Fields, securityDetails.payload[0], 'extend');\r\n                }\r\n\r\n                },\r\n                error => {\r\n                  this.isLoading = false;\r\n                }\r\n              );\r\n            }\r\n          }\r\n        ]\r\n      }\r\n    ];\r\n\r\n    // (isDefaultItems, addDefaultItem, isCustomItems, addCustomItems, params)\r\n    return GetContextMenu(false, addDefaultItems, true, null, params);\r\n  }\r\n\r\n  setDateRange(dateFilter: any) {\r\n    const dates = SetDateRange(dateFilter, this.startDate, this.endDate);\r\n    this.startDate = dates[0];\r\n    this.endDate = dates[1];\r\n\r\n    this.selected =\r\n      dateFilter.startDate !== '' ? { startDate: this.startDate, endDate: this.endDate } : null;\r\n  }\r\n\r\n  getRangeLabel() {\r\n    this.DateRangeLabel = '';\r\n    this.DateRangeLabel = GetDateRangeLabel(this.startDate, this.endDate);\r\n  }\r\n\r\n  refreshReport() {\r\n    this.gridOptions.api.showLoadingOverlay();\r\n\r\n    if (this.selected.startDate == null) {\r\n      this.selected = {\r\n        startDate: moment(this.journalDate, 'YYYY-MM-DD'),\r\n        endDate: moment(this.journalDate, 'YYYY-MM-DD')\r\n      };\r\n      this.getReport(this.journalDate, this.journalDate, this.filterBySymbol);\r\n    } else {\r\n      const startDate = this.selected.startDate.format('YYYY-MM-DD');\r\n      const endDate = this.selected.endDate.format('YYYY-MM-DD');\r\n      this.getReport(startDate, endDate, this.filterBySymbol);\r\n    }\r\n  }\r\n\r\n  clearFilters() {\r\n    // this.fund = 'All Funds';\r\n\r\n    this.DateRangeLabel = '';\r\n    this.selected = null;\r\n    this.filterBySymbol = '';\r\n\r\n    // Client Side Filters\r\n    // this.gridOptions.api.setRowData(this.data);\r\n    // Server Side Filters\r\n    this.gridOptions.api.setRowData([]);\r\n  }\r\n\r\n  ngModelChangeSymbol(e) {\r\n    this.filterBySymbol = e;\r\n    this.gridOptions.api.onFilterChanged();\r\n  }\r\n\r\n  onSymbolKey(e) {\r\n    this.filterBySymbol = e.srcElement.value;\r\n    this.gridOptions.api.onFilterChanged();\r\n\r\n    // For the moment we react to each key stroke\r\n    if (e.code === 'Enter' || e.code === 'Tab') {\r\n    }\r\n  }\r\n\r\n  getExternalFilterState() {\r\n    return {\r\n      // In case we add Funds filter later\r\n      // fundFilter: this.fund,\r\n      symbolFilter: this.filterBySymbol,\r\n      dateFilter: { startDate: this.startDate, endDate: this.endDate }\r\n    };\r\n  }\r\n\r\n  changeDate(selectedDate) {\r\n    if (!selectedDate.startDate) {\r\n      return;\r\n    }\r\n    this.startDate = selectedDate.startDate.format('YYYY-MM-DD');\r\n    this.endDate = selectedDate.endDate.format('YYYY-MM-DD');\r\n    // In case we need to enable filter from Server Side\r\n    this.getReport(\r\n      this.startDate,\r\n      this.endDate,\r\n      this.filterBySymbol\r\n\r\n      // In case we add Funds filter later\r\n      // this.fund === 'All Funds' ? 'ALL' : this.fund\r\n    );\r\n    this.getRangeLabel();\r\n    // this.gridOptions.api.onFilterChanged();\r\n  }\r\n\r\n  changeFund(selectedFund) {\r\n    // In case we add Funds filter later\r\n    // this.fund = selectedFund;\r\n\r\n    // In case we need to enable from Server Side\r\n    this.getReport(\r\n      this.startDate,\r\n      this.endDate,\r\n      this.filterBySymbol\r\n\r\n      // In case we add Funds filter later\r\n      // this.fund === 'All Funds' ? 'ALL' : this.fund\r\n    );\r\n    // this.gridOptions.api.onFilterChanged();\r\n  }\r\n\r\n  onBtExport() {\r\n    const params = {\r\n      fileName: 'Tax Lot Reports',\r\n      sheetName: 'First Sheet'\r\n    };\r\n    this.gridOptions.api.exportDataAsExcel(params);\r\n    this.downloadExcelUtils.ToastrMessage();\r\n  }\r\n}\r\n\r\nfunction currencyFormatter(params) {\r\n  if (params.value === undefined) {\r\n    return;\r\n  }\r\n  return CommaSeparatedFormat(params.value);\r\n}\r\n\r\nfunction dateFormatter(params) {\r\n  if (params.value === undefined) {\r\n    return;\r\n  }\r\n  return DateFormatter(params.value);\r\n}\r\n","export default \".grid-height {\\n  height: calc(100% - 24px);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9yZWNvbmNpbGlhdGlvbi9mdW5kYWRtaW4tcmVjb25jaWxlL0M6XFxVc2Vyc1xcbGF0dGlcXGRldmVsb3BtZW50XFxsaWdodHBvaW50XFxmaW5hbmNlXFx1aS9zcmNcXGFwcFxcbWFpblxccmVjb25jaWxpYXRpb25cXGZ1bmRhZG1pbi1yZWNvbmNpbGVcXGZ1bmRhZG1pbi1yZWNvbmNpbGUuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21haW4vcmVjb25jaWxpYXRpb24vZnVuZGFkbWluLXJlY29uY2lsZS9mdW5kYWRtaW4tcmVjb25jaWxlLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UseUJBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL21haW4vcmVjb25jaWxpYXRpb24vZnVuZGFkbWluLXJlY29uY2lsZS9mdW5kYWRtaW4tcmVjb25jaWxlLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmdyaWQtaGVpZ2h0IHtcclxuICBoZWlnaHQ6IGNhbGMoMTAwJSAtIDI0cHgpO1xyXG59XHJcbiIsIi5ncmlkLWhlaWdodCB7XG4gIGhlaWdodDogY2FsYygxMDAlIC0gMjRweCk7XG59Il19 */\"","import { Component, OnInit, AfterViewInit, ViewChild } from '@angular/core';\r\nimport { GridOptions, ColDef, ColGroupDef, RowDoubleClickedEvent } from 'ag-grid-community';\r\nimport { finalize } from 'rxjs/operators';\r\nimport * as moment from 'moment';\r\nimport { GridLayoutMenuComponent, CustomGridOptions } from 'lp-toolkit';\r\nimport { GridId, GridName } from 'src/shared/utils/AppEnums';\r\nimport { DataGridModalComponent } from 'src/shared/Component/data-grid-modal/data-grid-modal.component';\r\nimport { CreateSecurityComponent } from 'src/shared/Modal/create-security/create-security.component';\r\nimport { DataService } from '../../../../services/common/data.service';\r\nimport { FinanceServiceProxy } from '../../../../services/service-proxies';\r\nimport { ReportsApiService } from 'src/services/reports-api.service';\r\nimport { SecurityApiService } from 'src/services/security-api.service';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { Fund } from '../../../../shared/Models/account';\r\nimport { DataDictionary } from 'src/shared/utils/DataDictionary';\r\nimport { AgGridUtils } from 'src/shared/utils/AgGridUtils';\r\nimport { ContextMenu } from 'src/shared/Models/common';\r\nimport { GetContextMenu } from 'src/shared/utils/ContextMenu';\r\nimport { DownloadExcelUtils } from 'src/shared/utils/DownloadExcelUtils';\r\nimport {\r\n  CalTotalRecords,\r\n  SideBar,\r\n  Ranges,\r\n  GetDateRangeLabel,\r\n  SetDateRange,\r\n  Style,\r\n  HeightStyle,\r\n  ExcelStyle,\r\n  LegendColors,\r\n  dateFormatter,\r\n  CommaSeparatedFormat,\r\n  moneyFormatter,\r\n  pnlFormatter\r\n} from 'src/shared/utils/Shared';\r\n\r\n@Component({\r\n  selector: 'rep-fundadmin-reconcile',\r\n  templateUrl: './fundadmin-reconcile.component.html',\r\n  styleUrls: ['./fundadmin-reconcile.component.scss']\r\n})\r\nexport class FundAdminReconcileComponent implements OnInit, AfterViewInit {\r\n  @ViewChild('dataGridModal', { static: false }) dataGridModal: DataGridModalComponent;\r\n  @ViewChild('securityModal', { static: false }) securityModal: CreateSecurityComponent;\r\n\r\n  gridOptions: CustomGridOptions;\r\n  portfolioOptions: GridOptions;\r\n  bookmonOptions: GridOptions;\r\n  action: {\r\n    reconciledGridSize: number;\r\n    accountingBookMonSize: number;\r\n    reconciledGridView: boolean;\r\n    accountingBookMonView: boolean;\r\n    useTransition: boolean;\r\n  } = {\r\n    reconciledGridSize: 50,\r\n    accountingBookMonSize: 50,\r\n    reconciledGridView: true,\r\n    accountingBookMonView: false,\r\n    useTransition: true\r\n  };\r\n\r\n  gridColumnApi;\r\n  pinnedBottomRowData;\r\n  fund: any = 'All Funds';\r\n  funds: Fund;\r\n  DateRangeLabel: string;\r\n  selectedDate: any;\r\n  startDate: Date;\r\n  endDate: Date;\r\n  maxDate: moment.Moment;\r\n  isLoading = false;\r\n  hideGrid: boolean;\r\n  chartData: any;\r\n  netpnlData: any;\r\n  unrealizedData: any;\r\n  realizedData: any;\r\n  cbData: any;\r\n  bData: any;\r\n  qData: any;\r\n  title: string;\r\n\r\n  filterBySymbol = '';\r\n\r\n  reconciledData: any;\r\n  bookmonData: any;\r\n  portfolioData: any;\r\n  showNonZeroBtn = false;\r\n  showNotInAccountingBtn = false;\r\n  showNotInBookMonBtn = false;\r\n\r\n  ranges: any = Ranges;\r\n\r\n  style = Style;\r\n\r\n  styleForHeight = HeightStyle(248);\r\n\r\n  journalDate: any;\r\n\r\n  processingMsgDiv = {\r\n    border: '1px solid #eee',\r\n    padding: '4px',\r\n    marginTop: '20px',\r\n    width: '100%',\r\n    height: 'calc(100vh - 125px)',\r\n    boxSizing: 'border-box'\r\n  };\r\n\r\n  constructor(\r\n    private financeService: FinanceServiceProxy,\r\n    private reportsApiService: ReportsApiService,\r\n    private dataService: DataService,\r\n    private securityApiService: SecurityApiService,\r\n    private toastrService: ToastrService,\r\n    private downloadExcelUtils: DownloadExcelUtils,\r\n    public dataDictionary: DataDictionary,\r\n    private agGridUtils: AgGridUtils\r\n  ) {\r\n    this.hideGrid = false;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.initGrid();\r\n    this.getLatestJournalDate();\r\n    this.getFunds();\r\n    this.maxDate = moment();\r\n  }\r\n\r\n  getLatestJournalDate() {\r\n    this.reportsApiService.getLatestJournalDate().subscribe(\r\n      date => {\r\n        if (date.isSuccessful && date.statusCode === 200) {\r\n          this.journalDate = date.payload[0].when;\r\n          this.startDate = this.journalDate;\r\n          this.selectedDate = {\r\n            startDate: moment(this.startDate, 'YYYY-MM-DD'),\r\n            endDate: moment(this.startDate, 'YYYY-MM-DD')\r\n          };\r\n        } else {\r\n        }\r\n      },\r\n      error => {}\r\n    );\r\n  }\r\n\r\n  initGrid() {\r\n    this.gridOptions = {\r\n      rowData: [],\r\n      pinnedBottomRowData: [],\r\n      frameworkComponents: { customToolPanel: GridLayoutMenuComponent },\r\n      /* Custom Method Binding for External Filters from Grid Layout Component */\r\n      getExternalFilterState: this.getExternalFilterState.bind(this),\r\n      clearExternalFilter: this.clearFilters.bind(this),\r\n      setExternalFilter: this.isExternalFilterPassed.bind(this),\r\n      isExternalFilterPresent: this.isExternalFilterPresent.bind(this),\r\n      doesExternalFilterPass: this.doesExternalFilterPass.bind(this),\r\n      onFilterChanged: this.onFilterChanged.bind(this),\r\n      onCellClicked: this.rowSelected.bind(this),\r\n      onRowDoubleClicked: this.onRowDoubleClicked.bind(this),\r\n      rowSelection: 'single',\r\n      rowGroupPanelShow: 'after',\r\n      enableFilter: true,\r\n      animateRows: true,\r\n      suppressHorizontalScroll: false,\r\n      suppressColumnVirtualisation: true,\r\n      alignedGrids: [],\r\n      getContextMenuItems: params => this.getContextMenuItems(params),\r\n      onGridReady: params => {\r\n        this.gridColumnApi = params.columnApi;\r\n        this.gridOptions.excelStyles = ExcelStyle;\r\n      },\r\n      onFirstDataRendered: params => {\r\n        params.api.forEachNode(node => {\r\n          node.expanded = true;\r\n        });\r\n        params.api.onGroupExpandedOrCollapsed();\r\n      },\r\n      getRowStyle: params => {\r\n        let style = {};\r\n        if (params.data.nonZero) {\r\n          style = LegendColors.nonZeroStyle;\r\n        }\r\n        if (params.data.notInBookMon) {\r\n          style = LegendColors.notInBookMonStyle;\r\n        }\r\n        if (params.data.notInAccounting) {\r\n          style = LegendColors.notInAccountingStyle;\r\n        }\r\n\r\n        return style;\r\n      },\r\n      columnDefs: [\r\n        {\r\n          field: 'Symbol',\r\n          width: 120,\r\n          headerName: 'Symbol',\r\n          sortable: true,\r\n          filter: true\r\n        },\r\n        {\r\n          field: 'SecurityType',\r\n          width: 120,\r\n          headerName: 'Security Type',\r\n          sortable: true,\r\n          filter: true\r\n        },\r\n        {\r\n          field: 'Fund',\r\n          width: 120,\r\n          headerName: 'Fund',\r\n          sortable: true,\r\n          filter: true\r\n        },\r\n        {\r\n          field: 'Diff_Quantity',\r\n          headerName: 'Quantity Diff',\r\n          cellClass: 'rightAlign',\r\n          sortable: true,\r\n          filter: true,\r\n          width: 120,\r\n          valueFormatter: currencyFormatter\r\n        },\r\n        {\r\n          field: 'Diff_DayPnl',\r\n          headerName: 'Day Pnl',\r\n          cellClass: 'rightAlign',\r\n          sortable: true,\r\n          filter: true,\r\n          width: 120,\r\n          valueFormatter: pnlFormatter\r\n        },\r\n        {\r\n          field: 'Diff_MTDPnl',\r\n          headerName: 'MTD Pnl',\r\n          cellClass: 'rightAlign',\r\n          sortable: true,\r\n          filter: true,\r\n          width: 120,\r\n          valueFormatter: pnlFormatter\r\n        },\r\n        {\r\n          field: 'Diff_YTDPnl',\r\n          headerName: 'YTD Pnl',\r\n          cellClass: 'rightAlign',\r\n          sortable: true,\r\n          filter: true,\r\n          width: 120,\r\n          valueFormatter: pnlFormatter\r\n        },\r\n        {\r\n          field: 'Currency',\r\n          width: 50,\r\n          headerName: 'Currency',\r\n          sortable: true,\r\n          filter: true\r\n        },\r\n        {\r\n          headerName: 'Id',\r\n          field: 'id',\r\n          hide: true\r\n        },\r\n        {\r\n          headerName: 'Non-zero',\r\n          field: 'nonZero',\r\n          hide: true\r\n        },\r\n        {\r\n          headerName: 'Not in BookMon',\r\n          field: 'notInBookMon',\r\n          hide: true\r\n        },\r\n        {\r\n          headerName: 'Not in Accounting',\r\n          field: 'notInAccounting',\r\n          hide: true\r\n        }\r\n      ],\r\n      defaultColDef: {\r\n        sortable: true,\r\n        resizable: true,\r\n        filter: true\r\n      }\r\n    };\r\n    this.gridOptions.sideBar = SideBar(\r\n      GridId.fundAdminReconcileId,\r\n      GridName.fundAdminReconcile,\r\n      this.gridOptions\r\n    );\r\n\r\n    this.bookmonOptions = {\r\n      rowData: [],\r\n      pinnedBottomRowData: [],\r\n      frameworkComponents: { customToolPanel: GridLayoutMenuComponent },\r\n      onCellClicked: this.rowSelected.bind(this),\r\n      rowSelection: 'single',\r\n      rowGroupPanelShow: 'after',\r\n      enableFilter: true,\r\n      animateRows: true,\r\n      suppressHorizontalScroll: false,\r\n      suppressColumnVirtualisation: true,\r\n      alignedGrids: [],\r\n      getContextMenuItems: params => this.getContextMenuItems(params),\r\n      onGridReady: params => {\r\n        this.gridColumnApi = params.columnApi;\r\n        this.gridOptions.excelStyles = ExcelStyle;\r\n      },\r\n      onFirstDataRendered: params => {\r\n        params.api.forEachNode(node => {\r\n          node.expanded = true;\r\n        });\r\n        params.api.onGroupExpandedOrCollapsed();\r\n      },\r\n      columnDefs: [\r\n        {\r\n          field: 'SecurityCode',\r\n          width: 120,\r\n          headerName: 'Symbol',\r\n          sortable: true,\r\n          filter: true\r\n        },\r\n        {\r\n          field: 'Fund',\r\n          width: 120,\r\n          headerName: 'Fund',\r\n          sortable: true,\r\n          filter: true\r\n        },\r\n        {\r\n          field: 'Quantity',\r\n          headerName: 'Quantity',\r\n          cellClass: 'rightAlign',\r\n          sortable: true,\r\n          filter: true,\r\n          width: 120,\r\n          valueFormatter: currencyFormatter\r\n        },\r\n        {\r\n          field: 'DayPnl',\r\n          headerName: 'Day Pnl',\r\n          cellClass: 'rightAlign',\r\n          sortable: true,\r\n          filter: true,\r\n          width: 120,\r\n          valueFormatter: pnlFormatter\r\n        },\r\n        {\r\n          field: 'MTDPnl',\r\n          headerName: 'MTD Pnl',\r\n          cellClass: 'rightAlign',\r\n          sortable: true,\r\n          filter: true,\r\n          width: 120,\r\n          valueFormatter: pnlFormatter\r\n        },\r\n        {\r\n          field: 'YTDPnl',\r\n          headerName: 'YTD Pnl',\r\n          cellClass: 'rightAlign',\r\n          sortable: true,\r\n          filter: true,\r\n          width: 120,\r\n          valueFormatter: pnlFormatter\r\n        },\r\n        {\r\n          field: 'Currency',\r\n          width: 50,\r\n          headerName: 'Currency',\r\n          sortable: true,\r\n          filter: true\r\n        }\r\n      ],\r\n      defaultColDef: {\r\n        sortable: true,\r\n        resizable: true,\r\n        filter: true\r\n      }\r\n    } as GridOptions;\r\n\r\n    this.portfolioOptions = {\r\n      rowData: [],\r\n      pinnedBottomRowData: [],\r\n      frameworkComponents: { customToolPanel: GridLayoutMenuComponent },\r\n      onCellClicked: this.rowSelected.bind(this),\r\n      onRowDoubleClicked: this.onRowDoubleClickedSymbol.bind(this),\r\n      rowSelection: 'single',\r\n      rowGroupPanelShow: 'after',\r\n      enableFilter: true,\r\n      animateRows: true,\r\n      suppressHorizontalScroll: false,\r\n      suppressColumnVirtualisation: true,\r\n      alignedGrids: [],\r\n      getContextMenuItems: params => this.getContextMenuItems(params),\r\n      onGridReady: params => {\r\n        this.gridColumnApi = params.columnApi;\r\n        this.gridOptions.excelStyles = ExcelStyle;\r\n      },\r\n      onFirstDataRendered: params => {\r\n        params.api.forEachNode(node => {\r\n          node.expanded = true;\r\n        });\r\n        params.api.onGroupExpandedOrCollapsed();\r\n      },\r\n      columnDefs: [\r\n        {\r\n          field: 'SecurityCode',\r\n          width: 120,\r\n          headerName: 'Symbol',\r\n          sortable: true,\r\n          filter: true\r\n        },\r\n        {\r\n          field: 'Fund',\r\n          width: 120,\r\n          headerName: 'Fund',\r\n          sortable: true,\r\n          filter: true\r\n        },\r\n        {\r\n          field: 'Quantity',\r\n          headerName: 'Quantity',\r\n          cellClass: 'rightAlign',\r\n          sortable: true,\r\n          filter: true,\r\n          width: 120,\r\n          valueFormatter: currencyFormatter\r\n        },\r\n        {\r\n          field: 'DayPnl',\r\n          headerName: 'Day Pnl',\r\n          cellClass: 'rightAlign',\r\n          sortable: true,\r\n          filter: true,\r\n          width: 120,\r\n          valueFormatter: pnlFormatter\r\n        },\r\n        {\r\n          field: 'MtdPnl',\r\n          headerName: 'MTD Pnl',\r\n          cellClass: 'rightAlign',\r\n          sortable: true,\r\n          filter: true,\r\n          width: 120,\r\n          valueFormatter: pnlFormatter\r\n        },\r\n        {\r\n          field: 'YtdPnl',\r\n          headerName: 'YTD Pnl',\r\n          cellClass: 'rightAlign',\r\n          sortable: true,\r\n          filter: true,\r\n          width: 120,\r\n          valueFormatter: pnlFormatter\r\n        },\r\n\r\n        {\r\n          field: 'Currency',\r\n          width: 50,\r\n          headerName: 'Currency',\r\n          sortable: true,\r\n          filter: true\r\n        }\r\n      ],\r\n      defaultColDef: {\r\n        sortable: true,\r\n        resizable: true,\r\n        filter: true\r\n      }\r\n    } as GridOptions;\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.dataService.flag$.subscribe(obj => {\r\n      this.hideGrid = obj;\r\n      if (!this.hideGrid) {\r\n      }\r\n    });\r\n  }\r\n\r\n  getFunds() {\r\n    this.financeService.getFunds().subscribe(result => {\r\n      this.funds = result.payload.map(item => ({\r\n        fundId: item.FundId,\r\n        fundCode: item.FundCode\r\n      }));\r\n    });\r\n  }\r\n\r\n  // Being called twice\r\n  getReport(date, fund) {\r\n    this.isLoading = true;\r\n    this.gridOptions.api.showLoadingOverlay();\r\n    this.reportsApiService\r\n      .getFundAdminReconReport(moment(date).format('YYYY-MM-DD'), fund)\r\n      .subscribe(response => {\r\n        this.reconciledData = this.setIdentifierForReconDataAndCheckMissingRows(\r\n          response.payload[0],\r\n          response.payload[1],\r\n          response.payload[2]\r\n        );\r\n        this.portfolioData = response.payload[1];\r\n        this.bookmonData = response.payload[2];\r\n\r\n        this.gridOptions.api.setRowData(this.reconciledData);\r\n        this.gridOptions.api.sizeColumnsToFit();\r\n\r\n        this.portfolioOptions.api.setRowData(this.portfolioData);\r\n        this.portfolioOptions.api.sizeColumnsToFit();\r\n\r\n        this.bookmonOptions.api.setRowData(this.bookmonData);\r\n        this.bookmonOptions.api.sizeColumnsToFit();\r\n\r\n        this.isLoading = false;\r\n      });\r\n  }\r\n\r\n  setIdentifierForReconDataAndCheckMissingRows(reconData, accountingData, bookMonData) {\r\n    let i = 0;\r\n    const modifiedReconData = reconData.map(x => ({\r\n      ...x,\r\n      id: i++,\r\n      ...(x.Diff_Quantity !== 0 || x.Diff_DayPnl !== 0 || x.Diff_MTDPnl !== 0 || x.Diff_YTDPnl !== 0\r\n        ? { nonZero: true }\r\n        : { nonZero: false }),\r\n      ...(accountingData.find(y => y.SecurityCode === x.Symbol) === undefined\r\n        ? { notInAccounting: true }\r\n        : { notInAccounting: false }),\r\n      ...(bookMonData.find(y => y.SecurityCode === x.Symbol) === undefined\r\n        ? { notInBookMon: true }\r\n        : { notInBookMon: false })\r\n    }));\r\n\r\n    this.showNonZeroBtn =\r\n      (modifiedReconData.find(data => data.nonZero === true) || {}).nonZero || false;\r\n    this.showNotInAccountingBtn =\r\n      (modifiedReconData.find(data => data.notInAccounting === true) || {}).notInAccounting ||\r\n      false;\r\n    this.showNotInBookMonBtn =\r\n      (modifiedReconData.find(data => data.notInBookMon === true) || {}).notInBookMon || false;\r\n\r\n    return modifiedReconData;\r\n  }\r\n\r\n  rowSelected(row) {\r\n    const { symbol } = row.data;\r\n    let mySymbol = row.data.Symbol;\r\n\r\n    this.bookmonOptions.api.forEachNodeAfterFilter((rowNode, index) => {\r\n      if (rowNode.data.SecurityCode === mySymbol) {\r\n        rowNode.setSelected(true);\r\n        this.bookmonOptions.api.ensureIndexVisible(rowNode.rowIndex);\r\n      } else {\r\n        rowNode.setSelected(false);\r\n      }\r\n    });\r\n\r\n    this.portfolioOptions.api.forEachNodeAfterFilter((rowNode, index) => {\r\n      if (rowNode.data.SecurityCode === mySymbol) {\r\n        rowNode.setSelected(true);\r\n        this.portfolioOptions.api.ensureIndexVisible(rowNode.rowIndex);\r\n      } else {\r\n        rowNode.setSelected(false);\r\n      }\r\n    });\r\n  }\r\n\r\n  onRowDoubleClicked(params: RowDoubleClickedEvent) {\r\n    this.gridOptions.api.showLoadingOverlay();\r\n    this.openDataGridModal(params.data);\r\n  }\r\n\r\n  openDataGridModal(rowData: any) {\r\n    const { Symbol } = rowData;\r\n    this.reportsApiService\r\n      .getTaxLotReport(null, null, Symbol, null, false)\r\n      .pipe(finalize(() => this.gridOptions.api.hideOverlay()))\r\n      .subscribe(response => {\r\n        const { payload } = response;\r\n        const columns = this.getTaxLotColDefs();\r\n\r\n        this.title = 'Tax Lot Status';\r\n        this.dataGridModal.openModal(columns, payload);\r\n      });\r\n  }\r\n\r\n  onRowDoubleClickedSymbol(params: RowDoubleClickedEvent) {\r\n    const cellFocused = this.portfolioOptions.api.getFocusedCell().column.getColDef().field;\r\n\r\n    if (cellFocused === 'DayPnl') {\r\n      const cellHeaderName = 'day';\r\n      this.openDataGridModalSymbol(params.data, cellHeaderName);\r\n    } else if (cellFocused === 'MtdPnl') {\r\n      const cellHeaderName = 'mtd';\r\n      this.openDataGridModalSymbol(params.data, cellHeaderName);\r\n    } else {\r\n      const cellHeaderName = 'ytd';\r\n      this.openDataGridModalSymbol(params.data, cellHeaderName);\r\n    }\r\n  }\r\n\r\n  openDataGridModalSymbol(rowData: any, period) {\r\n    const { SecurityCode } = rowData;\r\n    this.reportsApiService\r\n      .getPeriodJournals(SecurityCode, this.startDate, period)\r\n      .pipe(finalize(() => this.gridOptions.api.hideOverlay()))\r\n      .subscribe(response => {\r\n        const { payload, meta } = response;\r\n        const someArray = this.agGridUtils.columizeData(payload, meta.Columns);\r\n        const columns = this.getTradeJournalColDefs(meta.Columns);\r\n\r\n        this.title = 'Trade Journals';\r\n        this.dataGridModal.openModal(columns, someArray);\r\n      });\r\n  }\r\n\r\n  getTradeJournalColDefs(columns): Array<ColDef | ColGroupDef> {\r\n    const colDefs: Array<ColDef> = [\r\n      this.dataDictionary.column('debit', false),\r\n      this.dataDictionary.column('credit', false),\r\n      this.dataDictionary.column('balance', false),\r\n      this.dataDictionary.column('when', false),\r\n      this.dataDictionary.column('end_price', false),\r\n      this.dataDictionary.column('start_price', false),\r\n      {\r\n        field: 'fund',\r\n        headerName: 'Fund',\r\n        enableRowGroup: true,\r\n        sortable: true,\r\n        filter: true\r\n      },\r\n      {\r\n        field: 'AccountCategory',\r\n        width: 120,\r\n        headerName: 'Category',\r\n        enableRowGroup: true,\r\n        sortable: true,\r\n        filter: true\r\n      },\r\n      {\r\n        field: 'event',\r\n        width: 120,\r\n        headerName: 'Event',\r\n        rowGroup: true,\r\n        enableRowGroup: true,\r\n        sortable: true,\r\n        filter: true\r\n      },\r\n      {\r\n        field: 'AccountType',\r\n        width: 120,\r\n        headerName: 'Type',\r\n        enableRowGroup: true,\r\n        sortable: true,\r\n        filter: true\r\n      },\r\n      {\r\n        field: 'AccountName',\r\n        width: 120,\r\n        headerName: 'Account Name',\r\n        enableRowGroup: true,\r\n        sortable: true,\r\n        filter: true\r\n      },\r\n      {\r\n        field: 'AccountDescription',\r\n        width: 120,\r\n        headerName: 'Account Description',\r\n        enableRowGroup: true,\r\n        sortable: true,\r\n        filter: true\r\n      }\r\n    ];\r\n\r\n    return this.agGridUtils.customizeColumns(\r\n      colDefs,\r\n      columns,\r\n      ['account_id', 'id', 'value', 'source', 'generated_by', 'Id', 'AllocationId', 'EMSOrderId'],\r\n      false\r\n    );\r\n  }\r\n\r\n  getTaxLotColDefs(): Array<ColDef | ColGroupDef> {\r\n    return [\r\n      {\r\n        field: 'open_id',\r\n        headerName: 'Order Id',\r\n        hide: true\r\n      },\r\n      {\r\n        field: 'trade_date',\r\n        headerName: 'Trade Date',\r\n        sortable: true,\r\n        filter: true,\r\n        valueFormatter: dateFormatter\r\n      },\r\n      {\r\n        field: 'symbol',\r\n        headerName: 'Symbol',\r\n        rowGroup: true,\r\n        sortable: true,\r\n        filter: true\r\n      },\r\n      {\r\n        field: 'status',\r\n        headerName: 'Status',\r\n        sortable: true,\r\n        filter: true\r\n      },\r\n      {\r\n        field: 'side',\r\n        headerName: 'Side',\r\n        sortable: true,\r\n        filter: true\r\n      },\r\n      {\r\n        field: 'original_quantity',\r\n        headerName: 'Orig Qty',\r\n        filter: true,\r\n        sortable: true,\r\n        cellClass: 'rightAlign',\r\n        valueFormatter: currencyFormatter,\r\n        aggFunc: 'sum'\r\n      },\r\n      {\r\n        field: 'quantity',\r\n        headerName: 'Rem Qty',\r\n        filter: true,\r\n        sortable: true,\r\n        cellClass: 'rightAlign',\r\n        valueFormatter: currencyFormatter,\r\n        aggFunc: 'sum'\r\n      },\r\n      {\r\n        field: 'investment_at_cost',\r\n        headerName: 'Investment @ Cost',\r\n        width: 100,\r\n        filter: true,\r\n        sortable: true,\r\n        cellClass: 'rightAlign',\r\n        valueFormatter: moneyFormatter\r\n      }\r\n    ];\r\n  }\r\n\r\n  onFilterChanged() {\r\n    this.pinnedBottomRowData = CalTotalRecords(this.gridOptions);\r\n    this.gridOptions.api.setPinnedBottomRowData(this.pinnedBottomRowData);\r\n  }\r\n\r\n  isExternalFilterPassed(object) {\r\n    const { fundFilter } = object;\r\n    const { symbolFilter } = object;\r\n    const { dateFilter } = object;\r\n    this.fund = fundFilter !== undefined ? fundFilter : this.fund;\r\n    this.filterBySymbol = symbolFilter !== undefined ? symbolFilter : this.filterBySymbol;\r\n    this.setDateRange(dateFilter);\r\n    this.getReport(this.startDate, this.fund);\r\n    this.gridOptions.api.onFilterChanged();\r\n  }\r\n\r\n  isExternalFilterPresent() {\r\n    if (this.fund !== 'All Funds' || this.startDate || this.filterBySymbol !== '') {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  doesExternalFilterPass(node: any) {\r\n    if (this.filterBySymbol !== '') {\r\n      const cellSymbol = node.data.Symbol === null ? '' : node.data.Symbol;\r\n      return cellSymbol.toLowerCase().includes(this.filterBySymbol.toLowerCase());\r\n    }\r\n    return true;\r\n  }\r\n\r\n  ngModelChangeSymbol(e) {\r\n    this.filterBySymbol = e;\r\n    this.gridOptions.api.onFilterChanged();\r\n  }\r\n\r\n  onSymbolKey(e) {\r\n    this.filterBySymbol = e.srcElement.value;\r\n    this.gridOptions.api.onFilterChanged();\r\n\r\n    // For the moment we react to each key stroke\r\n    if (e.code === 'Enter' || e.code === 'Tab') {\r\n    }\r\n  }\r\n\r\n  getContextMenuItems(params): Array<ContextMenu> {\r\n    const addDefaultItems = [\r\n      {\r\n        name: 'Security Details',\r\n        subMenu: [\r\n          {\r\n            name: 'Extend',\r\n            action: () => {\r\n            this.isLoading = true;\r\n\r\n            this.securityApiService.getDataForSecurityModal(params.node.data.Symbol).subscribe(\r\n              ([config, securityDetails]: [any, any]) => {\r\n\r\n                this.isLoading = false;\r\n                if (!config.isSuccessful) {\r\n                this.toastrService.error('No security type found against the selected symbol!');\r\n                return;\r\n              }\r\n                if (securityDetails.payload.length === 0) {\r\n                this.securityModal.openSecurityModalFromOutside(params.node.data.Symbol,\r\n                  config.payload[0].SecurityType, config.payload[0].Fields, null, 'extend');\r\n              } else {\r\n                this.securityModal.openSecurityModalFromOutside(params.node.data.Symbol,\r\n                  config.payload[0].SecurityType, config.payload[0].Fields, securityDetails.payload[0], 'extend');\r\n              }\r\n\r\n              },\r\n              error => {\r\n                this.isLoading = false;\r\n              }\r\n            );\r\n            }\r\n          }\r\n        ]\r\n      }\r\n    ];\r\n\r\n    // (isDefaultItems, addDefaultItem, isCustomItems, addCustomItems, params)\r\n    return GetContextMenu(false, addDefaultItems, true, null, params);\r\n  }\r\n\r\n  setDateRange(dateFilter: any) {\r\n    const dates = SetDateRange(dateFilter, this.startDate, this.endDate);\r\n    this.startDate = dates[0];\r\n    this.endDate = dates[1];\r\n\r\n    this.selectedDate =\r\n      dateFilter.startDate !== '' ? { startDate: this.startDate, endDate: this.endDate } : null;\r\n  }\r\n\r\n  getRangeLabel() {\r\n    this.DateRangeLabel = '';\r\n    this.DateRangeLabel = GetDateRangeLabel(this.startDate, this.endDate);\r\n  }\r\n\r\n  getExternalFilterState() {\r\n    return {\r\n      fundFilter: this.fund,\r\n      symbolFilter: this.filterBySymbol,\r\n      dateFilter: {\r\n        startDate: this.startDate !== undefined ? this.startDate : '',\r\n        endDate: this.endDate !== undefined ? this.endDate : ''\r\n      }\r\n    };\r\n  }\r\n\r\n  changeDate(selectedDate) {\r\n    if (!selectedDate.startDate) {\r\n      return;\r\n    }\r\n    this.startDate = selectedDate.startDate.format('YYYY-MM-DD');\r\n    this.getReport(this.startDate, this.fund === 'All Funds' ? 'ALL' : this.fund);\r\n    this.getRangeLabel();\r\n  }\r\n\r\n  changeFund(selectedFund) {\r\n    this.fund = selectedFund;\r\n    this.getReport(this.startDate, this.fund === 'All Funds' ? 'ALL' : this.fund);\r\n  }\r\n\r\n  clearFilters() {\r\n    this.fund = 'All Funds';\r\n    this.DateRangeLabel = '';\r\n    this.endDate = undefined;\r\n    this.selectedDate = null;\r\n    this.gridOptions.api.setRowData([]);\r\n    this.portfolioOptions.api.setRowData([]);\r\n    this.bookmonOptions.api.setRowData([]);\r\n    this.filterBySymbol = '';\r\n  }\r\n\r\n  refreshReport() {\r\n    this.gridOptions.api.showLoadingOverlay();\r\n    this.portfolioOptions.api.showLoadingOverlay();\r\n    this.bookmonOptions.api.showLoadingOverlay();\r\n\r\n    if (this.selectedDate.startDate == null) {\r\n      this.selectedDate = {\r\n        startDate: moment(this.journalDate, 'YYYY-MM-DD'),\r\n        endDate: moment(this.endDate, 'YYYY-MM-DD')\r\n      };\r\n      this.getReport(this.journalDate, 'ALL');\r\n    } else {\r\n      const startDate = this.selectedDate.startDate.format('YYYY-MM-DD');\r\n      this.getReport(startDate, 'ALL');\r\n    }\r\n  }\r\n\r\n  onBtExport() {\r\n    const params = {\r\n      fileName: 'Cost Basis Reports',\r\n      sheetName: 'First Sheet'\r\n    };\r\n    this.gridOptions.api.exportDataAsExcel(params);\r\n    this.downloadExcelUtils.ToastrMessage();\r\n  }\r\n}\r\n\r\nfunction currencyFormatter(params) {\r\n  if (params.value === undefined) {\r\n    return;\r\n  }\r\n  return CommaSeparatedFormat(params.value);\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21haW4vcmVjb25jaWxpYXRpb24vcmVjb25jaWxpYXRpb24uY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport { DataService } from 'src/services/common/data.service';\r\nimport { Style } from 'src/shared/utils/Shared';\r\n\r\n@Component({\r\n  selector: 'app-reconciliation',\r\n  templateUrl: './reconciliation.component.html',\r\n  styleUrls: ['./reconciliation.component.scss']\r\n})\r\nexport class ReconciliationComponent implements OnInit {\r\n  fundadminReconcileActive = true;\r\n  dayPnLReconcileActive = false;\r\n  bookmonReconcileActive = false;\r\n  detailPnLToDateReportActive = false;\r\n  hideGrid: boolean;\r\n\r\n  style = Style;\r\n\r\n  processingMsgDiv = {\r\n    border: '1px solid #eee',\r\n    padding: '4px',\r\n    marginTop: '20px',\r\n    width: '100%',\r\n    height: 'calc(100vh - 125px)',\r\n    boxSizing: 'border-box'\r\n  };\r\n\r\n  constructor(private dataService: DataService) {\r\n    this.hideGrid = false;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.dataService.flag$.subscribe(obj => {\r\n      this.hideGrid = obj;\r\n    });\r\n  }\r\n\r\n  activateFundAdminReconcile() {\r\n    this.fundadminReconcileActive = true;\r\n  }\r\n\r\n  activateDayPnLReconcile() {\r\n    this.dayPnLReconcileActive = true;\r\n  }\r\n\r\n  activateBookmonReconcile() {\r\n    this.bookmonReconcileActive = true;\r\n  }\r\n\r\n  activateDetailPnLToDateReport() {\r\n    this.detailPnLToDateReportActive = true;\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule } from '@angular/router';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { TabsModule, ModalModule, TooltipModule } from 'ngx-bootstrap';\r\nimport { TypeaheadModule } from 'ngx-bootstrap/typeahead';\r\nimport { BsDropdownModule } from 'ngx-bootstrap/dropdown';\r\nimport { NgxDaterangepickerMd } from 'ngx-daterangepicker-material';\r\nimport { AngularSplitModule } from 'angular-split';\r\nimport { NgcatalystModule } from 'ngcatalyst';\r\nimport { LpToolkitModule } from 'lp-toolkit';\r\n\r\nimport { ReconciliationComponent } from './reconciliation.component';\r\nimport { DayPnlComponent } from '../reconciliation/daypnl-reconcile/daypnl-reconcile.component';\r\nimport { BookmonReconcileComponent } from '../reconciliation/bookmon-reconcile/bookmon-reconcile.component';\r\nimport { FundAdminReconcileComponent } from '../reconciliation/fundadmin-reconcile/fundadmin-reconcile.component';\r\nimport { DetailPnlDateComponent } from './detail-pnl-date/detail-pnl-date.component';\r\n\r\nimport { ReconciliationRoutes } from './reconciliation.routes';\r\nimport { SharedModule } from '../../shared.module';\r\n\r\nconst reconcileComponents = [\r\n  ReconciliationComponent,\r\n  DayPnlComponent,\r\n  BookmonReconcileComponent,\r\n  FundAdminReconcileComponent,\r\n  DetailPnlDateComponent\r\n];\r\n\r\n@NgModule({\r\n  declarations: [...reconcileComponents],\r\n  exports: [],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(ReconciliationRoutes),\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    TabsModule,\r\n    ModalModule,\r\n    TypeaheadModule.forRoot(),\r\n    BsDropdownModule.forRoot(),\r\n    TooltipModule,\r\n    NgxDaterangepickerMd.forRoot({\r\n      applyLabel: 'Okay',\r\n      firstDay: 1\r\n    }),\r\n    AngularSplitModule,\r\n    NgcatalystModule,\r\n    LpToolkitModule,\r\n    SharedModule\r\n  ]\r\n})\r\nexport class ReconciliationModule {}\r\n","import { Route } from '@angular/router';\r\nimport { ReconciliationComponent } from './reconciliation.component';\r\n\r\nexport const ReconciliationRoutes: Route[] = [\r\n  {\r\n    path: '',\r\n    component: ReconciliationComponent\r\n  }\r\n];\r\n"],"sourceRoot":"webpack:///"}